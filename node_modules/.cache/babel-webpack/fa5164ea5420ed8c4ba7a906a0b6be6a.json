{"ast":null,"code":"/*!\n * Intro.js v3.3.1\n * https://introjs.com\n *\n * Copyright (C) 2012-2021 Afshin Mehrabani (@afshinmeh).\n * https://raw.githubusercontent.com/usablica/intro.js/master/license.md\n *\n * Date: Sun, 07 Feb 2021 12:38:48 GMT\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = global || self, global.introJs = factory());\n})(this, function () {\n  'use strict';\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n  /**\n   * Overwrites obj1's values with obj2's and adds obj2's if non existent in obj1\n   * via: http://stackoverflow.com/questions/171251/how-can-i-merge-properties-of-two-javascript-objects-dynamically\n   *\n   * @param obj1\n   * @param obj2\n   * @returns obj3 a new object based on obj1 and obj2\n   */\n\n\n  function mergeOptions(obj1, obj2) {\n    var obj3 = {};\n    var attrname;\n\n    for (attrname in obj1) {\n      obj3[attrname] = obj1[attrname];\n    }\n\n    for (attrname in obj2) {\n      obj3[attrname] = obj2[attrname];\n    }\n\n    return obj3;\n  }\n  /**\n   * Mark any object with an incrementing number\n   * used for keeping track of objects\n   *\n   * @param Object obj   Any object or DOM Element\n   * @param String key\n   * @return Object\n   */\n\n\n  var stamp = function () {\n    var keys = {};\n    return function stamp(obj) {\n      var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"introjs-stamp\"; // each group increments from 0\n\n      keys[key] = keys[key] || 0; // stamp only once per object\n\n      if (obj[key] === undefined) {\n        // increment key for each new object\n        obj[key] = keys[key]++;\n      }\n\n      return obj[key];\n    };\n  }();\n  /**\n   * Iterates arrays\n   *\n   * @param {Array} arr\n   * @param {Function} forEachFnc\n   * @param {Function} completeFnc\n   * @return {Null}\n   */\n\n\n  function forEach(arr, forEachFnc, completeFnc) {\n    // in case arr is an empty query selector node list\n    if (arr) {\n      for (var i = 0, len = arr.length; i < len; i++) {\n        forEachFnc(arr[i], i);\n      }\n    }\n\n    if (typeof completeFnc === \"function\") {\n      completeFnc();\n    }\n  }\n  /**\n   * DOMEvent Handles all DOM events\n   *\n   * methods:\n   *\n   * on - add event handler\n   * off - remove event\n   */\n\n\n  var DOMEvent = function () {\n    function DOMEvent() {\n      var events_key = \"introjs_event\";\n      /**\n       * Gets a unique ID for an event listener\n       *\n       * @param obj Object\n       * @param type event type\n       * @param listener Function\n       * @param context Object\n       * @return String\n       */\n\n      this._id = function (obj, type, listener, context) {\n        return type + stamp(listener) + (context ? \"_\".concat(stamp(context)) : \"\");\n      };\n      /**\n       * Adds event listener\n       *\n       * @param obj Object obj\n       * @param type String\n       * @param listener Function\n       * @param context Object\n       * @param useCapture Boolean\n       * @return null\n       */\n\n\n      this.on = function (obj, type, listener, context, useCapture) {\n        var id = this._id.apply(this, arguments);\n\n        var handler = function handler(e) {\n          return listener.call(context || obj, e || window.event);\n        };\n\n        if (\"addEventListener\" in obj) {\n          obj.addEventListener(type, handler, useCapture);\n        } else if (\"attachEvent\" in obj) {\n          obj.attachEvent(\"on\".concat(type), handler);\n        }\n\n        obj[events_key] = obj[events_key] || {};\n        obj[events_key][id] = handler;\n      };\n      /**\n       * Removes event listener\n       *\n       * @param obj Object\n       * @param type String\n       * @param listener Function\n       * @param context Object\n       * @param useCapture Boolean\n       * @return null\n       */\n\n\n      this.off = function (obj, type, listener, context, useCapture) {\n        var id = this._id.apply(this, arguments);\n\n        var handler = obj[events_key] && obj[events_key][id];\n\n        if (!handler) {\n          return;\n        }\n\n        if (\"removeEventListener\" in obj) {\n          obj.removeEventListener(type, handler, useCapture);\n        } else if (\"detachEvent\" in obj) {\n          obj.detachEvent(\"on\".concat(type), handler);\n        }\n\n        obj[events_key][id] = null;\n      };\n    }\n\n    return new DOMEvent();\n  }();\n\n  var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n  function createCommonjsModule(fn, module) {\n    return module = {\n      exports: {}\n    }, fn(module, module.exports), module.exports;\n  }\n\n  var check = function check(it) {\n    return it && it.Math == Math && it;\n  }; // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n\n\n  var global_1 = // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) || check(typeof window == 'object' && window) || check(typeof self == 'object' && self) || check(typeof commonjsGlobal == 'object' && commonjsGlobal) || // eslint-disable-next-line no-new-func\n  function () {\n    return this;\n  }() || Function('return this')();\n\n  var fails = function fails(exec) {\n    try {\n      return !!exec();\n    } catch (error) {\n      return true;\n    }\n  }; // Detect IE8's incomplete defineProperty implementation\n\n\n  var descriptors = !fails(function () {\n    return Object.defineProperty({}, 1, {\n      get: function get() {\n        return 7;\n      }\n    })[1] != 7;\n  });\n  var nativePropertyIsEnumerable = {}.propertyIsEnumerable;\n  var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor; // Nashorn ~ JDK8 bug\n\n  var NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({\n    1: 2\n  }, 1); // `Object.prototype.propertyIsEnumerable` method implementation\n  // https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\n\n  var f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n    var descriptor = getOwnPropertyDescriptor(this, V);\n    return !!descriptor && descriptor.enumerable;\n  } : nativePropertyIsEnumerable;\n  var objectPropertyIsEnumerable = {\n    f: f\n  };\n\n  var createPropertyDescriptor = function createPropertyDescriptor(bitmap, value) {\n    return {\n      enumerable: !(bitmap & 1),\n      configurable: !(bitmap & 2),\n      writable: !(bitmap & 4),\n      value: value\n    };\n  };\n\n  var toString = {}.toString;\n\n  var classofRaw = function classofRaw(it) {\n    return toString.call(it).slice(8, -1);\n  };\n\n  var split = ''.split; // fallback for non-array-like ES3 and non-enumerable old V8 strings\n\n  var indexedObject = fails(function () {\n    // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n    // eslint-disable-next-line no-prototype-builtins\n    return !Object('z').propertyIsEnumerable(0);\n  }) ? function (it) {\n    return classofRaw(it) == 'String' ? split.call(it, '') : Object(it);\n  } : Object; // `RequireObjectCoercible` abstract operation\n  // https://tc39.es/ecma262/#sec-requireobjectcoercible\n\n  var requireObjectCoercible = function requireObjectCoercible(it) {\n    if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n    return it;\n  }; // toObject with fallback for non-array-like ES3 strings\n\n\n  var toIndexedObject = function toIndexedObject(it) {\n    return indexedObject(requireObjectCoercible(it));\n  };\n\n  var isObject = function isObject(it) {\n    return typeof it === 'object' ? it !== null : typeof it === 'function';\n  }; // `ToPrimitive` abstract operation\n  // https://tc39.es/ecma262/#sec-toprimitive\n  // instead of the ES6 spec version, we didn't implement @@toPrimitive case\n  // and the second argument - flag - preferred type is a string\n\n\n  var toPrimitive = function toPrimitive(input, PREFERRED_STRING) {\n    if (!isObject(input)) return input;\n    var fn, val;\n    if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n    if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n    if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n    throw TypeError(\"Can't convert object to primitive value\");\n  };\n\n  var hasOwnProperty = {}.hasOwnProperty;\n\n  var has = function has(it, key) {\n    return hasOwnProperty.call(it, key);\n  };\n\n  var document$1 = global_1.document; // typeof document.createElement is 'object' in old IE\n\n  var EXISTS = isObject(document$1) && isObject(document$1.createElement);\n\n  var documentCreateElement = function documentCreateElement(it) {\n    return EXISTS ? document$1.createElement(it) : {};\n  }; // Thank's IE8 for his funny defineProperty\n\n\n  var ie8DomDefine = !descriptors && !fails(function () {\n    return Object.defineProperty(documentCreateElement('div'), 'a', {\n      get: function get() {\n        return 7;\n      }\n    }).a != 7;\n  });\n  var nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor; // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\n\n  var f$1 = descriptors ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n    O = toIndexedObject(O);\n    P = toPrimitive(P, true);\n    if (ie8DomDefine) try {\n      return nativeGetOwnPropertyDescriptor(O, P);\n    } catch (error) {\n      /* empty */\n    }\n    if (has(O, P)) return createPropertyDescriptor(!objectPropertyIsEnumerable.f.call(O, P), O[P]);\n  };\n  var objectGetOwnPropertyDescriptor = {\n    f: f$1\n  };\n\n  var anObject = function anObject(it) {\n    if (!isObject(it)) {\n      throw TypeError(String(it) + ' is not an object');\n    }\n\n    return it;\n  };\n\n  var nativeDefineProperty = Object.defineProperty; // `Object.defineProperty` method\n  // https://tc39.es/ecma262/#sec-object.defineproperty\n\n  var f$2 = descriptors ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n    anObject(O);\n    P = toPrimitive(P, true);\n    anObject(Attributes);\n    if (ie8DomDefine) try {\n      return nativeDefineProperty(O, P, Attributes);\n    } catch (error) {\n      /* empty */\n    }\n    if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n    if ('value' in Attributes) O[P] = Attributes.value;\n    return O;\n  };\n  var objectDefineProperty = {\n    f: f$2\n  };\n  var createNonEnumerableProperty = descriptors ? function (object, key, value) {\n    return objectDefineProperty.f(object, key, createPropertyDescriptor(1, value));\n  } : function (object, key, value) {\n    object[key] = value;\n    return object;\n  };\n\n  var setGlobal = function setGlobal(key, value) {\n    try {\n      createNonEnumerableProperty(global_1, key, value);\n    } catch (error) {\n      global_1[key] = value;\n    }\n\n    return value;\n  };\n\n  var SHARED = '__core-js_shared__';\n  var store = global_1[SHARED] || setGlobal(SHARED, {});\n  var sharedStore = store;\n  var functionToString = Function.toString; // this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\n\n  if (typeof sharedStore.inspectSource != 'function') {\n    sharedStore.inspectSource = function (it) {\n      return functionToString.call(it);\n    };\n  }\n\n  var inspectSource = sharedStore.inspectSource;\n  var WeakMap = global_1.WeakMap;\n  var nativeWeakMap = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n  var shared = createCommonjsModule(function (module) {\n    (module.exports = function (key, value) {\n      return sharedStore[key] || (sharedStore[key] = value !== undefined ? value : {});\n    })('versions', []).push({\n      version: '3.8.3',\n      mode: 'global',\n      copyright: 'Â© 2021 Denis Pushkarev (zloirock.ru)'\n    });\n  });\n  var id = 0;\n  var postfix = Math.random();\n\n  var uid = function uid(key) {\n    return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n  };\n\n  var keys = shared('keys');\n\n  var sharedKey = function sharedKey(key) {\n    return keys[key] || (keys[key] = uid(key));\n  };\n\n  var hiddenKeys = {};\n  var WeakMap$1 = global_1.WeakMap;\n  var set, get, has$1;\n\n  var enforce = function enforce(it) {\n    return has$1(it) ? get(it) : set(it, {});\n  };\n\n  var getterFor = function getterFor(TYPE) {\n    return function (it) {\n      var state;\n\n      if (!isObject(it) || (state = get(it)).type !== TYPE) {\n        throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n      }\n\n      return state;\n    };\n  };\n\n  if (nativeWeakMap) {\n    var store$1 = sharedStore.state || (sharedStore.state = new WeakMap$1());\n    var wmget = store$1.get;\n    var wmhas = store$1.has;\n    var wmset = store$1.set;\n\n    set = function set(it, metadata) {\n      metadata.facade = it;\n      wmset.call(store$1, it, metadata);\n      return metadata;\n    };\n\n    get = function get(it) {\n      return wmget.call(store$1, it) || {};\n    };\n\n    has$1 = function has$1(it) {\n      return wmhas.call(store$1, it);\n    };\n  } else {\n    var STATE = sharedKey('state');\n    hiddenKeys[STATE] = true;\n\n    set = function set(it, metadata) {\n      metadata.facade = it;\n      createNonEnumerableProperty(it, STATE, metadata);\n      return metadata;\n    };\n\n    get = function get(it) {\n      return has(it, STATE) ? it[STATE] : {};\n    };\n\n    has$1 = function has$1(it) {\n      return has(it, STATE);\n    };\n  }\n\n  var internalState = {\n    set: set,\n    get: get,\n    has: has$1,\n    enforce: enforce,\n    getterFor: getterFor\n  };\n  var redefine = createCommonjsModule(function (module) {\n    var getInternalState = internalState.get;\n    var enforceInternalState = internalState.enforce;\n    var TEMPLATE = String(String).split('String');\n    (module.exports = function (O, key, value, options) {\n      var unsafe = options ? !!options.unsafe : false;\n      var simple = options ? !!options.enumerable : false;\n      var noTargetGet = options ? !!options.noTargetGet : false;\n      var state;\n\n      if (typeof value == 'function') {\n        if (typeof key == 'string' && !has(value, 'name')) {\n          createNonEnumerableProperty(value, 'name', key);\n        }\n\n        state = enforceInternalState(value);\n\n        if (!state.source) {\n          state.source = TEMPLATE.join(typeof key == 'string' ? key : '');\n        }\n      }\n\n      if (O === global_1) {\n        if (simple) O[key] = value;else setGlobal(key, value);\n        return;\n      } else if (!unsafe) {\n        delete O[key];\n      } else if (!noTargetGet && O[key]) {\n        simple = true;\n      }\n\n      if (simple) O[key] = value;else createNonEnumerableProperty(O, key, value); // add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n    })(Function.prototype, 'toString', function toString() {\n      return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n    });\n  });\n  var path = global_1;\n\n  var aFunction = function aFunction(variable) {\n    return typeof variable == 'function' ? variable : undefined;\n  };\n\n  var getBuiltIn = function getBuiltIn(namespace, method) {\n    return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global_1[namespace]) : path[namespace] && path[namespace][method] || global_1[namespace] && global_1[namespace][method];\n  };\n\n  var ceil = Math.ceil;\n  var floor = Math.floor; // `ToInteger` abstract operation\n  // https://tc39.es/ecma262/#sec-tointeger\n\n  var toInteger = function toInteger(argument) {\n    return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n  };\n\n  var min = Math.min; // `ToLength` abstract operation\n  // https://tc39.es/ecma262/#sec-tolength\n\n  var toLength = function toLength(argument) {\n    return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n  };\n\n  var max = Math.max;\n  var min$1 = Math.min; // Helper for a popular repeating case of the spec:\n  // Let integer be ? ToInteger(index).\n  // If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\n\n  var toAbsoluteIndex = function toAbsoluteIndex(index, length) {\n    var integer = toInteger(index);\n    return integer < 0 ? max(integer + length, 0) : min$1(integer, length);\n  }; // `Array.prototype.{ indexOf, includes }` methods implementation\n\n\n  var createMethod = function createMethod(IS_INCLUDES) {\n    return function ($this, el, fromIndex) {\n      var O = toIndexedObject($this);\n      var length = toLength(O.length);\n      var index = toAbsoluteIndex(fromIndex, length);\n      var value; // Array#includes uses SameValueZero equality algorithm\n      // eslint-disable-next-line no-self-compare\n\n      if (IS_INCLUDES && el != el) while (length > index) {\n        value = O[index++]; // eslint-disable-next-line no-self-compare\n\n        if (value != value) return true; // Array#indexOf ignores holes, Array#includes - not\n      } else for (; length > index; index++) {\n        if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n      }\n      return !IS_INCLUDES && -1;\n    };\n  };\n\n  var arrayIncludes = {\n    // `Array.prototype.includes` method\n    // https://tc39.es/ecma262/#sec-array.prototype.includes\n    includes: createMethod(true),\n    // `Array.prototype.indexOf` method\n    // https://tc39.es/ecma262/#sec-array.prototype.indexof\n    indexOf: createMethod(false)\n  };\n  var indexOf = arrayIncludes.indexOf;\n\n  var objectKeysInternal = function objectKeysInternal(object, names) {\n    var O = toIndexedObject(object);\n    var i = 0;\n    var result = [];\n    var key;\n\n    for (key in O) {\n      !has(hiddenKeys, key) && has(O, key) && result.push(key);\n    } // Don't enum bug & hidden keys\n\n\n    while (names.length > i) {\n      if (has(O, key = names[i++])) {\n        ~indexOf(result, key) || result.push(key);\n      }\n    }\n\n    return result;\n  }; // IE8- don't enum bug keys\n\n\n  var enumBugKeys = ['constructor', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable', 'toLocaleString', 'toString', 'valueOf'];\n  var hiddenKeys$1 = enumBugKeys.concat('length', 'prototype'); // `Object.getOwnPropertyNames` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertynames\n\n  var f$3 = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n    return objectKeysInternal(O, hiddenKeys$1);\n  };\n\n  var objectGetOwnPropertyNames = {\n    f: f$3\n  };\n  var f$4 = Object.getOwnPropertySymbols;\n  var objectGetOwnPropertySymbols = {\n    f: f$4\n  }; // all object keys, includes non-enumerable and symbols\n\n  var ownKeys = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n    var keys = objectGetOwnPropertyNames.f(anObject(it));\n    var getOwnPropertySymbols = objectGetOwnPropertySymbols.f;\n    return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n  };\n\n  var copyConstructorProperties = function copyConstructorProperties(target, source) {\n    var keys = ownKeys(source);\n    var defineProperty = objectDefineProperty.f;\n    var getOwnPropertyDescriptor = objectGetOwnPropertyDescriptor.f;\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  };\n\n  var replacement = /#|\\.prototype\\./;\n\n  var isForced = function isForced(feature, detection) {\n    var value = data[normalize(feature)];\n    return value == POLYFILL ? true : value == NATIVE ? false : typeof detection == 'function' ? fails(detection) : !!detection;\n  };\n\n  var normalize = isForced.normalize = function (string) {\n    return String(string).replace(replacement, '.').toLowerCase();\n  };\n\n  var data = isForced.data = {};\n  var NATIVE = isForced.NATIVE = 'N';\n  var POLYFILL = isForced.POLYFILL = 'P';\n  var isForced_1 = isForced;\n  var getOwnPropertyDescriptor$1 = objectGetOwnPropertyDescriptor.f;\n  /*\n    options.target      - name of the target object\n    options.global      - target is the global object\n    options.stat        - export as static methods of target\n    options.proto       - export as prototype methods of target\n    options.real        - real prototype method for the `pure` version\n    options.forced      - export even if the native feature is available\n    options.bind        - bind methods to the target, required for the `pure` version\n    options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n    options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n    options.sham        - add a flag to not completely full polyfills\n    options.enumerable  - export as enumerable property\n    options.noTargetGet - prevent calling a getter on target\n  */\n\n  var _export = function _export(options, source) {\n    var TARGET = options.target;\n    var GLOBAL = options.global;\n    var STATIC = options.stat;\n    var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n\n    if (GLOBAL) {\n      target = global_1;\n    } else if (STATIC) {\n      target = global_1[TARGET] || setGlobal(TARGET, {});\n    } else {\n      target = (global_1[TARGET] || {}).prototype;\n    }\n\n    if (target) for (key in source) {\n      sourceProperty = source[key];\n\n      if (options.noTargetGet) {\n        descriptor = getOwnPropertyDescriptor$1(target, key);\n        targetProperty = descriptor && descriptor.value;\n      } else targetProperty = target[key];\n\n      FORCED = isForced_1(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced); // contained in target\n\n      if (!FORCED && targetProperty !== undefined) {\n        if (typeof sourceProperty === typeof targetProperty) continue;\n        copyConstructorProperties(sourceProperty, targetProperty);\n      } // add a flag to not completely full polyfills\n\n\n      if (options.sham || targetProperty && targetProperty.sham) {\n        createNonEnumerableProperty(sourceProperty, 'sham', true);\n      } // extend global\n\n\n      redefine(target, key, sourceProperty, options);\n    }\n  }; // `RegExp.prototype.flags` getter implementation\n  // https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\n\n\n  var regexpFlags = function regexpFlags() {\n    var that = anObject(this);\n    var result = '';\n    if (that.global) result += 'g';\n    if (that.ignoreCase) result += 'i';\n    if (that.multiline) result += 'm';\n    if (that.dotAll) result += 's';\n    if (that.unicode) result += 'u';\n    if (that.sticky) result += 'y';\n    return result;\n  }; // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n  // so we use an intermediate function.\n\n\n  function RE(s, f) {\n    return RegExp(s, f);\n  }\n\n  var UNSUPPORTED_Y = fails(function () {\n    // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n    var re = RE('a', 'y');\n    re.lastIndex = 2;\n    return re.exec('abcd') != null;\n  });\n  var BROKEN_CARET = fails(function () {\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n    var re = RE('^r', 'gy');\n    re.lastIndex = 2;\n    return re.exec('str') != null;\n  });\n  var regexpStickyHelpers = {\n    UNSUPPORTED_Y: UNSUPPORTED_Y,\n    BROKEN_CARET: BROKEN_CARET\n  };\n  var nativeExec = RegExp.prototype.exec; // This always refers to the native implementation, because the\n  // String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n  // which loads this file before patching the method.\n\n  var nativeReplace = String.prototype.replace;\n  var patchedExec = nativeExec;\n\n  var UPDATES_LAST_INDEX_WRONG = function () {\n    var re1 = /a/;\n    var re2 = /b*/g;\n    nativeExec.call(re1, 'a');\n    nativeExec.call(re2, 'a');\n    return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n  }();\n\n  var UNSUPPORTED_Y$1 = regexpStickyHelpers.UNSUPPORTED_Y || regexpStickyHelpers.BROKEN_CARET; // nonparticipating capturing group, copied from es5-shim's String#split patch.\n\n  var NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n  var PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y$1;\n\n  if (PATCH) {\n    patchedExec = function exec(str) {\n      var re = this;\n      var lastIndex, reCopy, match, i;\n      var sticky = UNSUPPORTED_Y$1 && re.sticky;\n      var flags = regexpFlags.call(re);\n      var source = re.source;\n      var charsAdded = 0;\n      var strCopy = str;\n\n      if (sticky) {\n        flags = flags.replace('y', '');\n\n        if (flags.indexOf('g') === -1) {\n          flags += 'g';\n        }\n\n        strCopy = String(str).slice(re.lastIndex); // Support anchored sticky behavior.\n\n        if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n          source = '(?: ' + source + ')';\n          strCopy = ' ' + strCopy;\n          charsAdded++;\n        } // ^(? + rx + ) is needed, in combination with some str slicing, to\n        // simulate the 'y' flag.\n\n\n        reCopy = new RegExp('^(?:' + source + ')', flags);\n      }\n\n      if (NPCG_INCLUDED) {\n        reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n      }\n\n      if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n      match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n      if (sticky) {\n        if (match) {\n          match.input = match.input.slice(charsAdded);\n          match[0] = match[0].slice(charsAdded);\n          match.index = re.lastIndex;\n          re.lastIndex += match[0].length;\n        } else re.lastIndex = 0;\n      } else if (UPDATES_LAST_INDEX_WRONG && match) {\n        re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n      }\n\n      if (NPCG_INCLUDED && match && match.length > 1) {\n        // Fix browsers whose `exec` methods don't consistently return `undefined`\n        // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n        nativeReplace.call(match[0], reCopy, function () {\n          for (i = 1; i < arguments.length - 2; i++) {\n            if (arguments[i] === undefined) match[i] = undefined;\n          }\n        });\n      }\n\n      return match;\n    };\n  }\n\n  var regexpExec = patchedExec; // `RegExp.prototype.exec` method\n  // https://tc39.es/ecma262/#sec-regexp.prototype.exec\n\n  _export({\n    target: 'RegExp',\n    proto: true,\n    forced: /./.exec !== regexpExec\n  }, {\n    exec: regexpExec\n  });\n\n  var nativeSymbol = !!Object.getOwnPropertySymbols && !fails(function () {\n    // Chrome 38 Symbol has incorrect toString conversion\n    // eslint-disable-next-line no-undef\n    return !String(Symbol());\n  });\n  var useSymbolAsUid = nativeSymbol // eslint-disable-next-line no-undef\n  && !Symbol.sham // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n  var WellKnownSymbolsStore = shared('wks');\n  var Symbol$1 = global_1.Symbol;\n  var createWellKnownSymbol = useSymbolAsUid ? Symbol$1 : Symbol$1 && Symbol$1.withoutSetter || uid;\n\n  var wellKnownSymbol = function wellKnownSymbol(name) {\n    if (!has(WellKnownSymbolsStore, name)) {\n      if (nativeSymbol && has(Symbol$1, name)) WellKnownSymbolsStore[name] = Symbol$1[name];else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n    }\n\n    return WellKnownSymbolsStore[name];\n  }; // TODO: Remove from `core-js@4` since it's moved to entry points\n\n\n  var SPECIES = wellKnownSymbol('species');\n  var REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n    // #replace needs built-in support for named groups.\n    // #match works fine because it just return the exec results, even if it has\n    // a \"grops\" property.\n    var re = /./;\n\n    re.exec = function () {\n      var result = [];\n      result.groups = {\n        a: '7'\n      };\n      return result;\n    };\n\n    return ''.replace(re, '$<a>') !== '7';\n  }); // IE <= 11 replaces $0 with the whole match, as if it was $&\n  // https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\n\n  var REPLACE_KEEPS_$0 = function () {\n    return 'a'.replace(/./, '$0') === '$0';\n  }();\n\n  var REPLACE = wellKnownSymbol('replace'); // Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\n\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = function () {\n    if (/./[REPLACE]) {\n      return /./[REPLACE]('a', '$0') === '';\n    }\n\n    return false;\n  }(); // Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n  // Weex JS has frozen built-in prototypes, so use try / catch wrapper\n\n\n  var SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n    var re = /(?:)/;\n    var originalExec = re.exec;\n\n    re.exec = function () {\n      return originalExec.apply(this, arguments);\n    };\n\n    var result = 'ab'.split(re);\n    return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n  });\n\n  var fixRegexpWellKnownSymbolLogic = function fixRegexpWellKnownSymbolLogic(KEY, length, exec, sham) {\n    var SYMBOL = wellKnownSymbol(KEY);\n    var DELEGATES_TO_SYMBOL = !fails(function () {\n      // String methods call symbol-named RegEp methods\n      var O = {};\n\n      O[SYMBOL] = function () {\n        return 7;\n      };\n\n      return ''[KEY](O) != 7;\n    });\n    var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n      // Symbol-named RegExp methods call .exec\n      var execCalled = false;\n      var re = /a/;\n\n      if (KEY === 'split') {\n        // We can't use real regex here since it causes deoptimization\n        // and serious performance degradation in V8\n        // https://github.com/zloirock/core-js/issues/306\n        re = {}; // RegExp[@@split] doesn't call the regex's exec method, but first creates\n        // a new one. We need to return the patched regex when creating the new one.\n\n        re.constructor = {};\n\n        re.constructor[SPECIES] = function () {\n          return re;\n        };\n\n        re.flags = '';\n        re[SYMBOL] = /./[SYMBOL];\n      }\n\n      re.exec = function () {\n        execCalled = true;\n        return null;\n      };\n\n      re[SYMBOL]('');\n      return !execCalled;\n    });\n\n    if (!DELEGATES_TO_SYMBOL || !DELEGATES_TO_EXEC || KEY === 'replace' && !(REPLACE_SUPPORTS_NAMED_GROUPS && REPLACE_KEEPS_$0 && !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE) || KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC) {\n      var nativeRegExpMethod = /./[SYMBOL];\n      var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n        if (regexp.exec === regexpExec) {\n          if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n            // The native String method already delegates to @@method (this\n            // polyfilled function), leasing to infinite recursion.\n            // We avoid it by directly calling the native @@method method.\n            return {\n              done: true,\n              value: nativeRegExpMethod.call(regexp, str, arg2)\n            };\n          }\n\n          return {\n            done: true,\n            value: nativeMethod.call(str, regexp, arg2)\n          };\n        }\n\n        return {\n          done: false\n        };\n      }, {\n        REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n        REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n      });\n      var stringMethod = methods[0];\n      var regexMethod = methods[1];\n      redefine(String.prototype, KEY, stringMethod);\n      redefine(RegExp.prototype, SYMBOL, length == 2 // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) {\n        return regexMethod.call(string, this, arg);\n      } // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) {\n        return regexMethod.call(string, this);\n      });\n    }\n\n    if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n  }; // `String.prototype.{ codePointAt, at }` methods implementation\n\n\n  var createMethod$1 = function createMethod$1(CONVERT_TO_STRING) {\n    return function ($this, pos) {\n      var S = String(requireObjectCoercible($this));\n      var position = toInteger(pos);\n      var size = S.length;\n      var first, second;\n      if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n      first = S.charCodeAt(position);\n      return first < 0xD800 || first > 0xDBFF || position + 1 === size || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF ? CONVERT_TO_STRING ? S.charAt(position) : first : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n    };\n  };\n\n  var stringMultibyte = {\n    // `String.prototype.codePointAt` method\n    // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n    codeAt: createMethod$1(false),\n    // `String.prototype.at` method\n    // https://github.com/mathiasbynens/String.prototype.at\n    charAt: createMethod$1(true)\n  };\n  var charAt = stringMultibyte.charAt; // `AdvanceStringIndex` abstract operation\n  // https://tc39.es/ecma262/#sec-advancestringindex\n\n  var advanceStringIndex = function advanceStringIndex(S, index, unicode) {\n    return index + (unicode ? charAt(S, index).length : 1);\n  }; // `RegExpExec` abstract operation\n  // https://tc39.es/ecma262/#sec-regexpexec\n\n\n  var regexpExecAbstract = function regexpExecAbstract(R, S) {\n    var exec = R.exec;\n\n    if (typeof exec === 'function') {\n      var result = exec.call(R, S);\n\n      if (typeof result !== 'object') {\n        throw TypeError('RegExp exec method returned something other than an Object or null');\n      }\n\n      return result;\n    }\n\n    if (classofRaw(R) !== 'RegExp') {\n      throw TypeError('RegExp#exec called on incompatible receiver');\n    }\n\n    return regexpExec.call(R, S);\n  }; // @@match logic\n\n\n  fixRegexpWellKnownSymbolLogic('match', 1, function (MATCH, nativeMatch, maybeCallNative) {\n    return [// `String.prototype.match` method\n    // https://tc39.es/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = requireObjectCoercible(this);\n      var matcher = regexp == undefined ? undefined : regexp[MATCH];\n      return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    }, // `RegExp.prototype[@@match]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative(nativeMatch, regexp, this);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      if (!rx.global) return regexpExecAbstract(rx, S);\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n\n      while ((result = regexpExecAbstract(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n\n      return n === 0 ? null : A;\n    }];\n  }); // `IsArray` abstract operation\n  // https://tc39.es/ecma262/#sec-isarray\n\n  var isArray = Array.isArray || function isArray(arg) {\n    return classofRaw(arg) == 'Array';\n  }; // `ToObject` abstract operation\n  // https://tc39.es/ecma262/#sec-toobject\n\n\n  var toObject = function toObject(argument) {\n    return Object(requireObjectCoercible(argument));\n  };\n\n  var createProperty = function createProperty(object, key, value) {\n    var propertyKey = toPrimitive(key);\n    if (propertyKey in object) objectDefineProperty.f(object, propertyKey, createPropertyDescriptor(0, value));else object[propertyKey] = value;\n  };\n\n  var SPECIES$1 = wellKnownSymbol('species'); // `ArraySpeciesCreate` abstract operation\n  // https://tc39.es/ecma262/#sec-arrayspeciescreate\n\n  var arraySpeciesCreate = function arraySpeciesCreate(originalArray, length) {\n    var C;\n\n    if (isArray(originalArray)) {\n      C = originalArray.constructor; // cross-realm fallback\n\n      if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;else if (isObject(C)) {\n        C = C[SPECIES$1];\n        if (C === null) C = undefined;\n      }\n    }\n\n    return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n  };\n\n  var engineUserAgent = getBuiltIn('navigator', 'userAgent') || '';\n  var process = global_1.process;\n  var versions = process && process.versions;\n  var v8 = versions && versions.v8;\n  var match, version;\n\n  if (v8) {\n    match = v8.split('.');\n    version = match[0] + match[1];\n  } else if (engineUserAgent) {\n    match = engineUserAgent.match(/Edge\\/(\\d+)/);\n\n    if (!match || match[1] >= 74) {\n      match = engineUserAgent.match(/Chrome\\/(\\d+)/);\n      if (match) version = match[1];\n    }\n  }\n\n  var engineV8Version = version && +version;\n  var SPECIES$2 = wellKnownSymbol('species');\n\n  var arrayMethodHasSpeciesSupport = function arrayMethodHasSpeciesSupport(METHOD_NAME) {\n    // We can't use this feature detection in V8 since it causes\n    // deoptimization and serious performance degradation\n    // https://github.com/zloirock/core-js/issues/677\n    return engineV8Version >= 51 || !fails(function () {\n      var array = [];\n      var constructor = array.constructor = {};\n\n      constructor[SPECIES$2] = function () {\n        return {\n          foo: 1\n        };\n      };\n\n      return array[METHOD_NAME](Boolean).foo !== 1;\n    });\n  };\n\n  var IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\n  var MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\n  var MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded'; // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n\n  var IS_CONCAT_SPREADABLE_SUPPORT = engineV8Version >= 51 || !fails(function () {\n    var array = [];\n    array[IS_CONCAT_SPREADABLE] = false;\n    return array.concat()[0] !== array;\n  });\n  var SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\n  var isConcatSpreadable = function isConcatSpreadable(O) {\n    if (!isObject(O)) return false;\n    var spreadable = O[IS_CONCAT_SPREADABLE];\n    return spreadable !== undefined ? !!spreadable : isArray(O);\n  };\n\n  var FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT; // `Array.prototype.concat` method\n  // https://tc39.es/ecma262/#sec-array.prototype.concat\n  // with adding support of @@isConcatSpreadable and @@species\n\n  _export({\n    target: 'Array',\n    proto: true,\n    forced: FORCED\n  }, {\n    concat: function concat(arg) {\n      // eslint-disable-line no-unused-vars\n      var O = toObject(this);\n      var A = arraySpeciesCreate(O, 0);\n      var n = 0;\n      var i, k, length, len, E;\n\n      for (i = -1, length = arguments.length; i < length; i++) {\n        E = i === -1 ? O : arguments[i];\n\n        if (isConcatSpreadable(E)) {\n          len = toLength(E.length);\n          if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n\n          for (k = 0; k < len; k++, n++) {\n            if (k in E) createProperty(A, n, E[k]);\n          }\n        } else {\n          if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n          createProperty(A, n++, E);\n        }\n      }\n\n      A.length = n;\n      return A;\n    }\n  });\n\n  var TO_STRING_TAG = wellKnownSymbol('toStringTag');\n  var test = {};\n  test[TO_STRING_TAG] = 'z';\n  var toStringTagSupport = String(test) === '[object z]';\n  var TO_STRING_TAG$1 = wellKnownSymbol('toStringTag'); // ES3 wrong here\n\n  var CORRECT_ARGUMENTS = classofRaw(function () {\n    return arguments;\n  }()) == 'Arguments'; // fallback for IE11 Script Access Denied error\n\n  var tryGet = function tryGet(it, key) {\n    try {\n      return it[key];\n    } catch (error) {\n      /* empty */\n    }\n  }; // getting tag from ES6+ `Object.prototype.toString`\n\n\n  var classof = toStringTagSupport ? classofRaw : function (it) {\n    var O, tag, result;\n    return it === undefined ? 'Undefined' : it === null ? 'Null' // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG$1)) == 'string' ? tag // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O) // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n  }; // `Object.prototype.toString` method implementation\n  // https://tc39.es/ecma262/#sec-object.prototype.tostring\n\n  var objectToString = toStringTagSupport ? {}.toString : function toString() {\n    return '[object ' + classof(this) + ']';\n  }; // `Object.prototype.toString` method\n  // https://tc39.es/ecma262/#sec-object.prototype.tostring\n\n  if (!toStringTagSupport) {\n    redefine(Object.prototype, 'toString', objectToString, {\n      unsafe: true\n    });\n  }\n\n  var TO_STRING = 'toString';\n  var RegExpPrototype = RegExp.prototype;\n  var nativeToString = RegExpPrototype[TO_STRING];\n  var NOT_GENERIC = fails(function () {\n    return nativeToString.call({\n      source: 'a',\n      flags: 'b'\n    }) != '/a/b';\n  }); // FF44- RegExp#toString has a wrong name\n\n  var INCORRECT_NAME = nativeToString.name != TO_STRING; // `RegExp.prototype.toString` method\n  // https://tc39.es/ecma262/#sec-regexp.prototype.tostring\n\n  if (NOT_GENERIC || INCORRECT_NAME) {\n    redefine(RegExp.prototype, TO_STRING, function toString() {\n      var R = anObject(this);\n      var p = String(R.source);\n      var rf = R.flags;\n      var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? regexpFlags.call(R) : rf);\n      return '/' + p + '/' + f;\n    }, {\n      unsafe: true\n    });\n  }\n\n  var MATCH = wellKnownSymbol('match'); // `IsRegExp` abstract operation\n  // https://tc39.es/ecma262/#sec-isregexp\n\n  var isRegexp = function isRegexp(it) {\n    var isRegExp;\n    return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classofRaw(it) == 'RegExp');\n  };\n\n  var aFunction$1 = function aFunction$1(it) {\n    if (typeof it != 'function') {\n      throw TypeError(String(it) + ' is not a function');\n    }\n\n    return it;\n  };\n\n  var SPECIES$3 = wellKnownSymbol('species'); // `SpeciesConstructor` abstract operation\n  // https://tc39.es/ecma262/#sec-speciesconstructor\n\n  var speciesConstructor = function speciesConstructor(O, defaultConstructor) {\n    var C = anObject(O).constructor;\n    var S;\n    return C === undefined || (S = anObject(C)[SPECIES$3]) == undefined ? defaultConstructor : aFunction$1(S);\n  };\n\n  var arrayPush = [].push;\n  var min$2 = Math.min;\n  var MAX_UINT32 = 0xFFFFFFFF; // babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\n\n  var SUPPORTS_Y = !fails(function () {\n    return !RegExp(MAX_UINT32, 'y');\n  }); // @@split logic\n\n  fixRegexpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n    var internalSplit;\n\n    if ('abbc'.split(/(b)*/)[1] == 'c' || 'test'.split(/(?:)/, -1).length != 4 || 'ab'.split(/(?:ab)*/).length != 2 || '.'.split(/(.?)(.?)/).length != 4 || '.'.split(/()()/).length > 1 || ''.split(/.?/).length) {\n      // based on es5-shim implementation, need to rework it\n      internalSplit = function internalSplit(separator, limit) {\n        var string = String(requireObjectCoercible(this));\n        var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n        if (lim === 0) return [];\n        if (separator === undefined) return [string]; // If `separator` is not a regex, use native split\n\n        if (!isRegexp(separator)) {\n          return nativeSplit.call(string, separator, lim);\n        }\n\n        var output = [];\n        var flags = (separator.ignoreCase ? 'i' : '') + (separator.multiline ? 'm' : '') + (separator.unicode ? 'u' : '') + (separator.sticky ? 'y' : '');\n        var lastLastIndex = 0; // Make `global` and avoid `lastIndex` issues by working with a copy\n\n        var separatorCopy = new RegExp(separator.source, flags + 'g');\n        var match, lastIndex, lastLength;\n\n        while (match = regexpExec.call(separatorCopy, string)) {\n          lastIndex = separatorCopy.lastIndex;\n\n          if (lastIndex > lastLastIndex) {\n            output.push(string.slice(lastLastIndex, match.index));\n            if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n            lastLength = match[0].length;\n            lastLastIndex = lastIndex;\n            if (output.length >= lim) break;\n          }\n\n          if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n        }\n\n        if (lastLastIndex === string.length) {\n          if (lastLength || !separatorCopy.test('')) output.push('');\n        } else output.push(string.slice(lastLastIndex));\n\n        return output.length > lim ? output.slice(0, lim) : output;\n      }; // Chakra, V8\n\n    } else if ('0'.split(undefined, 0).length) {\n      internalSplit = function internalSplit(separator, limit) {\n        return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n      };\n    } else internalSplit = nativeSplit;\n\n    return [// `String.prototype.split` method\n    // https://tc39.es/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined ? splitter.call(separator, O, limit) : internalSplit.call(String(O), separator, limit);\n    }, // `RegExp.prototype[@@split]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') + (rx.multiline ? 'm' : '') + (rx.unicode ? 'u' : '') + (SUPPORTS_Y ? 'y' : 'g'); // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return regexpExecAbstract(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = regexpExecAbstract(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n\n        if (z === null || (e = min$2(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n\n          q = p = e;\n        }\n      }\n\n      A.push(S.slice(p));\n      return A;\n    }];\n  }, !SUPPORTS_Y);\n  /**\n   * Append a class to an element\n   *\n   * @api private\n   * @method _addClass\n   * @param {Object} element\n   * @param {String} className\n   * @returns null\n   */\n\n  function addClass(element, className) {\n    if (element instanceof SVGElement) {\n      // svg\n      var pre = element.getAttribute(\"class\") || \"\";\n\n      if (!pre.match(className)) {\n        // check if element doesn't already have className\n        element.setAttribute(\"class\", \"\".concat(pre, \" \").concat(className));\n      }\n    } else {\n      if (element.classList !== undefined) {\n        // check for modern classList property\n        var classes = className.split(\" \");\n        forEach(classes, function (cls) {\n          element.classList.add(cls);\n        });\n      } else if (!element.className.match(className)) {\n        // check if element doesn't already have className\n        element.className += \" \".concat(className);\n      }\n    }\n  }\n  /**\n   * Get an element CSS property on the page\n   * Thanks to JavaScript Kit: http://www.javascriptkit.com/dhtmltutors/dhtmlcascade4.shtml\n   *\n   * @api private\n   * @method _getPropValue\n   * @param {Object} element\n   * @param {String} propName\n   * @returns string property value\n   */\n\n\n  function getPropValue(element, propName) {\n    var propValue = \"\";\n\n    if (element.currentStyle) {\n      //IE\n      propValue = element.currentStyle[propName];\n    } else if (document.defaultView && document.defaultView.getComputedStyle) {\n      //Others\n      propValue = document.defaultView.getComputedStyle(element, null).getPropertyValue(propName);\n    } //Prevent exception in IE\n\n\n    if (propValue && propValue.toLowerCase) {\n      return propValue.toLowerCase();\n    } else {\n      return propValue;\n    }\n  }\n  /**\n   * To set the show element\n   * This function set a relative (in most cases) position and changes the z-index\n   *\n   * @api private\n   * @method _setShowElement\n   * @param {Object} targetElement\n   */\n\n\n  function setShowElement(_ref) {\n    var element = _ref.element;\n    addClass(element, \"introjs-showElement\");\n    var currentElementPosition = getPropValue(element, \"position\");\n\n    if (currentElementPosition !== \"absolute\" && currentElementPosition !== \"relative\" && currentElementPosition !== \"sticky\" && currentElementPosition !== \"fixed\") {\n      //change to new intro item\n      addClass(element, \"introjs-relativePosition\");\n    }\n  }\n  /**\n   * Find the nearest scrollable parent\n   * copied from https://stackoverflow.com/questions/35939886/find-first-scrollable-parent\n   *\n   * @param Element element\n   * @return Element\n   */\n\n\n  function getScrollParent(element) {\n    var style = window.getComputedStyle(element);\n    var excludeStaticParent = style.position === \"absolute\";\n    var overflowRegex = /(auto|scroll)/;\n    if (style.position === \"fixed\") return document.body;\n\n    for (var parent = element; parent = parent.parentElement;) {\n      style = window.getComputedStyle(parent);\n\n      if (excludeStaticParent && style.position === \"static\") {\n        continue;\n      }\n\n      if (overflowRegex.test(style.overflow + style.overflowY + style.overflowX)) return parent;\n    }\n\n    return document.body;\n  }\n  /**\n   * scroll a scrollable element to a child element\n   *\n   * @param {Object} targetElement\n   */\n\n\n  function scrollParentToElement(targetElement) {\n    var element = targetElement.element;\n    if (!this._options.scrollToElement) return;\n    var parent = getScrollParent(element);\n    if (parent === document.body) return;\n    parent.scrollTop = element.offsetTop - parent.offsetTop;\n  }\n  /**\n   * Provides a cross-browser way to get the screen dimensions\n   * via: http://stackoverflow.com/questions/5864467/internet-explorer-innerheight\n   *\n   * @api private\n   * @method _getWinSize\n   * @returns {Object} width and height attributes\n   */\n\n\n  function getWinSize() {\n    if (window.innerWidth !== undefined) {\n      return {\n        width: window.innerWidth,\n        height: window.innerHeight\n      };\n    } else {\n      var D = document.documentElement;\n      return {\n        width: D.clientWidth,\n        height: D.clientHeight\n      };\n    }\n  }\n  /**\n   * Check to see if the element is in the viewport or not\n   * http://stackoverflow.com/questions/123999/how-to-tell-if-a-dom-element-is-visible-in-the-current-viewport\n   *\n   * @api private\n   * @method _elementInViewport\n   * @param {Object} el\n   */\n\n\n  function elementInViewport(el) {\n    var rect = el.getBoundingClientRect();\n    return rect.top >= 0 && rect.left >= 0 && rect.bottom + 80 <= window.innerHeight && // add 80 to get the text right\n    rect.right <= window.innerWidth;\n  }\n  /**\n   * To change the scroll of `window` after highlighting an element\n   *\n   * @api private\n   * @param {String} scrollTo\n   * @param {Object} targetElement\n   * @param {Object} tooltipLayer\n   */\n\n\n  function scrollTo(scrollTo, _ref, tooltipLayer) {\n    var element = _ref.element;\n    if (scrollTo === \"off\") return;\n    var rect;\n    if (!this._options.scrollToElement) return;\n\n    if (scrollTo === \"tooltip\") {\n      rect = tooltipLayer.getBoundingClientRect();\n    } else {\n      rect = element.getBoundingClientRect();\n    }\n\n    if (!elementInViewport(element)) {\n      var winHeight = getWinSize().height;\n      var top = rect.bottom - (rect.bottom - rect.top); // TODO (afshinm): do we need scroll padding now?\n      // I have changed the scroll option and now it scrolls the window to\n      // the center of the target element or tooltip.\n\n      if (top < 0 || element.clientHeight > winHeight) {\n        window.scrollBy(0, rect.top - (winHeight / 2 - rect.height / 2) - this._options.scrollPadding); // 30px padding from edge to look nice\n        //Scroll down\n      } else {\n        window.scrollBy(0, rect.top - (winHeight / 2 - rect.height / 2) + this._options.scrollPadding); // 30px padding from edge to look nice\n      }\n    }\n  }\n  /**\n   * Setting anchors to behave like buttons\n   *\n   * @api private\n   * @method _setAnchorAsButton\n   */\n\n\n  function setAnchorAsButton(anchor) {\n    anchor.setAttribute(\"role\", \"button\");\n    anchor.tabIndex = 0;\n  }\n  /**\n   * Get an element position on the page\n   * Thanks to `meouw`: http://stackoverflow.com/a/442474/375966\n   *\n   * @api private\n   * @method _getOffset\n   * @param {Object} element\n   * @returns Element's position info\n   */\n\n\n  function getOffset(element) {\n    var body = document.body;\n    var docEl = document.documentElement;\n    var scrollTop = window.pageYOffset || docEl.scrollTop || body.scrollTop;\n    var scrollLeft = window.pageXOffset || docEl.scrollLeft || body.scrollLeft;\n    var x = element.getBoundingClientRect();\n    return {\n      top: x.top + scrollTop,\n      width: x.width,\n      height: x.height,\n      left: x.left + scrollLeft\n    };\n  }\n  /**\n   * Checks to see if target element (or parents) position is fixed or not\n   *\n   * @api private\n   * @method _isFixed\n   * @param {Object} element\n   * @returns Boolean\n   */\n\n\n  function isFixed(element) {\n    var p = element.parentNode;\n\n    if (!p || p.nodeName === \"HTML\") {\n      return false;\n    }\n\n    if (getPropValue(element, \"position\") === \"fixed\") {\n      return true;\n    }\n\n    return isFixed(p);\n  }\n\n  var floor$1 = Math.floor;\n  var replace = ''.replace;\n  var SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\n  var SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g; // https://tc39.es/ecma262/#sec-getsubstitution\n\n  var getSubstitution = function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n\n    return replace.call(replacement, symbols, function (match, ch) {\n      var capture;\n\n      switch (ch.charAt(0)) {\n        case '$':\n          return '$';\n\n        case '&':\n          return matched;\n\n        case '`':\n          return str.slice(0, position);\n\n        case \"'\":\n          return str.slice(tailPos);\n\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n\n        default:\n          // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n\n          if (n > m) {\n            var f = floor$1(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n\n          capture = captures[n - 1];\n      }\n\n      return capture === undefined ? '' : capture;\n    });\n  };\n\n  var max$1 = Math.max;\n  var min$3 = Math.min;\n\n  var maybeToString = function maybeToString(it) {\n    return it === undefined ? it : String(it);\n  }; // @@replace logic\n\n\n  fixRegexpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n    var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n    var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n    var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n    return [// `String.prototype.replace` method\n    // https://tc39.es/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined ? replacer.call(searchValue, O, replaceValue) : nativeReplace.call(String(O), searchValue, replaceValue);\n    }, // `RegExp.prototype[@@replace]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0 || typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n      var global = rx.global;\n\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n\n      var results = [];\n\n      while (true) {\n        var result = regexpExecAbstract(rx, S);\n        if (result === null) break;\n        results.push(result);\n        if (!global) break;\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n        var matched = String(result[0]);\n        var position = max$1(min$3(toInteger(result.index), S.length), 0);\n        var captures = []; // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n\n        for (var j = 1; j < result.length; j++) {\n          captures.push(maybeToString(result[j]));\n        }\n\n        var namedCaptures = result.groups;\n\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }];\n  });\n  /**\n   * Remove a class from an element\n   *\n   * @api private\n   * @method _removeClass\n   * @param {Object} element\n   * @param {RegExp|String} classNameRegex can be regex or string\n   * @returns null\n   */\n\n  function removeClass(element, classNameRegex) {\n    if (element instanceof SVGElement) {\n      var pre = element.getAttribute(\"class\") || \"\";\n      element.setAttribute(\"class\", pre.replace(classNameRegex, \"\").replace(/^\\s+|\\s+$/g, \"\"));\n    } else {\n      element.className = element.className.replace(classNameRegex, \"\").replace(/^\\s+|\\s+$/g, \"\");\n    }\n  }\n  /**\n   * Sets the style of an DOM element\n   *\n   * @param {Object} element\n   * @param {Object|string} style\n   * @return null\n   */\n\n\n  function setStyle(element, style) {\n    var cssText = \"\";\n\n    if (element.style.cssText) {\n      cssText += element.style.cssText;\n    }\n\n    if (typeof style === \"string\") {\n      cssText += style;\n    } else {\n      for (var rule in style) {\n        cssText += \"\".concat(rule, \":\").concat(style[rule], \";\");\n      }\n    }\n\n    element.style.cssText = cssText;\n  }\n  /**\n   * Update the position of the helper layer on the screen\n   *\n   * @api private\n   * @method _setHelperLayerPosition\n   * @param {Object} helperLayer\n   */\n\n\n  function setHelperLayerPosition(helperLayer) {\n    if (helperLayer) {\n      //prevent error when `this._currentStep` in undefined\n      if (!this._introItems[this._currentStep]) return;\n      var currentElement = this._introItems[this._currentStep];\n      var elementPosition = getOffset(currentElement.element);\n      var widthHeightPadding = this._options.helperElementPadding; // If the target element is fixed, the tooltip should be fixed as well.\n      // Otherwise, remove a fixed class that may be left over from the previous\n      // step.\n\n      if (isFixed(currentElement.element)) {\n        addClass(helperLayer, \"introjs-fixedTooltip\");\n      } else {\n        removeClass(helperLayer, \"introjs-fixedTooltip\");\n      }\n\n      if (currentElement.position === \"floating\") {\n        widthHeightPadding = 0;\n      } //set new position to helper layer\n\n\n      setStyle(helperLayer, {\n        width: \"\".concat(elementPosition.width + widthHeightPadding, \"px\"),\n        height: \"\".concat(elementPosition.height + widthHeightPadding, \"px\"),\n        top: \"\".concat(elementPosition.top - widthHeightPadding / 2, \"px\"),\n        left: \"\".concat(elementPosition.left - widthHeightPadding / 2, \"px\")\n      });\n    }\n  } // optional / simple context binding\n\n\n  var functionBindContext = function functionBindContext(fn, that, length) {\n    aFunction$1(fn);\n    if (that === undefined) return fn;\n\n    switch (length) {\n      case 0:\n        return function () {\n          return fn.call(that);\n        };\n\n      case 1:\n        return function (a) {\n          return fn.call(that, a);\n        };\n\n      case 2:\n        return function (a, b) {\n          return fn.call(that, a, b);\n        };\n\n      case 3:\n        return function (a, b, c) {\n          return fn.call(that, a, b, c);\n        };\n    }\n\n    return function ()\n    /* ...args */\n    {\n      return fn.apply(that, arguments);\n    };\n  };\n\n  var push = [].push; // `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterOut }` methods implementation\n\n  var createMethod$2 = function createMethod$2(TYPE) {\n    var IS_MAP = TYPE == 1;\n    var IS_FILTER = TYPE == 2;\n    var IS_SOME = TYPE == 3;\n    var IS_EVERY = TYPE == 4;\n    var IS_FIND_INDEX = TYPE == 6;\n    var IS_FILTER_OUT = TYPE == 7;\n    var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n    return function ($this, callbackfn, that, specificCreate) {\n      var O = toObject($this);\n      var self = indexedObject(O);\n      var boundFunction = functionBindContext(callbackfn, that, 3);\n      var length = toLength(self.length);\n      var index = 0;\n      var create = specificCreate || arraySpeciesCreate;\n      var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_OUT ? create($this, 0) : undefined;\n      var value, result;\n\n      for (; length > index; index++) {\n        if (NO_HOLES || index in self) {\n          value = self[index];\n          result = boundFunction(value, index, O);\n\n          if (TYPE) {\n            if (IS_MAP) target[index] = result; // map\n            else if (result) switch (TYPE) {\n                case 3:\n                  return true;\n                // some\n\n                case 5:\n                  return value;\n                // find\n\n                case 6:\n                  return index;\n                // findIndex\n\n                case 2:\n                  push.call(target, value);\n                // filter\n              } else switch (TYPE) {\n                case 4:\n                  return false;\n                // every\n\n                case 7:\n                  push.call(target, value);\n                // filterOut\n              }\n          }\n        }\n      }\n\n      return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n    };\n  };\n\n  var arrayIteration = {\n    // `Array.prototype.forEach` method\n    // https://tc39.es/ecma262/#sec-array.prototype.foreach\n    forEach: createMethod$2(0),\n    // `Array.prototype.map` method\n    // https://tc39.es/ecma262/#sec-array.prototype.map\n    map: createMethod$2(1),\n    // `Array.prototype.filter` method\n    // https://tc39.es/ecma262/#sec-array.prototype.filter\n    filter: createMethod$2(2),\n    // `Array.prototype.some` method\n    // https://tc39.es/ecma262/#sec-array.prototype.some\n    some: createMethod$2(3),\n    // `Array.prototype.every` method\n    // https://tc39.es/ecma262/#sec-array.prototype.every\n    every: createMethod$2(4),\n    // `Array.prototype.find` method\n    // https://tc39.es/ecma262/#sec-array.prototype.find\n    find: createMethod$2(5),\n    // `Array.prototype.findIndex` method\n    // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n    findIndex: createMethod$2(6),\n    // `Array.prototype.filterOut` method\n    // https://github.com/tc39/proposal-array-filtering\n    filterOut: createMethod$2(7)\n  };\n  var defineProperty = Object.defineProperty;\n  var cache = {};\n\n  var thrower = function thrower(it) {\n    throw it;\n  };\n\n  var arrayMethodUsesToLength = function arrayMethodUsesToLength(METHOD_NAME, options) {\n    if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n    if (!options) options = {};\n    var method = [][METHOD_NAME];\n    var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n    var argument0 = has(options, 0) ? options[0] : thrower;\n    var argument1 = has(options, 1) ? options[1] : undefined;\n    return cache[METHOD_NAME] = !!method && !fails(function () {\n      if (ACCESSORS && !descriptors) return true;\n      var O = {\n        length: -1\n      };\n      if (ACCESSORS) defineProperty(O, 1, {\n        enumerable: true,\n        get: thrower\n      });else O[1] = 1;\n      method.call(O, argument0, argument1);\n    });\n  };\n\n  var $filter = arrayIteration.filter;\n  var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter'); // Edge 14- issue\n\n  var USES_TO_LENGTH = arrayMethodUsesToLength('filter'); // `Array.prototype.filter` method\n  // https://tc39.es/ecma262/#sec-array.prototype.filter\n  // with adding support of @@species\n\n  _export({\n    target: 'Array',\n    proto: true,\n    forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH\n  }, {\n    filter: function filter(callbackfn\n    /* , thisArg */\n    ) {\n      return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  }); // `Object.keys` method\n  // https://tc39.es/ecma262/#sec-object.keys\n\n\n  var objectKeys = Object.keys || function keys(O) {\n    return objectKeysInternal(O, enumBugKeys);\n  }; // `Object.defineProperties` method\n  // https://tc39.es/ecma262/#sec-object.defineproperties\n\n\n  var objectDefineProperties = descriptors ? Object.defineProperties : function defineProperties(O, Properties) {\n    anObject(O);\n    var keys = objectKeys(Properties);\n    var length = keys.length;\n    var index = 0;\n    var key;\n\n    while (length > index) {\n      objectDefineProperty.f(O, key = keys[index++], Properties[key]);\n    }\n\n    return O;\n  };\n  var html = getBuiltIn('document', 'documentElement');\n  var GT = '>';\n  var LT = '<';\n  var PROTOTYPE = 'prototype';\n  var SCRIPT = 'script';\n  var IE_PROTO = sharedKey('IE_PROTO');\n\n  var EmptyConstructor = function EmptyConstructor() {\n    /* empty */\n  };\n\n  var scriptTag = function scriptTag(content) {\n    return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n  }; // Create object with fake `null` prototype: use ActiveX Object with cleared prototype\n\n\n  var NullProtoObjectViaActiveX = function NullProtoObjectViaActiveX(activeXDocument) {\n    activeXDocument.write(scriptTag(''));\n    activeXDocument.close();\n    var temp = activeXDocument.parentWindow.Object;\n    activeXDocument = null; // avoid memory leak\n\n    return temp;\n  }; // Create object with fake `null` prototype: use iframe Object with cleared prototype\n\n\n  var NullProtoObjectViaIFrame = function NullProtoObjectViaIFrame() {\n    // Thrash, waste and sodomy: IE GC bug\n    var iframe = documentCreateElement('iframe');\n    var JS = 'java' + SCRIPT + ':';\n    var iframeDocument;\n    iframe.style.display = 'none';\n    html.appendChild(iframe); // https://github.com/zloirock/core-js/issues/475\n\n    iframe.src = String(JS);\n    iframeDocument = iframe.contentWindow.document;\n    iframeDocument.open();\n    iframeDocument.write(scriptTag('document.F=Object'));\n    iframeDocument.close();\n    return iframeDocument.F;\n  }; // Check for document.domain and active x support\n  // No need to use active x approach when document.domain is not set\n  // see https://github.com/es-shims/es5-shim/issues/150\n  // variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n  // avoid IE GC bug\n\n\n  var activeXDocument;\n\n  var _NullProtoObject = function NullProtoObject() {\n    try {\n      /* global ActiveXObject */\n      activeXDocument = document.domain && new ActiveXObject('htmlfile');\n    } catch (error) {\n      /* ignore */\n    }\n\n    _NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n    var length = enumBugKeys.length;\n\n    while (length--) {\n      delete _NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n    }\n\n    return _NullProtoObject();\n  };\n\n  hiddenKeys[IE_PROTO] = true; // `Object.create` method\n  // https://tc39.es/ecma262/#sec-object.create\n\n  var objectCreate = Object.create || function create(O, Properties) {\n    var result;\n\n    if (O !== null) {\n      EmptyConstructor[PROTOTYPE] = anObject(O);\n      result = new EmptyConstructor();\n      EmptyConstructor[PROTOTYPE] = null; // add \"__proto__\" for Object.getPrototypeOf polyfill\n\n      result[IE_PROTO] = O;\n    } else result = _NullProtoObject();\n\n    return Properties === undefined ? result : objectDefineProperties(result, Properties);\n  };\n\n  var UNSCOPABLES = wellKnownSymbol('unscopables');\n  var ArrayPrototype = Array.prototype; // Array.prototype[@@unscopables]\n  // https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\n\n  if (ArrayPrototype[UNSCOPABLES] == undefined) {\n    objectDefineProperty.f(ArrayPrototype, UNSCOPABLES, {\n      configurable: true,\n      value: objectCreate(null)\n    });\n  } // add a key to Array.prototype[@@unscopables]\n\n\n  var addToUnscopables = function addToUnscopables(key) {\n    ArrayPrototype[UNSCOPABLES][key] = true;\n  };\n\n  var $includes = arrayIncludes.includes;\n  var USES_TO_LENGTH$1 = arrayMethodUsesToLength('indexOf', {\n    ACCESSORS: true,\n    1: 0\n  }); // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n\n  _export({\n    target: 'Array',\n    proto: true,\n    forced: !USES_TO_LENGTH$1\n  }, {\n    includes: function includes(el\n    /* , fromIndex = 0 */\n    ) {\n      return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  }); // https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\n\n\n  addToUnscopables('includes');\n\n  var arrayMethodIsStrict = function arrayMethodIsStrict(METHOD_NAME, argument) {\n    var method = [][METHOD_NAME];\n    return !!method && fails(function () {\n      // eslint-disable-next-line no-useless-call,no-throw-literal\n      method.call(null, argument || function () {\n        throw 1;\n      }, 1);\n    });\n  };\n\n  var $indexOf = arrayIncludes.indexOf;\n  var nativeIndexOf = [].indexOf;\n  var NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\n  var STRICT_METHOD = arrayMethodIsStrict('indexOf');\n  var USES_TO_LENGTH$2 = arrayMethodUsesToLength('indexOf', {\n    ACCESSORS: true,\n    1: 0\n  }); // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n\n  _export({\n    target: 'Array',\n    proto: true,\n    forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH$2\n  }, {\n    indexOf: function indexOf(searchElement\n    /* , fromIndex = 0 */\n    ) {\n      return NEGATIVE_ZERO // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0 : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  var nativeJoin = [].join;\n  var ES3_STRINGS = indexedObject != Object;\n  var STRICT_METHOD$1 = arrayMethodIsStrict('join', ','); // `Array.prototype.join` method\n  // https://tc39.es/ecma262/#sec-array.prototype.join\n\n  _export({\n    target: 'Array',\n    proto: true,\n    forced: ES3_STRINGS || !STRICT_METHOD$1\n  }, {\n    join: function join(separator) {\n      return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n    }\n  });\n\n  var HAS_SPECIES_SUPPORT$1 = arrayMethodHasSpeciesSupport('slice');\n  var USES_TO_LENGTH$3 = arrayMethodUsesToLength('slice', {\n    ACCESSORS: true,\n    0: 0,\n    1: 2\n  });\n  var SPECIES$4 = wellKnownSymbol('species');\n  var nativeSlice = [].slice;\n  var max$2 = Math.max; // `Array.prototype.slice` method\n  // https://tc39.es/ecma262/#sec-array.prototype.slice\n  // fallback for not array-like ES3 strings and DOM objects\n\n  _export({\n    target: 'Array',\n    proto: true,\n    forced: !HAS_SPECIES_SUPPORT$1 || !USES_TO_LENGTH$3\n  }, {\n    slice: function slice(start, end) {\n      var O = toIndexedObject(this);\n      var length = toLength(O.length);\n      var k = toAbsoluteIndex(start, length);\n      var fin = toAbsoluteIndex(end === undefined ? length : end, length); // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n\n      var Constructor, result, n;\n\n      if (isArray(O)) {\n        Constructor = O.constructor; // cross-realm fallback\n\n        if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n          Constructor = undefined;\n        } else if (isObject(Constructor)) {\n          Constructor = Constructor[SPECIES$4];\n          if (Constructor === null) Constructor = undefined;\n        }\n\n        if (Constructor === Array || Constructor === undefined) {\n          return nativeSlice.call(O, k, fin);\n        }\n      }\n\n      result = new (Constructor === undefined ? Array : Constructor)(max$2(fin - k, 0));\n\n      for (n = 0; k < fin; k++, n++) {\n        if (k in O) createProperty(result, n, O[k]);\n      }\n\n      result.length = n;\n      return result;\n    }\n  });\n\n  var notARegexp = function notARegexp(it) {\n    if (isRegexp(it)) {\n      throw TypeError(\"The method doesn't accept regular expressions\");\n    }\n\n    return it;\n  };\n\n  var MATCH$1 = wellKnownSymbol('match');\n\n  var correctIsRegexpLogic = function correctIsRegexpLogic(METHOD_NAME) {\n    var regexp = /./;\n\n    try {\n      '/./'[METHOD_NAME](regexp);\n    } catch (error1) {\n      try {\n        regexp[MATCH$1] = false;\n        return '/./'[METHOD_NAME](regexp);\n      } catch (error2) {\n        /* empty */\n      }\n    }\n\n    return false;\n  }; // `String.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-string.prototype.includes\n\n\n  _export({\n    target: 'String',\n    proto: true,\n    forced: !correctIsRegexpLogic('includes')\n  }, {\n    includes: function includes(searchString\n    /* , position = 0 */\n    ) {\n      return !!~String(requireObjectCoercible(this)).indexOf(notARegexp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n  /**\n   * Set tooltip left so it doesn't go off the right side of the window\n   *\n   * @return boolean true, if tooltipLayerStyleLeft is ok.  false, otherwise.\n   */\n\n\n  function checkRight(targetOffset, tooltipLayerStyleLeft, tooltipOffset, windowSize, tooltipLayer) {\n    if (targetOffset.left + tooltipLayerStyleLeft + tooltipOffset.width > windowSize.width) {\n      // off the right side of the window\n      tooltipLayer.left = \"\".concat(windowSize.width - tooltipOffset.width - targetOffset.left, \"px\");\n      return false;\n    }\n\n    tooltipLayer.left = \"\".concat(tooltipLayerStyleLeft, \"px\");\n    return true;\n  }\n  /**\n   * Set tooltip right so it doesn't go off the left side of the window\n   *\n   * @return boolean true, if tooltipLayerStyleRight is ok.  false, otherwise.\n   */\n\n\n  function checkLeft(targetOffset, tooltipLayerStyleRight, tooltipOffset, tooltipLayer) {\n    if (targetOffset.left + targetOffset.width - tooltipLayerStyleRight - tooltipOffset.width < 0) {\n      // off the left side of the window\n      tooltipLayer.style.left = \"\".concat(-targetOffset.left, \"px\");\n      return false;\n    }\n\n    tooltipLayer.style.right = \"\".concat(tooltipLayerStyleRight, \"px\");\n    return true;\n  }\n\n  var HAS_SPECIES_SUPPORT$2 = arrayMethodHasSpeciesSupport('splice');\n  var USES_TO_LENGTH$4 = arrayMethodUsesToLength('splice', {\n    ACCESSORS: true,\n    0: 0,\n    1: 2\n  });\n  var max$3 = Math.max;\n  var min$4 = Math.min;\n  var MAX_SAFE_INTEGER$1 = 0x1FFFFFFFFFFFFF;\n  var MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded'; // `Array.prototype.splice` method\n  // https://tc39.es/ecma262/#sec-array.prototype.splice\n  // with adding support of @@species\n\n  _export({\n    target: 'Array',\n    proto: true,\n    forced: !HAS_SPECIES_SUPPORT$2 || !USES_TO_LENGTH$4\n  }, {\n    splice: function splice(start, deleteCount\n    /* , ...items */\n    ) {\n      var O = toObject(this);\n      var len = toLength(O.length);\n      var actualStart = toAbsoluteIndex(start, len);\n      var argumentsLength = arguments.length;\n      var insertCount, actualDeleteCount, A, k, from, to;\n\n      if (argumentsLength === 0) {\n        insertCount = actualDeleteCount = 0;\n      } else if (argumentsLength === 1) {\n        insertCount = 0;\n        actualDeleteCount = len - actualStart;\n      } else {\n        insertCount = argumentsLength - 2;\n        actualDeleteCount = min$4(max$3(toInteger(deleteCount), 0), len - actualStart);\n      }\n\n      if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER$1) {\n        throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n      }\n\n      A = arraySpeciesCreate(O, actualDeleteCount);\n\n      for (k = 0; k < actualDeleteCount; k++) {\n        from = actualStart + k;\n        if (from in O) createProperty(A, k, O[from]);\n      }\n\n      A.length = actualDeleteCount;\n\n      if (insertCount < actualDeleteCount) {\n        for (k = actualStart; k < len - actualDeleteCount; k++) {\n          from = k + actualDeleteCount;\n          to = k + insertCount;\n          if (from in O) O[to] = O[from];else delete O[to];\n        }\n\n        for (k = len; k > len - actualDeleteCount + insertCount; k--) {\n          delete O[k - 1];\n        }\n      } else if (insertCount > actualDeleteCount) {\n        for (k = len - actualDeleteCount; k > actualStart; k--) {\n          from = k + actualDeleteCount - 1;\n          to = k + insertCount - 1;\n          if (from in O) O[to] = O[from];else delete O[to];\n        }\n      }\n\n      for (k = 0; k < insertCount; k++) {\n        O[k + actualStart] = arguments[k + 2];\n      }\n\n      O.length = len - actualDeleteCount + insertCount;\n      return A;\n    }\n  });\n  /**\n   * Remove an entry from a string array if it's there, does nothing if it isn't there.\n   *\n   * @param {Array} stringArray\n   * @param {String} stringToRemove\n   */\n\n\n  function removeEntry(stringArray, stringToRemove) {\n    if (stringArray.includes(stringToRemove)) {\n      stringArray.splice(stringArray.indexOf(stringToRemove), 1);\n    }\n  }\n  /**\n   * auto-determine alignment\n   * @param {Integer}  offsetLeft\n   * @param {Integer}  tooltipWidth\n   * @param {Object}   windowSize\n   * @param {String}   desiredAlignment\n   * @return {String}  calculatedAlignment\n   */\n\n\n  function _determineAutoAlignment(offsetLeft, tooltipWidth, _ref, desiredAlignment) {\n    var width = _ref.width;\n    var halfTooltipWidth = tooltipWidth / 2;\n    var winWidth = Math.min(width, window.screen.width);\n    var possibleAlignments = [\"-left-aligned\", \"-middle-aligned\", \"-right-aligned\"];\n    var calculatedAlignment = \"\"; // valid left must be at least a tooltipWidth\n    // away from right side\n\n    if (winWidth - offsetLeft < tooltipWidth) {\n      removeEntry(possibleAlignments, \"-left-aligned\");\n    } // valid middle must be at least half\n    // width away from both sides\n\n\n    if (offsetLeft < halfTooltipWidth || winWidth - offsetLeft < halfTooltipWidth) {\n      removeEntry(possibleAlignments, \"-middle-aligned\");\n    } // valid right must be at least a tooltipWidth\n    // width away from left side\n\n\n    if (offsetLeft < tooltipWidth) {\n      removeEntry(possibleAlignments, \"-right-aligned\");\n    }\n\n    if (possibleAlignments.length) {\n      if (possibleAlignments.includes(desiredAlignment)) {\n        // the desired alignment is valid\n        calculatedAlignment = desiredAlignment;\n      } else {\n        // pick the first valid position, in order\n        calculatedAlignment = possibleAlignments[0];\n      }\n    } else {\n      // if screen width is too small\n      // for ANY alignment, middle is\n      // probably the best for visibility\n      calculatedAlignment = \"-middle-aligned\";\n    }\n\n    return calculatedAlignment;\n  }\n  /**\n   * Determines the position of the tooltip based on the position precedence and availability\n   * of screen space.\n   *\n   * @param {Object}    targetElement\n   * @param {Object}    tooltipLayer\n   * @param {String}    desiredTooltipPosition\n   * @return {String}   calculatedPosition\n   */\n\n\n  function _determineAutoPosition(targetElement, tooltipLayer, desiredTooltipPosition) {\n    // Take a clone of position precedence. These will be the available\n    var possiblePositions = this._options.positionPrecedence.slice();\n\n    var windowSize = getWinSize();\n    var tooltipHeight = getOffset(tooltipLayer).height + 10;\n    var tooltipWidth = getOffset(tooltipLayer).width + 20;\n    var targetElementRect = targetElement.getBoundingClientRect(); // If we check all the possible areas, and there are no valid places for the tooltip, the element\n    // must take up most of the screen real estate. Show the tooltip floating in the middle of the screen.\n\n    var calculatedPosition = \"floating\";\n    /*\n     * auto determine position\n     */\n    // Check for space below\n\n    if (targetElementRect.bottom + tooltipHeight > windowSize.height) {\n      removeEntry(possiblePositions, \"bottom\");\n    } // Check for space above\n\n\n    if (targetElementRect.top - tooltipHeight < 0) {\n      removeEntry(possiblePositions, \"top\");\n    } // Check for space to the right\n\n\n    if (targetElementRect.right + tooltipWidth > windowSize.width) {\n      removeEntry(possiblePositions, \"right\");\n    } // Check for space to the left\n\n\n    if (targetElementRect.left - tooltipWidth < 0) {\n      removeEntry(possiblePositions, \"left\");\n    } // @var {String}  ex: 'right-aligned'\n\n\n    var desiredAlignment = function (pos) {\n      var hyphenIndex = pos.indexOf(\"-\");\n\n      if (hyphenIndex !== -1) {\n        // has alignment\n        return pos.substr(hyphenIndex);\n      }\n\n      return \"\";\n    }(desiredTooltipPosition || \"\"); // strip alignment from position\n\n\n    if (desiredTooltipPosition) {\n      // ex: \"bottom-right-aligned\"\n      // should return 'bottom'\n      desiredTooltipPosition = desiredTooltipPosition.split(\"-\")[0];\n    }\n\n    if (possiblePositions.length) {\n      if (possiblePositions.includes(desiredTooltipPosition)) {\n        // If the requested position is in the list, choose that\n        calculatedPosition = desiredTooltipPosition;\n      } else {\n        // Pick the first valid position, in order\n        calculatedPosition = possiblePositions[0];\n      }\n    } // only top and bottom positions have optional alignments\n\n\n    if ([\"top\", \"bottom\"].includes(calculatedPosition)) {\n      calculatedPosition += _determineAutoAlignment(targetElementRect.left, tooltipWidth, windowSize, desiredAlignment);\n    }\n\n    return calculatedPosition;\n  }\n  /**\n   * Render tooltip box in the page\n   *\n   * @api private\n   * @method placeTooltip\n   * @param {HTMLElement} targetElement\n   * @param {HTMLElement} tooltipLayer\n   * @param {HTMLElement} arrowLayer\n   * @param {Boolean} hintMode\n   */\n\n\n  function placeTooltip(targetElement, tooltipLayer, arrowLayer, hintMode) {\n    var tooltipCssClass = \"\";\n    var currentStepObj;\n    var tooltipOffset;\n    var targetOffset;\n    var windowSize;\n    var currentTooltipPosition;\n    hintMode = hintMode || false; //reset the old style\n\n    tooltipLayer.style.top = null;\n    tooltipLayer.style.right = null;\n    tooltipLayer.style.bottom = null;\n    tooltipLayer.style.left = null;\n    tooltipLayer.style.marginLeft = null;\n    tooltipLayer.style.marginTop = null;\n    arrowLayer.style.display = \"inherit\"; //prevent error when `this._currentStep` is undefined\n\n    if (!this._introItems[this._currentStep]) return; //if we have a custom css class for each step\n\n    currentStepObj = this._introItems[this._currentStep];\n\n    if (typeof currentStepObj.tooltipClass === \"string\") {\n      tooltipCssClass = currentStepObj.tooltipClass;\n    } else {\n      tooltipCssClass = this._options.tooltipClass;\n    }\n\n    tooltipLayer.className = [\"introjs-tooltip\", tooltipCssClass].filter(Boolean).join(\" \");\n    tooltipLayer.setAttribute(\"role\", \"dialog\");\n    currentTooltipPosition = this._introItems[this._currentStep].position; // Floating is always valid, no point in calculating\n\n    if (currentTooltipPosition !== \"floating\" && this._options.autoPosition) {\n      currentTooltipPosition = _determineAutoPosition.call(this, targetElement, tooltipLayer, currentTooltipPosition);\n    }\n\n    var tooltipLayerStyleLeft;\n    targetOffset = getOffset(targetElement);\n    tooltipOffset = getOffset(tooltipLayer);\n    windowSize = getWinSize();\n    addClass(tooltipLayer, \"introjs-\".concat(currentTooltipPosition));\n\n    switch (currentTooltipPosition) {\n      case \"top-right-aligned\":\n        arrowLayer.className = \"introjs-arrow bottom-right\";\n        var tooltipLayerStyleRight = 0;\n        checkLeft(targetOffset, tooltipLayerStyleRight, tooltipOffset, tooltipLayer);\n        tooltipLayer.style.bottom = \"\".concat(targetOffset.height + 20, \"px\");\n        break;\n\n      case \"top-middle-aligned\":\n        arrowLayer.className = \"introjs-arrow bottom-middle\";\n        var tooltipLayerStyleLeftRight = targetOffset.width / 2 - tooltipOffset.width / 2; // a fix for middle aligned hints\n\n        if (hintMode) {\n          tooltipLayerStyleLeftRight += 5;\n        }\n\n        if (checkLeft(targetOffset, tooltipLayerStyleLeftRight, tooltipOffset, tooltipLayer)) {\n          tooltipLayer.style.right = null;\n          checkRight(targetOffset, tooltipLayerStyleLeftRight, tooltipOffset, windowSize, tooltipLayer);\n        }\n\n        tooltipLayer.style.bottom = \"\".concat(targetOffset.height + 20, \"px\");\n        break;\n\n      case \"top-left-aligned\": // top-left-aligned is the same as the default top\n\n      case \"top\":\n        arrowLayer.className = \"introjs-arrow bottom\";\n        tooltipLayerStyleLeft = hintMode ? 0 : 15;\n        checkRight(targetOffset, tooltipLayerStyleLeft, tooltipOffset, windowSize, tooltipLayer);\n        tooltipLayer.style.bottom = \"\".concat(targetOffset.height + 20, \"px\");\n        break;\n\n      case \"right\":\n        tooltipLayer.style.left = \"\".concat(targetOffset.width + 20, \"px\");\n\n        if (targetOffset.top + tooltipOffset.height > windowSize.height) {\n          // In this case, right would have fallen below the bottom of the screen.\n          // Modify so that the bottom of the tooltip connects with the target\n          arrowLayer.className = \"introjs-arrow left-bottom\";\n          tooltipLayer.style.top = \"-\".concat(tooltipOffset.height - targetOffset.height - 20, \"px\");\n        } else {\n          arrowLayer.className = \"introjs-arrow left\";\n        }\n\n        break;\n\n      case \"left\":\n        if (!hintMode && this._options.showStepNumbers === true) {\n          tooltipLayer.style.top = \"15px\";\n        }\n\n        if (targetOffset.top + tooltipOffset.height > windowSize.height) {\n          // In this case, left would have fallen below the bottom of the screen.\n          // Modify so that the bottom of the tooltip connects with the target\n          tooltipLayer.style.top = \"-\".concat(tooltipOffset.height - targetOffset.height - 20, \"px\");\n          arrowLayer.className = \"introjs-arrow right-bottom\";\n        } else {\n          arrowLayer.className = \"introjs-arrow right\";\n        }\n\n        tooltipLayer.style.right = \"\".concat(targetOffset.width + 20, \"px\");\n        break;\n\n      case \"floating\":\n        arrowLayer.style.display = \"none\"; //we have to adjust the top and left of layer manually for intro items without element\n\n        tooltipLayer.style.left = \"50%\";\n        tooltipLayer.style.top = \"50%\";\n        tooltipLayer.style.marginLeft = \"-\".concat(tooltipOffset.width / 2, \"px\");\n        tooltipLayer.style.marginTop = \"-\".concat(tooltipOffset.height / 2, \"px\");\n        break;\n\n      case \"bottom-right-aligned\":\n        arrowLayer.className = \"introjs-arrow top-right\";\n        tooltipLayerStyleRight = 0;\n        checkLeft(targetOffset, tooltipLayerStyleRight, tooltipOffset, tooltipLayer);\n        tooltipLayer.style.top = \"\".concat(targetOffset.height + 20, \"px\");\n        break;\n\n      case \"bottom-middle-aligned\":\n        arrowLayer.className = \"introjs-arrow top-middle\";\n        tooltipLayerStyleLeftRight = targetOffset.width / 2 - tooltipOffset.width / 2; // a fix for middle aligned hints\n\n        if (hintMode) {\n          tooltipLayerStyleLeftRight += 5;\n        }\n\n        if (checkLeft(targetOffset, tooltipLayerStyleLeftRight, tooltipOffset, tooltipLayer)) {\n          tooltipLayer.style.right = null;\n          checkRight(targetOffset, tooltipLayerStyleLeftRight, tooltipOffset, windowSize, tooltipLayer);\n        }\n\n        tooltipLayer.style.top = \"\".concat(targetOffset.height + 20, \"px\");\n        break;\n      // case 'bottom-left-aligned':\n      // Bottom-left-aligned is the same as the default bottom\n      // case 'bottom':\n      // Bottom going to follow the default behavior\n\n      default:\n        arrowLayer.className = \"introjs-arrow top\";\n        tooltipLayerStyleLeft = 0;\n        checkRight(targetOffset, tooltipLayerStyleLeft, tooltipOffset, windowSize, tooltipLayer);\n        tooltipLayer.style.top = \"\".concat(targetOffset.height + 20, \"px\");\n    }\n  }\n  /**\n   * To remove all show element(s)\n   *\n   * @api private\n   * @method _removeShowElement\n   */\n\n\n  function removeShowElement() {\n    var elms = document.querySelectorAll(\".introjs-showElement\");\n    forEach(elms, function (elm) {\n      removeClass(elm, /introjs-[a-zA-Z]+/g);\n    });\n  }\n\n  function _createElement(tagname, attrs) {\n    var element = document.createElement(tagname);\n    attrs = attrs || {}; // regex for matching attributes that need to be set with setAttribute\n\n    var setAttRegex = /^(?:role|data-|aria-)/;\n\n    for (var k in attrs) {\n      var v = attrs[k];\n\n      if (k === \"style\") {\n        setStyle(element, v);\n      } else if (k.match(setAttRegex)) {\n        element.setAttribute(k, v);\n      } else {\n        element[k] = v;\n      }\n    }\n\n    return element;\n  }\n  /**\n   * Appends `element` to `parentElement`\n   *\n   * @param {Element} parentElement\n   * @param {Element} element\n   * @param {Boolean} [animate=false]\n   */\n\n\n  function appendChild(parentElement, element, animate) {\n    if (animate) {\n      var existingOpacity = element.style.opacity || \"1\";\n      setStyle(element, {\n        opacity: \"0\"\n      });\n      window.setTimeout(function () {\n        setStyle(element, {\n          opacity: existingOpacity\n        });\n      }, 10);\n    }\n\n    parentElement.appendChild(element);\n  }\n  /**\n   * Gets the current progress percentage\n   *\n   * @api private\n   * @method _getProgress\n   * @returns current progress percentage\n   */\n\n\n  function _getProgress() {\n    // Steps are 0 indexed\n    var currentStep = parseInt(this._currentStep + 1, 10);\n    return currentStep / this._introItems.length * 100;\n  }\n  /**\n   * Add disableinteraction layer and adjust the size and position of the layer\n   *\n   * @api private\n   * @method _disableInteraction\n   */\n\n\n  function _disableInteraction() {\n    var disableInteractionLayer = document.querySelector(\".introjs-disableInteraction\");\n\n    if (disableInteractionLayer === null) {\n      disableInteractionLayer = _createElement(\"div\", {\n        className: \"introjs-disableInteraction\"\n      });\n\n      this._targetElement.appendChild(disableInteractionLayer);\n    }\n\n    setHelperLayerPosition.call(this, disableInteractionLayer);\n  }\n  /**\n   * Show an element on the page\n   *\n   * @api private\n   * @method _showElement\n   * @param {Object} targetElement\n   */\n\n\n  function _showElement(targetElement) {\n    var _this = this;\n\n    if (typeof this._introChangeCallback !== \"undefined\") {\n      this._introChangeCallback.call(this, targetElement.element);\n    }\n\n    var self = this;\n    var oldHelperLayer = document.querySelector(\".introjs-helperLayer\");\n    var oldReferenceLayer = document.querySelector(\".introjs-tooltipReferenceLayer\");\n    var highlightClass = \"introjs-helperLayer\";\n    var nextTooltipButton;\n    var prevTooltipButton;\n    var skipTooltipButton;\n\n    if (typeof targetElement.highlightClass === \"string\") {\n      highlightClass += \" \".concat(targetElement.highlightClass);\n    } //check for options highlight class\n\n\n    if (typeof this._options.highlightClass === \"string\") {\n      highlightClass += \" \".concat(this._options.highlightClass);\n    }\n\n    if (oldHelperLayer !== null) {\n      var oldHelperNumberLayer = oldReferenceLayer.querySelector(\".introjs-helperNumberLayer\");\n      var oldtooltipLayer = oldReferenceLayer.querySelector(\".introjs-tooltiptext\");\n      var oldTooltipTitleLayer = oldReferenceLayer.querySelector(\".introjs-tooltip-title\");\n      var oldArrowLayer = oldReferenceLayer.querySelector(\".introjs-arrow\");\n      var oldtooltipContainer = oldReferenceLayer.querySelector(\".introjs-tooltip\");\n      skipTooltipButton = oldReferenceLayer.querySelector(\".introjs-skipbutton\");\n      prevTooltipButton = oldReferenceLayer.querySelector(\".introjs-prevbutton\");\n      nextTooltipButton = oldReferenceLayer.querySelector(\".introjs-nextbutton\"); //update or reset the helper highlight class\n\n      oldHelperLayer.className = highlightClass; //hide the tooltip\n\n      oldtooltipContainer.style.opacity = 0;\n      oldtooltipContainer.style.display = \"none\"; // if the target element is within a scrollable element\n\n      scrollParentToElement.call(self, targetElement); // set new position to helper layer\n\n      setHelperLayerPosition.call(self, oldHelperLayer);\n      setHelperLayerPosition.call(self, oldReferenceLayer); //remove old classes if the element still exist\n\n      removeShowElement(); //we should wait until the CSS3 transition is competed (it's 0.3 sec) to prevent incorrect `height` and `width` calculation\n\n      if (self._lastShowElementTimer) {\n        window.clearTimeout(self._lastShowElementTimer);\n      }\n\n      self._lastShowElementTimer = window.setTimeout(function () {\n        // set current step to the label\n        if (oldHelperNumberLayer !== null) {\n          oldHelperNumberLayer.innerHTML = \"\".concat(targetElement.step, \" of \").concat(_this._introItems.length);\n        } // set current tooltip text\n\n\n        oldtooltipLayer.innerHTML = targetElement.intro; // set current tooltip title\n\n        oldTooltipTitleLayer.innerHTML = targetElement.title; //set the tooltip position\n\n        oldtooltipContainer.style.display = \"block\";\n        placeTooltip.call(self, targetElement.element, oldtooltipContainer, oldArrowLayer); //change active bullet\n\n        if (self._options.showBullets) {\n          oldReferenceLayer.querySelector(\".introjs-bullets li > a.active\").className = \"\";\n          oldReferenceLayer.querySelector(\".introjs-bullets li > a[data-stepnumber=\\\"\".concat(targetElement.step, \"\\\"]\")).className = \"active\";\n        }\n\n        oldReferenceLayer.querySelector(\".introjs-progress .introjs-progressbar\").style.cssText = \"width:\".concat(_getProgress.call(self), \"%;\");\n        oldReferenceLayer.querySelector(\".introjs-progress .introjs-progressbar\").setAttribute(\"aria-valuenow\", _getProgress.call(self)); //show the tooltip\n\n        oldtooltipContainer.style.opacity = 1; //reset button focus\n\n        if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null && /introjs-donebutton/gi.test(nextTooltipButton.className)) {\n          // skip button is now \"done\" button\n          nextTooltipButton.focus();\n        } else if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n          //still in the tour, focus on next\n          nextTooltipButton.focus();\n        } // change the scroll of the window, if needed\n\n\n        scrollTo.call(self, targetElement.scrollTo, targetElement, oldtooltipLayer);\n      }, 350); // end of old element if-else condition\n    } else {\n      var helperLayer = _createElement(\"div\", {\n        className: highlightClass\n      });\n\n      var referenceLayer = _createElement(\"div\", {\n        className: \"introjs-tooltipReferenceLayer\"\n      });\n\n      var arrowLayer = _createElement(\"div\", {\n        className: \"introjs-arrow\"\n      });\n\n      var tooltipLayer = _createElement(\"div\", {\n        className: \"introjs-tooltip\"\n      });\n\n      var tooltipTextLayer = _createElement(\"div\", {\n        className: \"introjs-tooltiptext\"\n      });\n\n      var tooltipHeaderLayer = _createElement(\"div\", {\n        className: \"introjs-tooltip-header\"\n      });\n\n      var tooltipTitleLayer = _createElement(\"h1\", {\n        className: \"introjs-tooltip-title\"\n      });\n\n      var bulletsLayer = _createElement(\"div\", {\n        className: \"introjs-bullets\"\n      });\n\n      var progressLayer = _createElement(\"div\");\n\n      var buttonsLayer = _createElement(\"div\");\n\n      setStyle(helperLayer, {\n        \"box-shadow\": \"0 0 1px 2px rgba(33, 33, 33, 0.8), rgba(33, 33, 33, \".concat(self._options.overlayOpacity.toString(), \") 0 0 0 5000px\")\n      }); // target is within a scrollable element\n\n      scrollParentToElement.call(self, targetElement); //set new position to helper layer\n\n      setHelperLayerPosition.call(self, helperLayer);\n      setHelperLayerPosition.call(self, referenceLayer); //add helper layer to target element\n\n      appendChild(this._targetElement, helperLayer, true);\n      appendChild(this._targetElement, referenceLayer);\n      tooltipTextLayer.innerHTML = targetElement.intro;\n      tooltipTitleLayer.innerHTML = targetElement.title;\n\n      if (this._options.showBullets === false) {\n        bulletsLayer.style.display = \"none\";\n      }\n\n      var ulContainer = _createElement(\"ul\");\n\n      ulContainer.setAttribute(\"role\", \"tablist\");\n\n      var anchorClick = function anchorClick() {\n        self.goToStep(this.getAttribute(\"data-stepnumber\"));\n      };\n\n      forEach(this._introItems, function (_ref, i) {\n        var step = _ref.step;\n\n        var innerLi = _createElement(\"li\");\n\n        var anchorLink = _createElement(\"a\");\n\n        innerLi.setAttribute(\"role\", \"presentation\");\n        anchorLink.setAttribute(\"role\", \"tab\");\n        anchorLink.onclick = anchorClick;\n\n        if (i === targetElement.step - 1) {\n          anchorLink.className = \"active\";\n        }\n\n        setAnchorAsButton(anchorLink);\n        anchorLink.innerHTML = \"&nbsp;\";\n        anchorLink.setAttribute(\"data-stepnumber\", step);\n        innerLi.appendChild(anchorLink);\n        ulContainer.appendChild(innerLi);\n      });\n      bulletsLayer.appendChild(ulContainer);\n      progressLayer.className = \"introjs-progress\";\n\n      if (this._options.showProgress === false) {\n        progressLayer.style.display = \"none\";\n      }\n\n      var progressBar = _createElement(\"div\", {\n        className: \"introjs-progressbar\"\n      });\n\n      if (this._options.progressBarAdditionalClass) {\n        progressBar.className += \" \" + this._options.progressBarAdditionalClass;\n      }\n\n      progressBar.setAttribute(\"role\", \"progress\");\n      progressBar.setAttribute(\"aria-valuemin\", 0);\n      progressBar.setAttribute(\"aria-valuemax\", 100);\n      progressBar.setAttribute(\"aria-valuenow\", _getProgress.call(this));\n      progressBar.style.cssText = \"width:\".concat(_getProgress.call(this), \"%;\");\n      progressLayer.appendChild(progressBar);\n      buttonsLayer.className = \"introjs-tooltipbuttons\";\n\n      if (this._options.showButtons === false) {\n        buttonsLayer.style.display = \"none\";\n      }\n\n      tooltipHeaderLayer.appendChild(tooltipTitleLayer);\n      tooltipLayer.appendChild(tooltipHeaderLayer);\n      tooltipLayer.appendChild(tooltipTextLayer);\n      tooltipLayer.appendChild(bulletsLayer);\n      tooltipLayer.appendChild(progressLayer); // add helper layer number\n\n      var helperNumberLayer = _createElement(\"div\");\n\n      if (this._options.showStepNumbers === true) {\n        helperNumberLayer.className = \"introjs-helperNumberLayer\";\n        helperNumberLayer.innerHTML = \"\".concat(targetElement.step, \" of \").concat(this._introItems.length);\n        tooltipLayer.appendChild(helperNumberLayer);\n      }\n\n      tooltipLayer.appendChild(arrowLayer);\n      referenceLayer.appendChild(tooltipLayer); //next button\n\n      nextTooltipButton = _createElement(\"a\");\n\n      nextTooltipButton.onclick = function () {\n        if (self._introItems.length - 1 !== self._currentStep) {\n          nextStep.call(self);\n        } else if (/introjs-donebutton/gi.test(nextTooltipButton.className)) {\n          if (typeof self._introCompleteCallback === \"function\") {\n            self._introCompleteCallback.call(self);\n          }\n\n          exitIntro.call(self, self._targetElement);\n        }\n      };\n\n      setAnchorAsButton(nextTooltipButton);\n      nextTooltipButton.innerHTML = this._options.nextLabel; //previous button\n\n      prevTooltipButton = _createElement(\"a\");\n\n      prevTooltipButton.onclick = function () {\n        if (self._currentStep !== 0) {\n          previousStep.call(self);\n        }\n      };\n\n      setAnchorAsButton(prevTooltipButton);\n      prevTooltipButton.innerHTML = this._options.prevLabel; //skip button\n\n      skipTooltipButton = _createElement(\"a\", {\n        className: \"introjs-skipbutton\"\n      });\n      setAnchorAsButton(skipTooltipButton);\n      skipTooltipButton.innerHTML = this._options.skipLabel;\n\n      skipTooltipButton.onclick = function () {\n        if (self._introItems.length - 1 === self._currentStep && typeof self._introCompleteCallback === \"function\") {\n          self._introCompleteCallback.call(self);\n        }\n\n        if (typeof self._introSkipCallback === \"function\") {\n          self._introSkipCallback.call(self);\n        }\n\n        exitIntro.call(self, self._targetElement);\n      };\n\n      tooltipHeaderLayer.appendChild(skipTooltipButton); //in order to prevent displaying previous button always\n\n      if (this._introItems.length > 1) {\n        buttonsLayer.appendChild(prevTooltipButton);\n      } // we always need the next button because this\n      // button changes to \"Done\" in the last step of the tour\n\n\n      buttonsLayer.appendChild(nextTooltipButton);\n      tooltipLayer.appendChild(buttonsLayer); //set proper position\n\n      placeTooltip.call(self, targetElement.element, tooltipLayer, arrowLayer); // change the scroll of the window, if needed\n\n      scrollTo.call(this, targetElement.scrollTo, targetElement, tooltipLayer); //end of new element if-else condition\n    } // removing previous disable interaction layer\n\n\n    var disableInteractionLayer = self._targetElement.querySelector(\".introjs-disableInteraction\");\n\n    if (disableInteractionLayer) {\n      disableInteractionLayer.parentNode.removeChild(disableInteractionLayer);\n    } //disable interaction\n\n\n    if (targetElement.disableInteraction) {\n      _disableInteraction.call(self);\n    } // when it's the first step of tour\n\n\n    if (this._currentStep === 0 && this._introItems.length > 1) {\n      if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n        nextTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-nextbutton\");\n        nextTooltipButton.innerHTML = this._options.nextLabel;\n      }\n\n      if (this._options.hidePrev === true) {\n        if (typeof prevTooltipButton !== \"undefined\" && prevTooltipButton !== null) {\n          prevTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-prevbutton introjs-hidden\");\n        }\n\n        if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n          addClass(nextTooltipButton, \"introjs-fullbutton\");\n        }\n      } else {\n        if (typeof prevTooltipButton !== \"undefined\" && prevTooltipButton !== null) {\n          prevTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-prevbutton introjs-disabled\");\n        }\n      }\n    } else if (this._introItems.length - 1 === this._currentStep || this._introItems.length === 1) {\n      // last step of tour\n      if (typeof prevTooltipButton !== \"undefined\" && prevTooltipButton !== null) {\n        prevTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-prevbutton\");\n      }\n\n      if (this._options.hideNext === true) {\n        if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n          nextTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-nextbutton introjs-hidden\");\n        }\n\n        if (typeof prevTooltipButton !== \"undefined\" && prevTooltipButton !== null) {\n          addClass(prevTooltipButton, \"introjs-fullbutton\");\n        }\n      } else {\n        if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n          if (this._options.nextToDone === true) {\n            nextTooltipButton.innerHTML = this._options.doneLabel;\n            addClass(nextTooltipButton, \"\".concat(this._options.buttonClass, \" introjs-nextbutton introjs-donebutton\"));\n          } else {\n            nextTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-nextbutton introjs-disabled\");\n          }\n        }\n      }\n    } else {\n      // steps between start and end\n      if (typeof prevTooltipButton !== \"undefined\" && prevTooltipButton !== null) {\n        prevTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-prevbutton\");\n      }\n\n      if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n        nextTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-nextbutton\");\n        nextTooltipButton.innerHTML = this._options.nextLabel;\n      }\n    }\n\n    if (typeof prevTooltipButton !== \"undefined\" && prevTooltipButton !== null) {\n      prevTooltipButton.setAttribute(\"role\", \"button\");\n    }\n\n    if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n      nextTooltipButton.setAttribute(\"role\", \"button\");\n    }\n\n    if (typeof skipTooltipButton !== \"undefined\" && skipTooltipButton !== null) {\n      skipTooltipButton.setAttribute(\"role\", \"button\");\n    } //Set focus on \"next\" button, so that hitting Enter always moves you onto the next step\n\n\n    if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n      nextTooltipButton.focus();\n    }\n\n    setShowElement(targetElement);\n\n    if (typeof this._introAfterChangeCallback !== \"undefined\") {\n      this._introAfterChangeCallback.call(this, targetElement.element);\n    }\n  }\n  /**\n   * Go to specific step of introduction\n   *\n   * @api private\n   * @method _goToStep\n   */\n\n\n  function goToStep(step) {\n    //because steps starts with zero\n    this._currentStep = step - 2;\n\n    if (typeof this._introItems !== \"undefined\") {\n      nextStep.call(this);\n    }\n  }\n  /**\n   * Go to the specific step of introduction with the explicit [data-step] number\n   *\n   * @api private\n   * @method _goToStepNumber\n   */\n\n\n  function goToStepNumber(step) {\n    this._currentStepNumber = step;\n\n    if (typeof this._introItems !== \"undefined\") {\n      nextStep.call(this);\n    }\n  }\n  /**\n   * Go to next step on intro\n   *\n   * @api private\n   * @method _nextStep\n   */\n\n\n  function nextStep() {\n    var _this = this;\n\n    this._direction = \"forward\";\n\n    if (typeof this._currentStepNumber !== \"undefined\") {\n      forEach(this._introItems, function (_ref, i) {\n        var step = _ref.step;\n\n        if (step === _this._currentStepNumber) {\n          _this._currentStep = i - 1;\n          _this._currentStepNumber = undefined;\n        }\n      });\n    }\n\n    if (typeof this._currentStep === \"undefined\") {\n      this._currentStep = 0;\n    } else {\n      ++this._currentStep;\n    }\n\n    var nextStep = this._introItems[this._currentStep];\n    var continueStep = true;\n\n    if (typeof this._introBeforeChangeCallback !== \"undefined\") {\n      continueStep = this._introBeforeChangeCallback.call(this, nextStep && nextStep.element);\n    } // if `onbeforechange` returned `false`, stop displaying the element\n\n\n    if (continueStep === false) {\n      --this._currentStep;\n      return false;\n    }\n\n    if (this._introItems.length <= this._currentStep) {\n      //end of the intro\n      //check if any callback is defined\n      if (typeof this._introCompleteCallback === \"function\") {\n        this._introCompleteCallback.call(this);\n      }\n\n      exitIntro.call(this, this._targetElement);\n      return;\n    }\n\n    _showElement.call(this, nextStep);\n  }\n  /**\n   * Go to previous step on intro\n   *\n   * @api private\n   * @method _previousStep\n   */\n\n\n  function previousStep() {\n    this._direction = \"backward\";\n\n    if (this._currentStep === 0) {\n      return false;\n    }\n\n    --this._currentStep;\n    var nextStep = this._introItems[this._currentStep];\n    var continueStep = true;\n\n    if (typeof this._introBeforeChangeCallback !== \"undefined\") {\n      continueStep = this._introBeforeChangeCallback.call(this, nextStep && nextStep.element);\n    } // if `onbeforechange` returned `false`, stop displaying the element\n\n\n    if (continueStep === false) {\n      ++this._currentStep;\n      return false;\n    }\n\n    _showElement.call(this, nextStep);\n  }\n  /**\n   * Returns the current step of the intro\n   *\n   * @returns {number | boolean}\n   */\n\n\n  function currentStep() {\n    return this._currentStep;\n  }\n  /**\n   * on keyCode:\n   * https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyCode\n   * This feature has been removed from the Web standards.\n   * Though some browsers may still support it, it is in\n   * the process of being dropped.\n   * Instead, you should use KeyboardEvent.code,\n   * if it's implemented.\n   *\n   * jQuery's approach is to test for\n   *   (1) e.which, then\n   *   (2) e.charCode, then\n   *   (3) e.keyCode\n   * https://github.com/jquery/jquery/blob/a6b0705294d336ae2f63f7276de0da1195495363/src/event.js#L638\n   *\n   * @param type var\n   * @return type\n   */\n\n\n  function onKeyDown(e) {\n    var code = e.code === undefined ? e.which : e.code; // if e.which is null\n\n    if (code === null) {\n      code = e.charCode === null ? e.keyCode : e.charCode;\n    }\n\n    if ((code === \"Escape\" || code === 27) && this._options.exitOnEsc === true) {\n      //escape key pressed, exit the intro\n      //check if exit callback is defined\n      exitIntro.call(this, this._targetElement);\n    } else if (code === \"ArrowLeft\" || code === 37) {\n      //left arrow\n      previousStep.call(this);\n    } else if (code === \"ArrowRight\" || code === 39) {\n      //right arrow\n      nextStep.call(this);\n    } else if (code === \"Enter\" || code === \"NumpadEnter\" || code === 13) {\n      //srcElement === ie\n      var target = e.target || e.srcElement;\n\n      if (target && target.className.match(\"introjs-prevbutton\")) {\n        //user hit enter while focusing on previous button\n        previousStep.call(this);\n      } else if (target && target.className.match(\"introjs-skipbutton\")) {\n        //user hit enter while focusing on skip button\n        if (this._introItems.length - 1 === this._currentStep && typeof this._introCompleteCallback === \"function\") {\n          this._introCompleteCallback.call(this);\n        }\n\n        exitIntro.call(this, this._targetElement);\n      } else if (target && target.getAttribute(\"data-stepnumber\")) {\n        // user hit enter while focusing on step bullet\n        target.click();\n      } else {\n        //default behavior for responding to enter\n        nextStep.call(this);\n      } //prevent default behaviour on hitting Enter, to prevent steps being skipped in some browsers\n\n\n      if (e.preventDefault) {\n        e.preventDefault();\n      } else {\n        e.returnValue = false;\n      }\n    }\n  }\n  /*\n   * makes a copy of the object\n   * @api private\n   * @method _cloneObject\n   */\n\n\n  function cloneObject(object) {\n    if (object === null || _typeof(object) !== \"object\" || typeof object.nodeType !== \"undefined\") {\n      return object;\n    }\n\n    var temp = {};\n\n    for (var key in object) {\n      if (typeof window.jQuery !== \"undefined\" && object[key] instanceof window.jQuery) {\n        temp[key] = object[key];\n      } else {\n        temp[key] = cloneObject(object[key]);\n      }\n    }\n\n    return temp;\n  }\n  /**\n   * Get a queryselector within the hint wrapper\n   *\n   * @param {String} selector\n   * @return {NodeList|Array}\n   */\n\n\n  function hintQuerySelectorAll(selector) {\n    var hintsWrapper = document.querySelector(\".introjs-hints\");\n    return hintsWrapper ? hintsWrapper.querySelectorAll(selector) : [];\n  }\n  /**\n   * Hide a hint\n   *\n   * @api private\n   * @method hideHint\n   */\n\n\n  function hideHint(stepId) {\n    var hint = hintQuerySelectorAll(\".introjs-hint[data-step=\\\"\".concat(stepId, \"\\\"]\"))[0];\n    removeHintTooltip.call(this);\n\n    if (hint) {\n      addClass(hint, \"introjs-hidehint\");\n    } // call the callback function (if any)\n\n\n    if (typeof this._hintCloseCallback !== \"undefined\") {\n      this._hintCloseCallback.call(this, stepId);\n    }\n  }\n  /**\n   * Hide all hints\n   *\n   * @api private\n   * @method hideHints\n   */\n\n\n  function hideHints() {\n    var _this = this;\n\n    var hints = hintQuerySelectorAll(\".introjs-hint\");\n    forEach(hints, function (hint) {\n      hideHint.call(_this, hint.getAttribute(\"data-step\"));\n    });\n  }\n  /**\n   * Show all hints\n   *\n   * @api private\n   * @method _showHints\n   */\n\n\n  function showHints() {\n    var _this2 = this;\n\n    var hints = hintQuerySelectorAll(\".introjs-hint\");\n\n    if (hints && hints.length) {\n      forEach(hints, function (hint) {\n        showHint.call(_this2, hint.getAttribute(\"data-step\"));\n      });\n    } else {\n      populateHints.call(this, this._targetElement);\n    }\n  }\n  /**\n   * Show a hint\n   *\n   * @api private\n   * @method showHint\n   */\n\n\n  function showHint(stepId) {\n    var hint = hintQuerySelectorAll(\".introjs-hint[data-step=\\\"\".concat(stepId, \"\\\"]\"))[0];\n\n    if (hint) {\n      removeClass(hint, /introjs-hidehint/g);\n    }\n  }\n  /**\n   * Removes all hint elements on the page\n   * Useful when you want to destroy the elements and add them again (e.g. a modal or popup)\n   *\n   * @api private\n   * @method removeHints\n   */\n\n\n  function removeHints() {\n    var _this3 = this;\n\n    var hints = hintQuerySelectorAll(\".introjs-hint\");\n    forEach(hints, function (hint) {\n      removeHint.call(_this3, hint.getAttribute(\"data-step\"));\n    });\n  }\n  /**\n   * Remove one single hint element from the page\n   * Useful when you want to destroy the element and add them again (e.g. a modal or popup)\n   * Use removeHints if you want to remove all elements.\n   *\n   * @api private\n   * @method removeHint\n   */\n\n\n  function removeHint(stepId) {\n    var hint = hintQuerySelectorAll(\".introjs-hint[data-step=\\\"\".concat(stepId, \"\\\"]\"))[0];\n\n    if (hint) {\n      hint.parentNode.removeChild(hint);\n    }\n  }\n  /**\n   * Add all available hints to the page\n   *\n   * @api private\n   * @method addHints\n   */\n\n\n  function addHints() {\n    var _this4 = this;\n\n    var self = this;\n    var hintsWrapper = document.querySelector(\".introjs-hints\");\n\n    if (hintsWrapper === null) {\n      hintsWrapper = _createElement(\"div\", {\n        className: \"introjs-hints\"\n      });\n    }\n    /**\n     * Returns an event handler unique to the hint iteration\n     *\n     * @param {Integer} i\n     * @return {Function}\n     */\n\n\n    var getHintClick = function getHintClick(i) {\n      return function (e) {\n        var evt = e ? e : window.event;\n\n        if (evt.stopPropagation) {\n          evt.stopPropagation();\n        }\n\n        if (evt.cancelBubble !== null) {\n          evt.cancelBubble = true;\n        }\n\n        showHintDialog.call(self, i);\n      };\n    };\n\n    forEach(this._introItems, function (item, i) {\n      // avoid append a hint twice\n      if (document.querySelector(\".introjs-hint[data-step=\\\"\".concat(i, \"\\\"]\"))) {\n        return;\n      }\n\n      var hint = _createElement(\"a\", {\n        className: \"introjs-hint\"\n      });\n\n      setAnchorAsButton(hint);\n      hint.onclick = getHintClick(i);\n\n      if (!item.hintAnimation) {\n        addClass(hint, \"introjs-hint-no-anim\");\n      } // hint's position should be fixed if the target element's position is fixed\n\n\n      if (isFixed(item.element)) {\n        addClass(hint, \"introjs-fixedhint\");\n      }\n\n      var hintDot = _createElement(\"div\", {\n        className: \"introjs-hint-dot\"\n      });\n\n      var hintPulse = _createElement(\"div\", {\n        className: \"introjs-hint-pulse\"\n      });\n\n      hint.appendChild(hintDot);\n      hint.appendChild(hintPulse);\n      hint.setAttribute(\"data-step\", i); // we swap the hint element with target element\n      // because _setHelperLayerPosition uses `element` property\n\n      item.targetElement = item.element;\n      item.element = hint; // align the hint position\n\n      alignHintPosition.call(_this4, item.hintPosition, hint, item.targetElement);\n      hintsWrapper.appendChild(hint);\n    }); // adding the hints wrapper\n\n    document.body.appendChild(hintsWrapper); // call the callback function (if any)\n\n    if (typeof this._hintsAddedCallback !== \"undefined\") {\n      this._hintsAddedCallback.call(this);\n    }\n  }\n  /**\n   * Aligns hint position\n   *\n   * @api private\n   * @method alignHintPosition\n   * @param {String} position\n   * @param {Object} hint\n   * @param {Object} element\n   */\n\n\n  function alignHintPosition(position, _ref, element) {\n    var style = _ref.style; // get/calculate offset of target element\n\n    var offset = getOffset.call(this, element);\n    var iconWidth = 20;\n    var iconHeight = 20; // align the hint element\n\n    switch (position) {\n      default:\n      case \"top-left\":\n        style.left = \"\".concat(offset.left, \"px\");\n        style.top = \"\".concat(offset.top, \"px\");\n        break;\n\n      case \"top-right\":\n        style.left = \"\".concat(offset.left + offset.width - iconWidth, \"px\");\n        style.top = \"\".concat(offset.top, \"px\");\n        break;\n\n      case \"bottom-left\":\n        style.left = \"\".concat(offset.left, \"px\");\n        style.top = \"\".concat(offset.top + offset.height - iconHeight, \"px\");\n        break;\n\n      case \"bottom-right\":\n        style.left = \"\".concat(offset.left + offset.width - iconWidth, \"px\");\n        style.top = \"\".concat(offset.top + offset.height - iconHeight, \"px\");\n        break;\n\n      case \"middle-left\":\n        style.left = \"\".concat(offset.left, \"px\");\n        style.top = \"\".concat(offset.top + (offset.height - iconHeight) / 2, \"px\");\n        break;\n\n      case \"middle-right\":\n        style.left = \"\".concat(offset.left + offset.width - iconWidth, \"px\");\n        style.top = \"\".concat(offset.top + (offset.height - iconHeight) / 2, \"px\");\n        break;\n\n      case \"middle-middle\":\n        style.left = \"\".concat(offset.left + (offset.width - iconWidth) / 2, \"px\");\n        style.top = \"\".concat(offset.top + (offset.height - iconHeight) / 2, \"px\");\n        break;\n\n      case \"bottom-middle\":\n        style.left = \"\".concat(offset.left + (offset.width - iconWidth) / 2, \"px\");\n        style.top = \"\".concat(offset.top + offset.height - iconHeight, \"px\");\n        break;\n\n      case \"top-middle\":\n        style.left = \"\".concat(offset.left + (offset.width - iconWidth) / 2, \"px\");\n        style.top = \"\".concat(offset.top, \"px\");\n        break;\n    }\n  }\n  /**\n   * Triggers when user clicks on the hint element\n   *\n   * @api private\n   * @method _showHintDialog\n   * @param {Number} stepId\n   */\n\n\n  function showHintDialog(stepId) {\n    var hintElement = document.querySelector(\".introjs-hint[data-step=\\\"\".concat(stepId, \"\\\"]\"));\n    var item = this._introItems[stepId]; // call the callback function (if any)\n\n    if (typeof this._hintClickCallback !== \"undefined\") {\n      this._hintClickCallback.call(this, hintElement, item, stepId);\n    } // remove all open tooltips\n\n\n    var removedStep = removeHintTooltip.call(this); // to toggle the tooltip\n\n    if (parseInt(removedStep, 10) === stepId) {\n      return;\n    }\n\n    var tooltipLayer = _createElement(\"div\", {\n      className: \"introjs-tooltip\"\n    });\n\n    var tooltipTextLayer = _createElement(\"div\");\n\n    var arrowLayer = _createElement(\"div\");\n\n    var referenceLayer = _createElement(\"div\");\n\n    tooltipLayer.onclick = function (e) {\n      //IE9 & Other Browsers\n      if (e.stopPropagation) {\n        e.stopPropagation();\n      } //IE8 and Lower\n      else {\n          e.cancelBubble = true;\n        }\n    };\n\n    tooltipTextLayer.className = \"introjs-tooltiptext\";\n\n    var tooltipWrapper = _createElement(\"p\");\n\n    tooltipWrapper.innerHTML = item.hint;\n\n    var closeButton = _createElement(\"a\");\n\n    closeButton.className = this._options.buttonClass;\n    closeButton.setAttribute(\"role\", \"button\");\n    closeButton.innerHTML = this._options.hintButtonLabel;\n    closeButton.onclick = hideHint.bind(this, stepId);\n    tooltipTextLayer.appendChild(tooltipWrapper);\n    tooltipTextLayer.appendChild(closeButton);\n    arrowLayer.className = \"introjs-arrow\";\n    tooltipLayer.appendChild(arrowLayer);\n    tooltipLayer.appendChild(tooltipTextLayer); // set current step for _placeTooltip function\n\n    this._currentStep = hintElement.getAttribute(\"data-step\"); // align reference layer position\n\n    referenceLayer.className = \"introjs-tooltipReferenceLayer introjs-hintReference\";\n    referenceLayer.setAttribute(\"data-step\", hintElement.getAttribute(\"data-step\"));\n    setHelperLayerPosition.call(this, referenceLayer);\n    referenceLayer.appendChild(tooltipLayer);\n    document.body.appendChild(referenceLayer); //set proper position\n\n    placeTooltip.call(this, hintElement, tooltipLayer, arrowLayer, true);\n  }\n  /**\n   * Removes open hint (tooltip hint)\n   *\n   * @api private\n   * @method _removeHintTooltip\n   */\n\n\n  function removeHintTooltip() {\n    var tooltip = document.querySelector(\".introjs-hintReference\");\n\n    if (tooltip) {\n      var step = tooltip.getAttribute(\"data-step\");\n      tooltip.parentNode.removeChild(tooltip);\n      return step;\n    }\n  }\n  /**\n   * Start parsing hint items\n   *\n   * @api private\n   * @param {Object} targetElm\n   * @method _startHint\n   */\n\n\n  function populateHints(targetElm) {\n    var _this5 = this;\n\n    this._introItems = [];\n\n    if (this._options.hints) {\n      forEach(this._options.hints, function (hint) {\n        var currentItem = cloneObject(hint);\n\n        if (typeof currentItem.element === \"string\") {\n          //grab the element with given selector from the page\n          currentItem.element = document.querySelector(currentItem.element);\n        }\n\n        currentItem.hintPosition = currentItem.hintPosition || _this5._options.hintPosition;\n        currentItem.hintAnimation = currentItem.hintAnimation || _this5._options.hintAnimation;\n\n        if (currentItem.element !== null) {\n          _this5._introItems.push(currentItem);\n        }\n      });\n    } else {\n      var hints = targetElm.querySelectorAll(\"*[data-hint]\");\n\n      if (!hints || !hints.length) {\n        return false;\n      } //first add intro items with data-step\n\n\n      forEach(hints, function (currentElement) {\n        // hint animation\n        var hintAnimation = currentElement.getAttribute(\"data-hintanimation\");\n\n        if (hintAnimation) {\n          hintAnimation = hintAnimation === \"true\";\n        } else {\n          hintAnimation = _this5._options.hintAnimation;\n        }\n\n        _this5._introItems.push({\n          element: currentElement,\n          hint: currentElement.getAttribute(\"data-hint\"),\n          hintPosition: currentElement.getAttribute(\"data-hintposition\") || _this5._options.hintPosition,\n          hintAnimation: hintAnimation,\n          tooltipClass: currentElement.getAttribute(\"data-tooltipclass\"),\n          position: currentElement.getAttribute(\"data-position\") || _this5._options.tooltipPosition\n        });\n      });\n    }\n\n    addHints.call(this);\n    /*\n    todo:\n    these events should be removed at some point\n    */\n\n    DOMEvent.on(document, \"click\", removeHintTooltip, this, false);\n    DOMEvent.on(window, \"resize\", reAlignHints, this, true);\n  }\n  /**\n   * Re-aligns all hint elements\n   *\n   * @api private\n   * @method _reAlignHints\n   */\n\n\n  function reAlignHints() {\n    var _this6 = this;\n\n    forEach(this._introItems, function (_ref2) {\n      var targetElement = _ref2.targetElement,\n          hintPosition = _ref2.hintPosition,\n          element = _ref2.element;\n\n      if (typeof targetElement === \"undefined\") {\n        return;\n      }\n\n      alignHintPosition.call(_this6, hintPosition, element, targetElement);\n    });\n  }\n  /**\n   * Update placement of the intro objects on the screen\n   * @api private\n   */\n\n\n  function refresh() {\n    // re-align intros\n    setHelperLayerPosition.call(this, document.querySelector(\".introjs-helperLayer\"));\n    setHelperLayerPosition.call(this, document.querySelector(\".introjs-tooltipReferenceLayer\"));\n    setHelperLayerPosition.call(this, document.querySelector(\".introjs-disableInteraction\")); // re-align tooltip\n\n    if (this._currentStep !== undefined && this._currentStep !== null) {\n      var oldArrowLayer = document.querySelector(\".introjs-arrow\");\n      var oldtooltipContainer = document.querySelector(\".introjs-tooltip\");\n      placeTooltip.call(this, this._introItems[this._currentStep].element, oldtooltipContainer, oldArrowLayer);\n    } //re-align hints\n\n\n    reAlignHints.call(this);\n    return this;\n  }\n\n  function onResize() {\n    refresh.call(this);\n  }\n  /**\n   * Removes `element` from `parentElement`\n   *\n   * @param {Element} element\n   * @param {Boolean} [animate=false]\n   */\n\n\n  function removeChild(element, animate) {\n    if (!element || !element.parentElement) return;\n    var parentElement = element.parentElement;\n\n    if (animate) {\n      setStyle(element, {\n        opacity: \"0\"\n      });\n      window.setTimeout(function () {\n        parentElement.removeChild(element);\n      }, 500);\n    } else {\n      parentElement.removeChild(element);\n    }\n  }\n  /**\n   * Exit from intro\n   *\n   * @api private\n   * @method _exitIntro\n   * @param {Object} targetElement\n   * @param {Boolean} force - Setting to `true` will skip the result of beforeExit callback\n   */\n\n\n  function exitIntro(targetElement, force) {\n    var continueExit = true; // calling onbeforeexit callback\n    //\n    // If this callback return `false`, it would halt the process\n\n    if (this._introBeforeExitCallback !== undefined) {\n      continueExit = this._introBeforeExitCallback.call(this);\n    } // skip this check if `force` parameter is `true`\n    // otherwise, if `onbeforeexit` returned `false`, don't exit the intro\n\n\n    if (!force && continueExit === false) return; // remove overlay layers from the page\n\n    var overlayLayers = targetElement.querySelectorAll(\".introjs-overlay\");\n\n    if (overlayLayers && overlayLayers.length) {\n      forEach(overlayLayers, function (overlayLayer) {\n        return removeChild(overlayLayer);\n      });\n    } //remove all helper layers\n\n\n    var helperLayer = targetElement.querySelector(\".introjs-helperLayer\");\n    removeChild(helperLayer, true);\n    var referenceLayer = targetElement.querySelector(\".introjs-tooltipReferenceLayer\");\n    removeChild(referenceLayer); //remove disableInteractionLayer\n\n    var disableInteractionLayer = targetElement.querySelector(\".introjs-disableInteraction\");\n    removeChild(disableInteractionLayer); //remove intro floating element\n\n    var floatingElement = document.querySelector(\".introjsFloatingElement\");\n    removeChild(floatingElement);\n    removeShowElement(); //clean listeners\n\n    DOMEvent.off(window, \"keydown\", onKeyDown, this, true);\n    DOMEvent.off(window, \"resize\", onResize, this, true); //check if any callback is defined\n\n    if (this._introExitCallback !== undefined) {\n      this._introExitCallback.call(this);\n    } //set the step to zero\n\n\n    this._currentStep = undefined;\n  }\n  /**\n   * Add overlay layer to the page\n   *\n   * @api private\n   * @method _addOverlayLayer\n   * @param {Object} targetElm\n   */\n\n\n  function addOverlayLayer(targetElm) {\n    var overlayLayer = _createElement(\"div\", {\n      className: \"introjs-overlay\"\n    });\n\n    var self = this; // check if the target element is body, we should calculate the size of overlay layer in a better way\n\n    if (!targetElm.tagName || targetElm.tagName.toLowerCase() === \"body\") {\n      setStyle(overlayLayer, {\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0,\n        position: \"fixed\"\n      });\n    } else {\n      // set overlay layer position\n      var elementPosition = getOffset(targetElm);\n\n      if (elementPosition) {\n        setStyle(overlayLayer, {\n          width: \"\".concat(elementPosition.width, \"px\"),\n          height: \"\".concat(elementPosition.height, \"px\"),\n          top: \"\".concat(elementPosition.top, \"px\"),\n          left: \"\".concat(elementPosition.left, \"px\")\n        });\n      }\n    }\n\n    targetElm.appendChild(overlayLayer);\n\n    if (self._options.exitOnOverlayClick === true) {\n      setStyle(overlayLayer, {\n        cursor: \"pointer\"\n      });\n\n      overlayLayer.onclick = function () {\n        exitIntro.call(self, targetElm);\n      };\n    }\n\n    return true;\n  }\n  /**\n   * Initiate a new introduction/guide from an element in the page\n   *\n   * @api private\n   * @method _introForElement\n   * @param {Object} targetElm\n   * @param {String} group\n   * @returns {Boolean} Success or not?\n   */\n\n\n  function introForElement(targetElm, group) {\n    var _this = this;\n\n    var allIntroSteps = targetElm.querySelectorAll(\"*[data-intro]\");\n    var introItems = [];\n\n    if (this._options.steps) {\n      //use steps passed programmatically\n      forEach(this._options.steps, function (step) {\n        var currentItem = cloneObject(step); //set the step\n\n        currentItem.step = introItems.length + 1;\n        currentItem.title = currentItem.title || \"\"; //use querySelector function only when developer used CSS selector\n\n        if (typeof currentItem.element === \"string\") {\n          //grab the element with given selector from the page\n          currentItem.element = document.querySelector(currentItem.element);\n        } //intro without element\n\n\n        if (typeof currentItem.element === \"undefined\" || currentItem.element === null) {\n          var floatingElementQuery = document.querySelector(\".introjsFloatingElement\");\n\n          if (floatingElementQuery === null) {\n            floatingElementQuery = _createElement(\"div\", {\n              className: \"introjsFloatingElement\"\n            });\n            document.body.appendChild(floatingElementQuery);\n          }\n\n          currentItem.element = floatingElementQuery;\n          currentItem.position = \"floating\";\n        }\n\n        currentItem.scrollTo = currentItem.scrollTo || _this._options.scrollTo;\n\n        if (typeof currentItem.disableInteraction === \"undefined\") {\n          currentItem.disableInteraction = _this._options.disableInteraction;\n        }\n\n        if (currentItem.element !== null) {\n          introItems.push(currentItem);\n        }\n      });\n    } else {\n      //use steps from data-* annotations\n      var elmsLength = allIntroSteps.length;\n      var disableInteraction; //if there's no element to intro\n\n      if (elmsLength < 1) {\n        return false;\n      }\n\n      forEach(allIntroSteps, function (currentElement) {\n        // PR #80\n        // start intro for groups of elements\n        if (group && currentElement.getAttribute(\"data-intro-group\") !== group) {\n          return;\n        } // skip hidden elements\n\n\n        if (currentElement.style.display === \"none\") {\n          return;\n        }\n\n        var step = parseInt(currentElement.getAttribute(\"data-step\"), 10);\n\n        if (currentElement.hasAttribute(\"data-disable-interaction\")) {\n          disableInteraction = !!currentElement.getAttribute(\"data-disable-interaction\");\n        } else {\n          disableInteraction = _this._options.disableInteraction;\n        }\n\n        if (step > 0) {\n          introItems[step - 1] = {\n            element: currentElement,\n            title: currentElement.getAttribute(\"data-title\") || \"\",\n            intro: currentElement.getAttribute(\"data-intro\"),\n            step: parseInt(currentElement.getAttribute(\"data-step\"), 10),\n            tooltipClass: currentElement.getAttribute(\"data-tooltipclass\"),\n            highlightClass: currentElement.getAttribute(\"data-highlightclass\"),\n            position: currentElement.getAttribute(\"data-position\") || _this._options.tooltipPosition,\n            scrollTo: currentElement.getAttribute(\"data-scrollto\") || _this._options.scrollTo,\n            disableInteraction: disableInteraction\n          };\n        }\n      }); //next add intro items without data-step\n      //todo: we need a cleanup here, two loops are redundant\n\n      var _nextStep = 0;\n      forEach(allIntroSteps, function (currentElement) {\n        // PR #80\n        // start intro for groups of elements\n        if (group && currentElement.getAttribute(\"data-intro-group\") !== group) {\n          return;\n        }\n\n        if (currentElement.getAttribute(\"data-step\") === null) {\n          while (true) {\n            if (typeof introItems[_nextStep] === \"undefined\") {\n              break;\n            } else {\n              _nextStep++;\n            }\n          }\n\n          if (currentElement.hasAttribute(\"data-disable-interaction\")) {\n            disableInteraction = !!currentElement.getAttribute(\"data-disable-interaction\");\n          } else {\n            disableInteraction = _this._options.disableInteraction;\n          }\n\n          introItems[_nextStep] = {\n            element: currentElement,\n            title: currentElement.getAttribute(\"data-title\") || \"\",\n            intro: currentElement.getAttribute(\"data-intro\"),\n            step: _nextStep + 1,\n            tooltipClass: currentElement.getAttribute(\"data-tooltipclass\"),\n            highlightClass: currentElement.getAttribute(\"data-highlightclass\"),\n            position: currentElement.getAttribute(\"data-position\") || _this._options.tooltipPosition,\n            scrollTo: currentElement.getAttribute(\"data-scrollto\") || _this._options.scrollTo,\n            disableInteraction: disableInteraction\n          };\n        }\n      });\n    } //removing undefined/null elements\n\n\n    var tempIntroItems = [];\n\n    for (var z = 0; z < introItems.length; z++) {\n      if (introItems[z]) {\n        // copy non-falsy values to the end of the array\n        tempIntroItems.push(introItems[z]);\n      }\n    }\n\n    introItems = tempIntroItems; //Ok, sort all items with given steps\n\n    introItems.sort(function (a, b) {\n      return a.step - b.step;\n    }); //set it to the introJs object\n\n    this._introItems = introItems; //add overlay layer to the page\n\n    if (addOverlayLayer.call(this, targetElm)) {\n      //then, start the show\n      nextStep.call(this);\n\n      if (this._options.keyboardNavigation) {\n        DOMEvent.on(window, \"keydown\", onKeyDown, this, true);\n      } //for window resize\n\n\n      DOMEvent.on(window, \"resize\", onResize, this, true);\n    }\n\n    return false;\n  }\n\n  var version$1 = \"3.3.1\";\n  /**\n   * IntroJs main class\n   *\n   * @class IntroJs\n   */\n\n  function IntroJs(obj) {\n    this._targetElement = obj;\n    this._introItems = [];\n    this._options = {\n      /* Next button label in tooltip box */\n      nextLabel: \"Next\",\n\n      /* Previous button label in tooltip box */\n      prevLabel: \"Back\",\n\n      /* Skip button label in tooltip box */\n      skipLabel: \"Ã\",\n\n      /* Done button label in tooltip box */\n      doneLabel: \"Done\",\n\n      /* Hide previous button in the first step? Otherwise, it will be disabled button. */\n      hidePrev: false,\n\n      /* Hide next button in the last step? Otherwise, it will be disabled button (note: this will also hide the \"Done\" button) */\n      hideNext: false,\n\n      /* Change the Next button to Done in the last step of the intro? otherwise, it will render a disabled button */\n      nextToDone: true,\n\n      /* Default tooltip box position */\n      tooltipPosition: \"bottom\",\n\n      /* Next CSS class for tooltip boxes */\n      tooltipClass: \"\",\n\n      /* CSS class that is added to the helperLayer */\n      highlightClass: \"\",\n\n      /* Close introduction when pressing Escape button? */\n      exitOnEsc: true,\n\n      /* Close introduction when clicking on overlay layer? */\n      exitOnOverlayClick: true,\n\n      /* Show step numbers in introduction? */\n      showStepNumbers: false,\n\n      /* Let user use keyboard to navigate the tour? */\n      keyboardNavigation: true,\n\n      /* Show tour control buttons? */\n      showButtons: true,\n\n      /* Show tour bullets? */\n      showBullets: true,\n\n      /* Show tour progress? */\n      showProgress: false,\n\n      /* Scroll to highlighted element? */\n      scrollToElement: true,\n\n      /*\n       * Should we scroll the tooltip or target element?\n       *\n       * Options are: 'element' or 'tooltip'\n       */\n      scrollTo: \"element\",\n\n      /* Padding to add after scrolling when element is not in the viewport (in pixels) */\n      scrollPadding: 30,\n\n      /* Set the overlay opacity */\n      overlayOpacity: 0.5,\n\n      /* To determine the tooltip position automatically based on the window.width/height */\n      autoPosition: true,\n\n      /* Precedence of positions, when auto is enabled */\n      positionPrecedence: [\"bottom\", \"top\", \"right\", \"left\"],\n\n      /* Disable an interaction with element? */\n      disableInteraction: false,\n\n      /* Set how much padding to be used around helper element */\n      helperElementPadding: 10,\n\n      /* Default hint position */\n      hintPosition: \"top-middle\",\n\n      /* Hint button label */\n      hintButtonLabel: \"Got it\",\n\n      /* Adding animation to hints? */\n      hintAnimation: true,\n\n      /* additional classes to put on the buttons */\n      buttonClass: \"introjs-button\",\n\n      /* additional classes to put on progress bar */\n      progressBarAdditionalClass: false\n    };\n  }\n\n  var introJs = function introJs(targetElm) {\n    var instance;\n\n    if (_typeof(targetElm) === \"object\") {\n      //Ok, create a new instance\n      instance = new IntroJs(targetElm);\n    } else if (typeof targetElm === \"string\") {\n      //select the target element with query selector\n      var targetElement = document.querySelector(targetElm);\n\n      if (targetElement) {\n        instance = new IntroJs(targetElement);\n      } else {\n        throw new Error(\"There is no element with given selector.\");\n      }\n    } else {\n      instance = new IntroJs(document.body);\n    } // add instance to list of _instances\n    // passing group to stamp to increment\n    // from 0 onward somewhat reliably\n\n\n    introJs.instances[stamp(instance, \"introjs-instance\")] = instance;\n    return instance;\n  };\n  /**\n   * Current IntroJs version\n   *\n   * @property version\n   * @type String\n   */\n\n\n  introJs.version = version$1;\n  /**\n   * key-val object helper for introJs instances\n   *\n   * @property instances\n   * @type Object\n   */\n\n  introJs.instances = {}; //Prototype\n\n  introJs.fn = IntroJs.prototype = {\n    clone: function clone() {\n      return new IntroJs(this);\n    },\n    setOption: function setOption(option, value) {\n      this._options[option] = value;\n      return this;\n    },\n    setOptions: function setOptions(options) {\n      this._options = mergeOptions(this._options, options);\n      return this;\n    },\n    start: function start(group) {\n      introForElement.call(this, this._targetElement, group);\n      return this;\n    },\n    goToStep: function goToStep$1(step) {\n      goToStep.call(this, step);\n      return this;\n    },\n    addStep: function addStep(options) {\n      if (!this._options.steps) {\n        this._options.steps = [];\n      }\n\n      this._options.steps.push(options);\n\n      return this;\n    },\n    addSteps: function addSteps(steps) {\n      if (!steps.length) return;\n\n      for (var index = 0; index < steps.length; index++) {\n        this.addStep(steps[index]);\n      }\n\n      return this;\n    },\n    goToStepNumber: function goToStepNumber$1(step) {\n      goToStepNumber.call(this, step);\n      return this;\n    },\n    nextStep: function nextStep$1() {\n      nextStep.call(this);\n      return this;\n    },\n    previousStep: function previousStep$1() {\n      previousStep.call(this);\n      return this;\n    },\n    currentStep: function currentStep$1() {\n      return currentStep.call(this);\n    },\n    exit: function exit(force) {\n      exitIntro.call(this, this._targetElement, force);\n      return this;\n    },\n    refresh: function refresh$1() {\n      refresh.call(this);\n      return this;\n    },\n    onbeforechange: function onbeforechange(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._introBeforeChangeCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onbeforechange was not a function\");\n      }\n\n      return this;\n    },\n    onchange: function onchange(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._introChangeCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onchange was not a function.\");\n      }\n\n      return this;\n    },\n    onafterchange: function onafterchange(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._introAfterChangeCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onafterchange was not a function\");\n      }\n\n      return this;\n    },\n    oncomplete: function oncomplete(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._introCompleteCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for oncomplete was not a function.\");\n      }\n\n      return this;\n    },\n    onhintsadded: function onhintsadded(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._hintsAddedCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onhintsadded was not a function.\");\n      }\n\n      return this;\n    },\n    onhintclick: function onhintclick(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._hintClickCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onhintclick was not a function.\");\n      }\n\n      return this;\n    },\n    onhintclose: function onhintclose(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._hintCloseCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onhintclose was not a function.\");\n      }\n\n      return this;\n    },\n    onexit: function onexit(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._introExitCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onexit was not a function.\");\n      }\n\n      return this;\n    },\n    onskip: function onskip(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._introSkipCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onskip was not a function.\");\n      }\n\n      return this;\n    },\n    onbeforeexit: function onbeforeexit(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._introBeforeExitCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onbeforeexit was not a function.\");\n      }\n\n      return this;\n    },\n    addHints: function addHints() {\n      populateHints.call(this, this._targetElement);\n      return this;\n    },\n    hideHint: function hideHint$1(stepId) {\n      hideHint.call(this, stepId);\n      return this;\n    },\n    hideHints: function hideHints$1() {\n      hideHints.call(this);\n      return this;\n    },\n    showHint: function showHint$1(stepId) {\n      showHint.call(this, stepId);\n      return this;\n    },\n    showHints: function showHints$1() {\n      showHints.call(this);\n      return this;\n    },\n    removeHints: function removeHints$1() {\n      removeHints.call(this);\n      return this;\n    },\n    removeHint: function removeHint$1(stepId) {\n      removeHint().call(this, stepId);\n      return this;\n    },\n    showHintDialog: function showHintDialog$1(stepId) {\n      showHintDialog.call(this, stepId);\n      return this;\n    }\n  };\n  return introJs;\n});","map":{"version":3,"sources":["/home/datquocngo/Project/Hung/gts-fe/node_modules/intro.js/intro.js"],"names":["global","factory","exports","module","define","amd","self","introJs","_typeof","obj","Symbol","iterator","constructor","prototype","mergeOptions","obj1","obj2","obj3","attrname","stamp","keys","key","arguments","length","undefined","forEach","arr","forEachFnc","completeFnc","i","len","DOMEvent","events_key","_id","type","listener","context","concat","on","useCapture","id","apply","handler","e","call","window","event","addEventListener","attachEvent","off","removeEventListener","detachEvent","commonjsGlobal","globalThis","createCommonjsModule","fn","check","it","Math","global_1","Function","fails","exec","error","descriptors","Object","defineProperty","get","nativePropertyIsEnumerable","propertyIsEnumerable","getOwnPropertyDescriptor","NASHORN_BUG","f","V","descriptor","enumerable","objectPropertyIsEnumerable","createPropertyDescriptor","bitmap","value","configurable","writable","toString","classofRaw","slice","split","indexedObject","requireObjectCoercible","TypeError","toIndexedObject","isObject","toPrimitive","input","PREFERRED_STRING","val","valueOf","hasOwnProperty","has","document$1","document","EXISTS","createElement","documentCreateElement","ie8DomDefine","a","nativeGetOwnPropertyDescriptor","f$1","O","P","objectGetOwnPropertyDescriptor","anObject","String","nativeDefineProperty","f$2","Attributes","objectDefineProperty","createNonEnumerableProperty","object","setGlobal","SHARED","store","sharedStore","functionToString","inspectSource","WeakMap","nativeWeakMap","test","shared","push","version","mode","copyright","postfix","random","uid","sharedKey","hiddenKeys","WeakMap$1","set","has$1","enforce","getterFor","TYPE","state","store$1","wmget","wmhas","wmset","metadata","facade","STATE","internalState","redefine","getInternalState","enforceInternalState","TEMPLATE","options","unsafe","simple","noTargetGet","source","join","path","aFunction","variable","getBuiltIn","namespace","method","ceil","floor","toInteger","argument","isNaN","min","toLength","max","min$1","toAbsoluteIndex","index","integer","createMethod","IS_INCLUDES","$this","el","fromIndex","arrayIncludes","includes","indexOf","objectKeysInternal","names","result","enumBugKeys","hiddenKeys$1","f$3","getOwnPropertyNames","objectGetOwnPropertyNames","f$4","getOwnPropertySymbols","objectGetOwnPropertySymbols","ownKeys","copyConstructorProperties","target","replacement","isForced","feature","detection","data","normalize","POLYFILL","NATIVE","string","replace","toLowerCase","isForced_1","getOwnPropertyDescriptor$1","_export","TARGET","GLOBAL","STATIC","stat","FORCED","targetProperty","sourceProperty","forced","sham","regexpFlags","that","ignoreCase","multiline","dotAll","unicode","sticky","RE","s","RegExp","UNSUPPORTED_Y","re","lastIndex","BROKEN_CARET","regexpStickyHelpers","nativeExec","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","re1","re2","UNSUPPORTED_Y$1","NPCG_INCLUDED","PATCH","str","reCopy","match","flags","charsAdded","strCopy","regexpExec","proto","nativeSymbol","useSymbolAsUid","WellKnownSymbolsStore","Symbol$1","createWellKnownSymbol","withoutSetter","wellKnownSymbol","name","SPECIES","REPLACE_SUPPORTS_NAMED_GROUPS","groups","REPLACE_KEEPS_$0","REPLACE","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","fixRegexpWellKnownSymbolLogic","KEY","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","nativeRegExpMethod","methods","nativeMethod","regexp","arg2","forceStringMethod","done","stringMethod","regexMethod","arg","createMethod$1","CONVERT_TO_STRING","pos","S","position","size","first","second","charCodeAt","charAt","stringMultibyte","codeAt","advanceStringIndex","regexpExecAbstract","R","MATCH","nativeMatch","maybeCallNative","matcher","res","rx","fullUnicode","A","n","matchStr","isArray","Array","toObject","createProperty","propertyKey","SPECIES$1","arraySpeciesCreate","originalArray","C","engineUserAgent","process","versions","v8","engineV8Version","SPECIES$2","arrayMethodHasSpeciesSupport","METHOD_NAME","array","foo","Boolean","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","SPECIES_SUPPORT","isConcatSpreadable","spreadable","k","E","TO_STRING_TAG","toStringTagSupport","TO_STRING_TAG$1","CORRECT_ARGUMENTS","tryGet","classof","tag","callee","objectToString","TO_STRING","RegExpPrototype","nativeToString","NOT_GENERIC","INCORRECT_NAME","p","rf","isRegexp","isRegExp","aFunction$1","SPECIES$3","speciesConstructor","defaultConstructor","arrayPush","min$2","MAX_UINT32","SUPPORTS_Y","SPLIT","nativeSplit","internalSplit","separator","limit","lim","output","lastLastIndex","separatorCopy","lastLength","splitter","unicodeMatching","q","z","addClass","element","className","SVGElement","pre","getAttribute","setAttribute","classList","classes","cls","add","getPropValue","propName","propValue","currentStyle","defaultView","getComputedStyle","getPropertyValue","setShowElement","_ref","currentElementPosition","getScrollParent","style","excludeStaticParent","overflowRegex","body","parent","parentElement","overflow","overflowY","overflowX","scrollParentToElement","targetElement","_options","scrollToElement","scrollTop","offsetTop","getWinSize","innerWidth","width","height","innerHeight","D","documentElement","clientWidth","clientHeight","elementInViewport","rect","getBoundingClientRect","top","left","bottom","right","scrollTo","tooltipLayer","winHeight","scrollBy","scrollPadding","setAnchorAsButton","anchor","tabIndex","getOffset","docEl","pageYOffset","scrollLeft","pageXOffset","x","isFixed","parentNode","nodeName","floor$1","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","getSubstitution","matched","captures","namedCaptures","tailPos","m","symbols","ch","capture","max$1","min$3","maybeToString","reason","UNSAFE_SUBSTITUTE","searchValue","replaceValue","replacer","functionalReplace","results","accumulatedResult","nextSourcePosition","j","replacerArgs","removeClass","classNameRegex","setStyle","cssText","rule","setHelperLayerPosition","helperLayer","_introItems","_currentStep","currentElement","elementPosition","widthHeightPadding","helperElementPadding","functionBindContext","b","c","createMethod$2","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","IS_FILTER_OUT","NO_HOLES","callbackfn","specificCreate","boundFunction","create","arrayIteration","map","filter","some","every","find","findIndex","filterOut","cache","thrower","arrayMethodUsesToLength","ACCESSORS","argument0","argument1","$filter","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","objectKeys","objectDefineProperties","defineProperties","Properties","html","GT","LT","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","content","NullProtoObjectViaActiveX","activeXDocument","write","close","temp","parentWindow","NullProtoObjectViaIFrame","iframe","JS","iframeDocument","display","appendChild","src","contentWindow","open","F","NullProtoObject","domain","ActiveXObject","objectCreate","UNSCOPABLES","ArrayPrototype","addToUnscopables","$includes","USES_TO_LENGTH$1","arrayMethodIsStrict","$indexOf","nativeIndexOf","NEGATIVE_ZERO","STRICT_METHOD","USES_TO_LENGTH$2","searchElement","nativeJoin","ES3_STRINGS","STRICT_METHOD$1","HAS_SPECIES_SUPPORT$1","USES_TO_LENGTH$3","SPECIES$4","nativeSlice","max$2","start","end","fin","Constructor","notARegexp","MATCH$1","correctIsRegexpLogic","error1","error2","searchString","checkRight","targetOffset","tooltipLayerStyleLeft","tooltipOffset","windowSize","checkLeft","tooltipLayerStyleRight","HAS_SPECIES_SUPPORT$2","USES_TO_LENGTH$4","max$3","min$4","MAX_SAFE_INTEGER$1","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","splice","deleteCount","actualStart","argumentsLength","insertCount","actualDeleteCount","from","to","removeEntry","stringArray","stringToRemove","_determineAutoAlignment","offsetLeft","tooltipWidth","desiredAlignment","halfTooltipWidth","winWidth","screen","possibleAlignments","calculatedAlignment","_determineAutoPosition","desiredTooltipPosition","possiblePositions","positionPrecedence","tooltipHeight","targetElementRect","calculatedPosition","hyphenIndex","substr","placeTooltip","arrowLayer","hintMode","tooltipCssClass","currentStepObj","currentTooltipPosition","marginLeft","marginTop","tooltipClass","autoPosition","tooltipLayerStyleLeftRight","showStepNumbers","removeShowElement","elms","querySelectorAll","elm","_createElement","tagname","attrs","setAttRegex","v","animate","existingOpacity","opacity","setTimeout","_getProgress","currentStep","parseInt","_disableInteraction","disableInteractionLayer","querySelector","_targetElement","_showElement","_this","_introChangeCallback","oldHelperLayer","oldReferenceLayer","highlightClass","nextTooltipButton","prevTooltipButton","skipTooltipButton","oldHelperNumberLayer","oldtooltipLayer","oldTooltipTitleLayer","oldArrowLayer","oldtooltipContainer","_lastShowElementTimer","clearTimeout","innerHTML","step","intro","title","showBullets","focus","referenceLayer","tooltipTextLayer","tooltipHeaderLayer","tooltipTitleLayer","bulletsLayer","progressLayer","buttonsLayer","overlayOpacity","ulContainer","anchorClick","goToStep","innerLi","anchorLink","onclick","showProgress","progressBar","progressBarAdditionalClass","showButtons","helperNumberLayer","nextStep","_introCompleteCallback","exitIntro","nextLabel","previousStep","prevLabel","skipLabel","_introSkipCallback","removeChild","disableInteraction","buttonClass","hidePrev","hideNext","nextToDone","doneLabel","_introAfterChangeCallback","goToStepNumber","_currentStepNumber","_direction","continueStep","_introBeforeChangeCallback","onKeyDown","code","which","charCode","keyCode","exitOnEsc","srcElement","click","preventDefault","returnValue","cloneObject","nodeType","jQuery","hintQuerySelectorAll","selector","hintsWrapper","hideHint","stepId","hint","removeHintTooltip","_hintCloseCallback","hideHints","hints","showHints","_this2","showHint","populateHints","removeHints","_this3","removeHint","addHints","_this4","getHintClick","evt","stopPropagation","cancelBubble","showHintDialog","item","hintAnimation","hintDot","hintPulse","alignHintPosition","hintPosition","_hintsAddedCallback","offset","iconWidth","iconHeight","hintElement","_hintClickCallback","removedStep","tooltipWrapper","closeButton","hintButtonLabel","bind","tooltip","targetElm","_this5","currentItem","tooltipPosition","reAlignHints","_this6","_ref2","refresh","onResize","force","continueExit","_introBeforeExitCallback","overlayLayers","overlayLayer","floatingElement","_introExitCallback","addOverlayLayer","tagName","exitOnOverlayClick","cursor","introForElement","group","allIntroSteps","introItems","steps","floatingElementQuery","elmsLength","hasAttribute","_nextStep","tempIntroItems","sort","keyboardNavigation","version$1","IntroJs","instance","Error","instances","clone","setOption","option","setOptions","goToStep$1","addStep","addSteps","goToStepNumber$1","nextStep$1","previousStep$1","currentStep$1","exit","refresh$1","onbeforechange","providedCallback","onchange","onafterchange","oncomplete","onhintsadded","onhintclick","onhintclose","onexit","onskip","onbeforeexit","hideHint$1","hideHints$1","showHint$1","showHints$1","removeHints$1","removeHint$1","showHintDialog$1"],"mappings":"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","sourcesContent":["/*!\n * Intro.js v3.3.1\n * https://introjs.com\n *\n * Copyright (C) 2012-2021 Afshin Mehrabani (@afshinmeh).\n * https://raw.githubusercontent.com/usablica/intro.js/master/license.md\n *\n * Date: Sun, 07 Feb 2021 12:38:48 GMT\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.introJs = factory());\n}(this, (function () { 'use strict';\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  /**\n   * Overwrites obj1's values with obj2's and adds obj2's if non existent in obj1\n   * via: http://stackoverflow.com/questions/171251/how-can-i-merge-properties-of-two-javascript-objects-dynamically\n   *\n   * @param obj1\n   * @param obj2\n   * @returns obj3 a new object based on obj1 and obj2\n   */\n  function mergeOptions(obj1, obj2) {\n    var obj3 = {};\n    var attrname;\n\n    for (attrname in obj1) {\n      obj3[attrname] = obj1[attrname];\n    }\n\n    for (attrname in obj2) {\n      obj3[attrname] = obj2[attrname];\n    }\n\n    return obj3;\n  }\n\n  /**\n   * Mark any object with an incrementing number\n   * used for keeping track of objects\n   *\n   * @param Object obj   Any object or DOM Element\n   * @param String key\n   * @return Object\n   */\n  var stamp = function () {\n    var keys = {};\n    return function stamp(obj) {\n      var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"introjs-stamp\";\n      // each group increments from 0\n      keys[key] = keys[key] || 0; // stamp only once per object\n\n      if (obj[key] === undefined) {\n        // increment key for each new object\n        obj[key] = keys[key]++;\n      }\n\n      return obj[key];\n    };\n  }();\n\n  /**\n   * Iterates arrays\n   *\n   * @param {Array} arr\n   * @param {Function} forEachFnc\n   * @param {Function} completeFnc\n   * @return {Null}\n   */\n  function forEach(arr, forEachFnc, completeFnc) {\n    // in case arr is an empty query selector node list\n    if (arr) {\n      for (var i = 0, len = arr.length; i < len; i++) {\n        forEachFnc(arr[i], i);\n      }\n    }\n\n    if (typeof completeFnc === \"function\") {\n      completeFnc();\n    }\n  }\n\n  /**\n   * DOMEvent Handles all DOM events\n   *\n   * methods:\n   *\n   * on - add event handler\n   * off - remove event\n   */\n\n  var DOMEvent = function () {\n    function DOMEvent() {\n      var events_key = \"introjs_event\";\n      /**\n       * Gets a unique ID for an event listener\n       *\n       * @param obj Object\n       * @param type event type\n       * @param listener Function\n       * @param context Object\n       * @return String\n       */\n\n      this._id = function (obj, type, listener, context) {\n        return type + stamp(listener) + (context ? \"_\".concat(stamp(context)) : \"\");\n      };\n      /**\n       * Adds event listener\n       *\n       * @param obj Object obj\n       * @param type String\n       * @param listener Function\n       * @param context Object\n       * @param useCapture Boolean\n       * @return null\n       */\n\n\n      this.on = function (obj, type, listener, context, useCapture) {\n        var id = this._id.apply(this, arguments);\n\n        var handler = function handler(e) {\n          return listener.call(context || obj, e || window.event);\n        };\n\n        if (\"addEventListener\" in obj) {\n          obj.addEventListener(type, handler, useCapture);\n        } else if (\"attachEvent\" in obj) {\n          obj.attachEvent(\"on\".concat(type), handler);\n        }\n\n        obj[events_key] = obj[events_key] || {};\n        obj[events_key][id] = handler;\n      };\n      /**\n       * Removes event listener\n       *\n       * @param obj Object\n       * @param type String\n       * @param listener Function\n       * @param context Object\n       * @param useCapture Boolean\n       * @return null\n       */\n\n\n      this.off = function (obj, type, listener, context, useCapture) {\n        var id = this._id.apply(this, arguments);\n\n        var handler = obj[events_key] && obj[events_key][id];\n\n        if (!handler) {\n          return;\n        }\n\n        if (\"removeEventListener\" in obj) {\n          obj.removeEventListener(type, handler, useCapture);\n        } else if (\"detachEvent\" in obj) {\n          obj.detachEvent(\"on\".concat(type), handler);\n        }\n\n        obj[events_key][id] = null;\n      };\n    }\n\n    return new DOMEvent();\n  }();\n\n  var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n  function createCommonjsModule(fn, module) {\n  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  var check = function (it) {\n    return it && it.Math == Math && it;\n  };\n\n  // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n  var global_1 =\n    // eslint-disable-next-line no-undef\n    check(typeof globalThis == 'object' && globalThis) ||\n    check(typeof window == 'object' && window) ||\n    check(typeof self == 'object' && self) ||\n    check(typeof commonjsGlobal == 'object' && commonjsGlobal) ||\n    // eslint-disable-next-line no-new-func\n    (function () { return this; })() || Function('return this')();\n\n  var fails = function (exec) {\n    try {\n      return !!exec();\n    } catch (error) {\n      return true;\n    }\n  };\n\n  // Detect IE8's incomplete defineProperty implementation\n  var descriptors = !fails(function () {\n    return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n  });\n\n  var nativePropertyIsEnumerable = {}.propertyIsEnumerable;\n  var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n  // Nashorn ~ JDK8 bug\n  var NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n  // `Object.prototype.propertyIsEnumerable` method implementation\n  // https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\n  var f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n    var descriptor = getOwnPropertyDescriptor(this, V);\n    return !!descriptor && descriptor.enumerable;\n  } : nativePropertyIsEnumerable;\n\n  var objectPropertyIsEnumerable = {\n  \tf: f\n  };\n\n  var createPropertyDescriptor = function (bitmap, value) {\n    return {\n      enumerable: !(bitmap & 1),\n      configurable: !(bitmap & 2),\n      writable: !(bitmap & 4),\n      value: value\n    };\n  };\n\n  var toString = {}.toString;\n\n  var classofRaw = function (it) {\n    return toString.call(it).slice(8, -1);\n  };\n\n  var split = ''.split;\n\n  // fallback for non-array-like ES3 and non-enumerable old V8 strings\n  var indexedObject = fails(function () {\n    // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n    // eslint-disable-next-line no-prototype-builtins\n    return !Object('z').propertyIsEnumerable(0);\n  }) ? function (it) {\n    return classofRaw(it) == 'String' ? split.call(it, '') : Object(it);\n  } : Object;\n\n  // `RequireObjectCoercible` abstract operation\n  // https://tc39.es/ecma262/#sec-requireobjectcoercible\n  var requireObjectCoercible = function (it) {\n    if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n    return it;\n  };\n\n  // toObject with fallback for non-array-like ES3 strings\n\n\n\n  var toIndexedObject = function (it) {\n    return indexedObject(requireObjectCoercible(it));\n  };\n\n  var isObject = function (it) {\n    return typeof it === 'object' ? it !== null : typeof it === 'function';\n  };\n\n  // `ToPrimitive` abstract operation\n  // https://tc39.es/ecma262/#sec-toprimitive\n  // instead of the ES6 spec version, we didn't implement @@toPrimitive case\n  // and the second argument - flag - preferred type is a string\n  var toPrimitive = function (input, PREFERRED_STRING) {\n    if (!isObject(input)) return input;\n    var fn, val;\n    if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n    if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n    if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n    throw TypeError(\"Can't convert object to primitive value\");\n  };\n\n  var hasOwnProperty = {}.hasOwnProperty;\n\n  var has = function (it, key) {\n    return hasOwnProperty.call(it, key);\n  };\n\n  var document$1 = global_1.document;\n  // typeof document.createElement is 'object' in old IE\n  var EXISTS = isObject(document$1) && isObject(document$1.createElement);\n\n  var documentCreateElement = function (it) {\n    return EXISTS ? document$1.createElement(it) : {};\n  };\n\n  // Thank's IE8 for his funny defineProperty\n  var ie8DomDefine = !descriptors && !fails(function () {\n    return Object.defineProperty(documentCreateElement('div'), 'a', {\n      get: function () { return 7; }\n    }).a != 7;\n  });\n\n  var nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\n  var f$1 = descriptors ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n    O = toIndexedObject(O);\n    P = toPrimitive(P, true);\n    if (ie8DomDefine) try {\n      return nativeGetOwnPropertyDescriptor(O, P);\n    } catch (error) { /* empty */ }\n    if (has(O, P)) return createPropertyDescriptor(!objectPropertyIsEnumerable.f.call(O, P), O[P]);\n  };\n\n  var objectGetOwnPropertyDescriptor = {\n  \tf: f$1\n  };\n\n  var anObject = function (it) {\n    if (!isObject(it)) {\n      throw TypeError(String(it) + ' is not an object');\n    } return it;\n  };\n\n  var nativeDefineProperty = Object.defineProperty;\n\n  // `Object.defineProperty` method\n  // https://tc39.es/ecma262/#sec-object.defineproperty\n  var f$2 = descriptors ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n    anObject(O);\n    P = toPrimitive(P, true);\n    anObject(Attributes);\n    if (ie8DomDefine) try {\n      return nativeDefineProperty(O, P, Attributes);\n    } catch (error) { /* empty */ }\n    if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n    if ('value' in Attributes) O[P] = Attributes.value;\n    return O;\n  };\n\n  var objectDefineProperty = {\n  \tf: f$2\n  };\n\n  var createNonEnumerableProperty = descriptors ? function (object, key, value) {\n    return objectDefineProperty.f(object, key, createPropertyDescriptor(1, value));\n  } : function (object, key, value) {\n    object[key] = value;\n    return object;\n  };\n\n  var setGlobal = function (key, value) {\n    try {\n      createNonEnumerableProperty(global_1, key, value);\n    } catch (error) {\n      global_1[key] = value;\n    } return value;\n  };\n\n  var SHARED = '__core-js_shared__';\n  var store = global_1[SHARED] || setGlobal(SHARED, {});\n\n  var sharedStore = store;\n\n  var functionToString = Function.toString;\n\n  // this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\n  if (typeof sharedStore.inspectSource != 'function') {\n    sharedStore.inspectSource = function (it) {\n      return functionToString.call(it);\n    };\n  }\n\n  var inspectSource = sharedStore.inspectSource;\n\n  var WeakMap = global_1.WeakMap;\n\n  var nativeWeakMap = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n\n  var shared = createCommonjsModule(function (module) {\n  (module.exports = function (key, value) {\n    return sharedStore[key] || (sharedStore[key] = value !== undefined ? value : {});\n  })('versions', []).push({\n    version: '3.8.3',\n    mode:  'global',\n    copyright: 'Â© 2021 Denis Pushkarev (zloirock.ru)'\n  });\n  });\n\n  var id = 0;\n  var postfix = Math.random();\n\n  var uid = function (key) {\n    return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n  };\n\n  var keys = shared('keys');\n\n  var sharedKey = function (key) {\n    return keys[key] || (keys[key] = uid(key));\n  };\n\n  var hiddenKeys = {};\n\n  var WeakMap$1 = global_1.WeakMap;\n  var set, get, has$1;\n\n  var enforce = function (it) {\n    return has$1(it) ? get(it) : set(it, {});\n  };\n\n  var getterFor = function (TYPE) {\n    return function (it) {\n      var state;\n      if (!isObject(it) || (state = get(it)).type !== TYPE) {\n        throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n      } return state;\n    };\n  };\n\n  if (nativeWeakMap) {\n    var store$1 = sharedStore.state || (sharedStore.state = new WeakMap$1());\n    var wmget = store$1.get;\n    var wmhas = store$1.has;\n    var wmset = store$1.set;\n    set = function (it, metadata) {\n      metadata.facade = it;\n      wmset.call(store$1, it, metadata);\n      return metadata;\n    };\n    get = function (it) {\n      return wmget.call(store$1, it) || {};\n    };\n    has$1 = function (it) {\n      return wmhas.call(store$1, it);\n    };\n  } else {\n    var STATE = sharedKey('state');\n    hiddenKeys[STATE] = true;\n    set = function (it, metadata) {\n      metadata.facade = it;\n      createNonEnumerableProperty(it, STATE, metadata);\n      return metadata;\n    };\n    get = function (it) {\n      return has(it, STATE) ? it[STATE] : {};\n    };\n    has$1 = function (it) {\n      return has(it, STATE);\n    };\n  }\n\n  var internalState = {\n    set: set,\n    get: get,\n    has: has$1,\n    enforce: enforce,\n    getterFor: getterFor\n  };\n\n  var redefine = createCommonjsModule(function (module) {\n  var getInternalState = internalState.get;\n  var enforceInternalState = internalState.enforce;\n  var TEMPLATE = String(String).split('String');\n\n  (module.exports = function (O, key, value, options) {\n    var unsafe = options ? !!options.unsafe : false;\n    var simple = options ? !!options.enumerable : false;\n    var noTargetGet = options ? !!options.noTargetGet : false;\n    var state;\n    if (typeof value == 'function') {\n      if (typeof key == 'string' && !has(value, 'name')) {\n        createNonEnumerableProperty(value, 'name', key);\n      }\n      state = enforceInternalState(value);\n      if (!state.source) {\n        state.source = TEMPLATE.join(typeof key == 'string' ? key : '');\n      }\n    }\n    if (O === global_1) {\n      if (simple) O[key] = value;\n      else setGlobal(key, value);\n      return;\n    } else if (!unsafe) {\n      delete O[key];\n    } else if (!noTargetGet && O[key]) {\n      simple = true;\n    }\n    if (simple) O[key] = value;\n    else createNonEnumerableProperty(O, key, value);\n  // add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n  })(Function.prototype, 'toString', function toString() {\n    return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n  });\n  });\n\n  var path = global_1;\n\n  var aFunction = function (variable) {\n    return typeof variable == 'function' ? variable : undefined;\n  };\n\n  var getBuiltIn = function (namespace, method) {\n    return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global_1[namespace])\n      : path[namespace] && path[namespace][method] || global_1[namespace] && global_1[namespace][method];\n  };\n\n  var ceil = Math.ceil;\n  var floor = Math.floor;\n\n  // `ToInteger` abstract operation\n  // https://tc39.es/ecma262/#sec-tointeger\n  var toInteger = function (argument) {\n    return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n  };\n\n  var min = Math.min;\n\n  // `ToLength` abstract operation\n  // https://tc39.es/ecma262/#sec-tolength\n  var toLength = function (argument) {\n    return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n  };\n\n  var max = Math.max;\n  var min$1 = Math.min;\n\n  // Helper for a popular repeating case of the spec:\n  // Let integer be ? ToInteger(index).\n  // If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\n  var toAbsoluteIndex = function (index, length) {\n    var integer = toInteger(index);\n    return integer < 0 ? max(integer + length, 0) : min$1(integer, length);\n  };\n\n  // `Array.prototype.{ indexOf, includes }` methods implementation\n  var createMethod = function (IS_INCLUDES) {\n    return function ($this, el, fromIndex) {\n      var O = toIndexedObject($this);\n      var length = toLength(O.length);\n      var index = toAbsoluteIndex(fromIndex, length);\n      var value;\n      // Array#includes uses SameValueZero equality algorithm\n      // eslint-disable-next-line no-self-compare\n      if (IS_INCLUDES && el != el) while (length > index) {\n        value = O[index++];\n        // eslint-disable-next-line no-self-compare\n        if (value != value) return true;\n      // Array#indexOf ignores holes, Array#includes - not\n      } else for (;length > index; index++) {\n        if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n      } return !IS_INCLUDES && -1;\n    };\n  };\n\n  var arrayIncludes = {\n    // `Array.prototype.includes` method\n    // https://tc39.es/ecma262/#sec-array.prototype.includes\n    includes: createMethod(true),\n    // `Array.prototype.indexOf` method\n    // https://tc39.es/ecma262/#sec-array.prototype.indexof\n    indexOf: createMethod(false)\n  };\n\n  var indexOf = arrayIncludes.indexOf;\n\n\n  var objectKeysInternal = function (object, names) {\n    var O = toIndexedObject(object);\n    var i = 0;\n    var result = [];\n    var key;\n    for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n    // Don't enum bug & hidden keys\n    while (names.length > i) if (has(O, key = names[i++])) {\n      ~indexOf(result, key) || result.push(key);\n    }\n    return result;\n  };\n\n  // IE8- don't enum bug keys\n  var enumBugKeys = [\n    'constructor',\n    'hasOwnProperty',\n    'isPrototypeOf',\n    'propertyIsEnumerable',\n    'toLocaleString',\n    'toString',\n    'valueOf'\n  ];\n\n  var hiddenKeys$1 = enumBugKeys.concat('length', 'prototype');\n\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertynames\n  var f$3 = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n    return objectKeysInternal(O, hiddenKeys$1);\n  };\n\n  var objectGetOwnPropertyNames = {\n  \tf: f$3\n  };\n\n  var f$4 = Object.getOwnPropertySymbols;\n\n  var objectGetOwnPropertySymbols = {\n  \tf: f$4\n  };\n\n  // all object keys, includes non-enumerable and symbols\n  var ownKeys = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n    var keys = objectGetOwnPropertyNames.f(anObject(it));\n    var getOwnPropertySymbols = objectGetOwnPropertySymbols.f;\n    return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n  };\n\n  var copyConstructorProperties = function (target, source) {\n    var keys = ownKeys(source);\n    var defineProperty = objectDefineProperty.f;\n    var getOwnPropertyDescriptor = objectGetOwnPropertyDescriptor.f;\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  };\n\n  var replacement = /#|\\.prototype\\./;\n\n  var isForced = function (feature, detection) {\n    var value = data[normalize(feature)];\n    return value == POLYFILL ? true\n      : value == NATIVE ? false\n      : typeof detection == 'function' ? fails(detection)\n      : !!detection;\n  };\n\n  var normalize = isForced.normalize = function (string) {\n    return String(string).replace(replacement, '.').toLowerCase();\n  };\n\n  var data = isForced.data = {};\n  var NATIVE = isForced.NATIVE = 'N';\n  var POLYFILL = isForced.POLYFILL = 'P';\n\n  var isForced_1 = isForced;\n\n  var getOwnPropertyDescriptor$1 = objectGetOwnPropertyDescriptor.f;\n\n\n\n\n\n\n  /*\n    options.target      - name of the target object\n    options.global      - target is the global object\n    options.stat        - export as static methods of target\n    options.proto       - export as prototype methods of target\n    options.real        - real prototype method for the `pure` version\n    options.forced      - export even if the native feature is available\n    options.bind        - bind methods to the target, required for the `pure` version\n    options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n    options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n    options.sham        - add a flag to not completely full polyfills\n    options.enumerable  - export as enumerable property\n    options.noTargetGet - prevent calling a getter on target\n  */\n  var _export = function (options, source) {\n    var TARGET = options.target;\n    var GLOBAL = options.global;\n    var STATIC = options.stat;\n    var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n    if (GLOBAL) {\n      target = global_1;\n    } else if (STATIC) {\n      target = global_1[TARGET] || setGlobal(TARGET, {});\n    } else {\n      target = (global_1[TARGET] || {}).prototype;\n    }\n    if (target) for (key in source) {\n      sourceProperty = source[key];\n      if (options.noTargetGet) {\n        descriptor = getOwnPropertyDescriptor$1(target, key);\n        targetProperty = descriptor && descriptor.value;\n      } else targetProperty = target[key];\n      FORCED = isForced_1(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n      // contained in target\n      if (!FORCED && targetProperty !== undefined) {\n        if (typeof sourceProperty === typeof targetProperty) continue;\n        copyConstructorProperties(sourceProperty, targetProperty);\n      }\n      // add a flag to not completely full polyfills\n      if (options.sham || (targetProperty && targetProperty.sham)) {\n        createNonEnumerableProperty(sourceProperty, 'sham', true);\n      }\n      // extend global\n      redefine(target, key, sourceProperty, options);\n    }\n  };\n\n  // `RegExp.prototype.flags` getter implementation\n  // https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\n  var regexpFlags = function () {\n    var that = anObject(this);\n    var result = '';\n    if (that.global) result += 'g';\n    if (that.ignoreCase) result += 'i';\n    if (that.multiline) result += 'm';\n    if (that.dotAll) result += 's';\n    if (that.unicode) result += 'u';\n    if (that.sticky) result += 'y';\n    return result;\n  };\n\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n  // so we use an intermediate function.\n  function RE(s, f) {\n    return RegExp(s, f);\n  }\n\n  var UNSUPPORTED_Y = fails(function () {\n    // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n    var re = RE('a', 'y');\n    re.lastIndex = 2;\n    return re.exec('abcd') != null;\n  });\n\n  var BROKEN_CARET = fails(function () {\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n    var re = RE('^r', 'gy');\n    re.lastIndex = 2;\n    return re.exec('str') != null;\n  });\n\n  var regexpStickyHelpers = {\n  \tUNSUPPORTED_Y: UNSUPPORTED_Y,\n  \tBROKEN_CARET: BROKEN_CARET\n  };\n\n  var nativeExec = RegExp.prototype.exec;\n  // This always refers to the native implementation, because the\n  // String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n  // which loads this file before patching the method.\n  var nativeReplace = String.prototype.replace;\n\n  var patchedExec = nativeExec;\n\n  var UPDATES_LAST_INDEX_WRONG = (function () {\n    var re1 = /a/;\n    var re2 = /b*/g;\n    nativeExec.call(re1, 'a');\n    nativeExec.call(re2, 'a');\n    return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n  })();\n\n  var UNSUPPORTED_Y$1 = regexpStickyHelpers.UNSUPPORTED_Y || regexpStickyHelpers.BROKEN_CARET;\n\n  // nonparticipating capturing group, copied from es5-shim's String#split patch.\n  var NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\n  var PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y$1;\n\n  if (PATCH) {\n    patchedExec = function exec(str) {\n      var re = this;\n      var lastIndex, reCopy, match, i;\n      var sticky = UNSUPPORTED_Y$1 && re.sticky;\n      var flags = regexpFlags.call(re);\n      var source = re.source;\n      var charsAdded = 0;\n      var strCopy = str;\n\n      if (sticky) {\n        flags = flags.replace('y', '');\n        if (flags.indexOf('g') === -1) {\n          flags += 'g';\n        }\n\n        strCopy = String(str).slice(re.lastIndex);\n        // Support anchored sticky behavior.\n        if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n          source = '(?: ' + source + ')';\n          strCopy = ' ' + strCopy;\n          charsAdded++;\n        }\n        // ^(? + rx + ) is needed, in combination with some str slicing, to\n        // simulate the 'y' flag.\n        reCopy = new RegExp('^(?:' + source + ')', flags);\n      }\n\n      if (NPCG_INCLUDED) {\n        reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n      }\n      if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n      match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n      if (sticky) {\n        if (match) {\n          match.input = match.input.slice(charsAdded);\n          match[0] = match[0].slice(charsAdded);\n          match.index = re.lastIndex;\n          re.lastIndex += match[0].length;\n        } else re.lastIndex = 0;\n      } else if (UPDATES_LAST_INDEX_WRONG && match) {\n        re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n      }\n      if (NPCG_INCLUDED && match && match.length > 1) {\n        // Fix browsers whose `exec` methods don't consistently return `undefined`\n        // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n        nativeReplace.call(match[0], reCopy, function () {\n          for (i = 1; i < arguments.length - 2; i++) {\n            if (arguments[i] === undefined) match[i] = undefined;\n          }\n        });\n      }\n\n      return match;\n    };\n  }\n\n  var regexpExec = patchedExec;\n\n  // `RegExp.prototype.exec` method\n  // https://tc39.es/ecma262/#sec-regexp.prototype.exec\n  _export({ target: 'RegExp', proto: true, forced: /./.exec !== regexpExec }, {\n    exec: regexpExec\n  });\n\n  var nativeSymbol = !!Object.getOwnPropertySymbols && !fails(function () {\n    // Chrome 38 Symbol has incorrect toString conversion\n    // eslint-disable-next-line no-undef\n    return !String(Symbol());\n  });\n\n  var useSymbolAsUid = nativeSymbol\n    // eslint-disable-next-line no-undef\n    && !Symbol.sham\n    // eslint-disable-next-line no-undef\n    && typeof Symbol.iterator == 'symbol';\n\n  var WellKnownSymbolsStore = shared('wks');\n  var Symbol$1 = global_1.Symbol;\n  var createWellKnownSymbol = useSymbolAsUid ? Symbol$1 : Symbol$1 && Symbol$1.withoutSetter || uid;\n\n  var wellKnownSymbol = function (name) {\n    if (!has(WellKnownSymbolsStore, name)) {\n      if (nativeSymbol && has(Symbol$1, name)) WellKnownSymbolsStore[name] = Symbol$1[name];\n      else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n    } return WellKnownSymbolsStore[name];\n  };\n\n  // TODO: Remove from `core-js@4` since it's moved to entry points\n\n\n\n\n\n\n\n  var SPECIES = wellKnownSymbol('species');\n\n  var REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n    // #replace needs built-in support for named groups.\n    // #match works fine because it just return the exec results, even if it has\n    // a \"grops\" property.\n    var re = /./;\n    re.exec = function () {\n      var result = [];\n      result.groups = { a: '7' };\n      return result;\n    };\n    return ''.replace(re, '$<a>') !== '7';\n  });\n\n  // IE <= 11 replaces $0 with the whole match, as if it was $&\n  // https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\n  var REPLACE_KEEPS_$0 = (function () {\n    return 'a'.replace(/./, '$0') === '$0';\n  })();\n\n  var REPLACE = wellKnownSymbol('replace');\n  // Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n    if (/./[REPLACE]) {\n      return /./[REPLACE]('a', '$0') === '';\n    }\n    return false;\n  })();\n\n  // Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n  // Weex JS has frozen built-in prototypes, so use try / catch wrapper\n  var SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n    var re = /(?:)/;\n    var originalExec = re.exec;\n    re.exec = function () { return originalExec.apply(this, arguments); };\n    var result = 'ab'.split(re);\n    return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n  });\n\n  var fixRegexpWellKnownSymbolLogic = function (KEY, length, exec, sham) {\n    var SYMBOL = wellKnownSymbol(KEY);\n\n    var DELEGATES_TO_SYMBOL = !fails(function () {\n      // String methods call symbol-named RegEp methods\n      var O = {};\n      O[SYMBOL] = function () { return 7; };\n      return ''[KEY](O) != 7;\n    });\n\n    var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n      // Symbol-named RegExp methods call .exec\n      var execCalled = false;\n      var re = /a/;\n\n      if (KEY === 'split') {\n        // We can't use real regex here since it causes deoptimization\n        // and serious performance degradation in V8\n        // https://github.com/zloirock/core-js/issues/306\n        re = {};\n        // RegExp[@@split] doesn't call the regex's exec method, but first creates\n        // a new one. We need to return the patched regex when creating the new one.\n        re.constructor = {};\n        re.constructor[SPECIES] = function () { return re; };\n        re.flags = '';\n        re[SYMBOL] = /./[SYMBOL];\n      }\n\n      re.exec = function () { execCalled = true; return null; };\n\n      re[SYMBOL]('');\n      return !execCalled;\n    });\n\n    if (\n      !DELEGATES_TO_SYMBOL ||\n      !DELEGATES_TO_EXEC ||\n      (KEY === 'replace' && !(\n        REPLACE_SUPPORTS_NAMED_GROUPS &&\n        REPLACE_KEEPS_$0 &&\n        !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n      )) ||\n      (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n    ) {\n      var nativeRegExpMethod = /./[SYMBOL];\n      var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n        if (regexp.exec === regexpExec) {\n          if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n            // The native String method already delegates to @@method (this\n            // polyfilled function), leasing to infinite recursion.\n            // We avoid it by directly calling the native @@method method.\n            return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n          }\n          return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n        }\n        return { done: false };\n      }, {\n        REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n        REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n      });\n      var stringMethod = methods[0];\n      var regexMethod = methods[1];\n\n      redefine(String.prototype, KEY, stringMethod);\n      redefine(RegExp.prototype, SYMBOL, length == 2\n        // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n        // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n        ? function (string, arg) { return regexMethod.call(string, this, arg); }\n        // 21.2.5.6 RegExp.prototype[@@match](string)\n        // 21.2.5.9 RegExp.prototype[@@search](string)\n        : function (string) { return regexMethod.call(string, this); }\n      );\n    }\n\n    if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n  };\n\n  // `String.prototype.{ codePointAt, at }` methods implementation\n  var createMethod$1 = function (CONVERT_TO_STRING) {\n    return function ($this, pos) {\n      var S = String(requireObjectCoercible($this));\n      var position = toInteger(pos);\n      var size = S.length;\n      var first, second;\n      if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n      first = S.charCodeAt(position);\n      return first < 0xD800 || first > 0xDBFF || position + 1 === size\n        || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n          ? CONVERT_TO_STRING ? S.charAt(position) : first\n          : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n    };\n  };\n\n  var stringMultibyte = {\n    // `String.prototype.codePointAt` method\n    // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n    codeAt: createMethod$1(false),\n    // `String.prototype.at` method\n    // https://github.com/mathiasbynens/String.prototype.at\n    charAt: createMethod$1(true)\n  };\n\n  var charAt = stringMultibyte.charAt;\n\n  // `AdvanceStringIndex` abstract operation\n  // https://tc39.es/ecma262/#sec-advancestringindex\n  var advanceStringIndex = function (S, index, unicode) {\n    return index + (unicode ? charAt(S, index).length : 1);\n  };\n\n  // `RegExpExec` abstract operation\n  // https://tc39.es/ecma262/#sec-regexpexec\n  var regexpExecAbstract = function (R, S) {\n    var exec = R.exec;\n    if (typeof exec === 'function') {\n      var result = exec.call(R, S);\n      if (typeof result !== 'object') {\n        throw TypeError('RegExp exec method returned something other than an Object or null');\n      }\n      return result;\n    }\n\n    if (classofRaw(R) !== 'RegExp') {\n      throw TypeError('RegExp#exec called on incompatible receiver');\n    }\n\n    return regexpExec.call(R, S);\n  };\n\n  // @@match logic\n  fixRegexpWellKnownSymbolLogic('match', 1, function (MATCH, nativeMatch, maybeCallNative) {\n    return [\n      // `String.prototype.match` method\n      // https://tc39.es/ecma262/#sec-string.prototype.match\n      function match(regexp) {\n        var O = requireObjectCoercible(this);\n        var matcher = regexp == undefined ? undefined : regexp[MATCH];\n        return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n      },\n      // `RegExp.prototype[@@match]` method\n      // https://tc39.es/ecma262/#sec-regexp.prototype-@@match\n      function (regexp) {\n        var res = maybeCallNative(nativeMatch, regexp, this);\n        if (res.done) return res.value;\n\n        var rx = anObject(regexp);\n        var S = String(this);\n\n        if (!rx.global) return regexpExecAbstract(rx, S);\n\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n        var A = [];\n        var n = 0;\n        var result;\n        while ((result = regexpExecAbstract(rx, S)) !== null) {\n          var matchStr = String(result[0]);\n          A[n] = matchStr;\n          if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n          n++;\n        }\n        return n === 0 ? null : A;\n      }\n    ];\n  });\n\n  // `IsArray` abstract operation\n  // https://tc39.es/ecma262/#sec-isarray\n  var isArray = Array.isArray || function isArray(arg) {\n    return classofRaw(arg) == 'Array';\n  };\n\n  // `ToObject` abstract operation\n  // https://tc39.es/ecma262/#sec-toobject\n  var toObject = function (argument) {\n    return Object(requireObjectCoercible(argument));\n  };\n\n  var createProperty = function (object, key, value) {\n    var propertyKey = toPrimitive(key);\n    if (propertyKey in object) objectDefineProperty.f(object, propertyKey, createPropertyDescriptor(0, value));\n    else object[propertyKey] = value;\n  };\n\n  var SPECIES$1 = wellKnownSymbol('species');\n\n  // `ArraySpeciesCreate` abstract operation\n  // https://tc39.es/ecma262/#sec-arrayspeciescreate\n  var arraySpeciesCreate = function (originalArray, length) {\n    var C;\n    if (isArray(originalArray)) {\n      C = originalArray.constructor;\n      // cross-realm fallback\n      if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n      else if (isObject(C)) {\n        C = C[SPECIES$1];\n        if (C === null) C = undefined;\n      }\n    } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n  };\n\n  var engineUserAgent = getBuiltIn('navigator', 'userAgent') || '';\n\n  var process = global_1.process;\n  var versions = process && process.versions;\n  var v8 = versions && versions.v8;\n  var match, version;\n\n  if (v8) {\n    match = v8.split('.');\n    version = match[0] + match[1];\n  } else if (engineUserAgent) {\n    match = engineUserAgent.match(/Edge\\/(\\d+)/);\n    if (!match || match[1] >= 74) {\n      match = engineUserAgent.match(/Chrome\\/(\\d+)/);\n      if (match) version = match[1];\n    }\n  }\n\n  var engineV8Version = version && +version;\n\n  var SPECIES$2 = wellKnownSymbol('species');\n\n  var arrayMethodHasSpeciesSupport = function (METHOD_NAME) {\n    // We can't use this feature detection in V8 since it causes\n    // deoptimization and serious performance degradation\n    // https://github.com/zloirock/core-js/issues/677\n    return engineV8Version >= 51 || !fails(function () {\n      var array = [];\n      var constructor = array.constructor = {};\n      constructor[SPECIES$2] = function () {\n        return { foo: 1 };\n      };\n      return array[METHOD_NAME](Boolean).foo !== 1;\n    });\n  };\n\n  var IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\n  var MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\n  var MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  var IS_CONCAT_SPREADABLE_SUPPORT = engineV8Version >= 51 || !fails(function () {\n    var array = [];\n    array[IS_CONCAT_SPREADABLE] = false;\n    return array.concat()[0] !== array;\n  });\n\n  var SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\n  var isConcatSpreadable = function (O) {\n    if (!isObject(O)) return false;\n    var spreadable = O[IS_CONCAT_SPREADABLE];\n    return spreadable !== undefined ? !!spreadable : isArray(O);\n  };\n\n  var FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n  // `Array.prototype.concat` method\n  // https://tc39.es/ecma262/#sec-array.prototype.concat\n  // with adding support of @@isConcatSpreadable and @@species\n  _export({ target: 'Array', proto: true, forced: FORCED }, {\n    concat: function concat(arg) { // eslint-disable-line no-unused-vars\n      var O = toObject(this);\n      var A = arraySpeciesCreate(O, 0);\n      var n = 0;\n      var i, k, length, len, E;\n      for (i = -1, length = arguments.length; i < length; i++) {\n        E = i === -1 ? O : arguments[i];\n        if (isConcatSpreadable(E)) {\n          len = toLength(E.length);\n          if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n          for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n        } else {\n          if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n          createProperty(A, n++, E);\n        }\n      }\n      A.length = n;\n      return A;\n    }\n  });\n\n  var TO_STRING_TAG = wellKnownSymbol('toStringTag');\n  var test = {};\n\n  test[TO_STRING_TAG] = 'z';\n\n  var toStringTagSupport = String(test) === '[object z]';\n\n  var TO_STRING_TAG$1 = wellKnownSymbol('toStringTag');\n  // ES3 wrong here\n  var CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n  // fallback for IE11 Script Access Denied error\n  var tryGet = function (it, key) {\n    try {\n      return it[key];\n    } catch (error) { /* empty */ }\n  };\n\n  // getting tag from ES6+ `Object.prototype.toString`\n  var classof = toStringTagSupport ? classofRaw : function (it) {\n    var O, tag, result;\n    return it === undefined ? 'Undefined' : it === null ? 'Null'\n      // @@toStringTag case\n      : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG$1)) == 'string' ? tag\n      // builtinTag case\n      : CORRECT_ARGUMENTS ? classofRaw(O)\n      // ES3 arguments fallback\n      : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n  };\n\n  // `Object.prototype.toString` method implementation\n  // https://tc39.es/ecma262/#sec-object.prototype.tostring\n  var objectToString = toStringTagSupport ? {}.toString : function toString() {\n    return '[object ' + classof(this) + ']';\n  };\n\n  // `Object.prototype.toString` method\n  // https://tc39.es/ecma262/#sec-object.prototype.tostring\n  if (!toStringTagSupport) {\n    redefine(Object.prototype, 'toString', objectToString, { unsafe: true });\n  }\n\n  var TO_STRING = 'toString';\n  var RegExpPrototype = RegExp.prototype;\n  var nativeToString = RegExpPrototype[TO_STRING];\n\n  var NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n  // FF44- RegExp#toString has a wrong name\n  var INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n  // `RegExp.prototype.toString` method\n  // https://tc39.es/ecma262/#sec-regexp.prototype.tostring\n  if (NOT_GENERIC || INCORRECT_NAME) {\n    redefine(RegExp.prototype, TO_STRING, function toString() {\n      var R = anObject(this);\n      var p = String(R.source);\n      var rf = R.flags;\n      var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? regexpFlags.call(R) : rf);\n      return '/' + p + '/' + f;\n    }, { unsafe: true });\n  }\n\n  var MATCH = wellKnownSymbol('match');\n\n  // `IsRegExp` abstract operation\n  // https://tc39.es/ecma262/#sec-isregexp\n  var isRegexp = function (it) {\n    var isRegExp;\n    return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classofRaw(it) == 'RegExp');\n  };\n\n  var aFunction$1 = function (it) {\n    if (typeof it != 'function') {\n      throw TypeError(String(it) + ' is not a function');\n    } return it;\n  };\n\n  var SPECIES$3 = wellKnownSymbol('species');\n\n  // `SpeciesConstructor` abstract operation\n  // https://tc39.es/ecma262/#sec-speciesconstructor\n  var speciesConstructor = function (O, defaultConstructor) {\n    var C = anObject(O).constructor;\n    var S;\n    return C === undefined || (S = anObject(C)[SPECIES$3]) == undefined ? defaultConstructor : aFunction$1(S);\n  };\n\n  var arrayPush = [].push;\n  var min$2 = Math.min;\n  var MAX_UINT32 = 0xFFFFFFFF;\n\n  // babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\n  var SUPPORTS_Y = !fails(function () { return !RegExp(MAX_UINT32, 'y'); });\n\n  // @@split logic\n  fixRegexpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n    var internalSplit;\n    if (\n      'abbc'.split(/(b)*/)[1] == 'c' ||\n      'test'.split(/(?:)/, -1).length != 4 ||\n      'ab'.split(/(?:ab)*/).length != 2 ||\n      '.'.split(/(.?)(.?)/).length != 4 ||\n      '.'.split(/()()/).length > 1 ||\n      ''.split(/.?/).length\n    ) {\n      // based on es5-shim implementation, need to rework it\n      internalSplit = function (separator, limit) {\n        var string = String(requireObjectCoercible(this));\n        var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n        if (lim === 0) return [];\n        if (separator === undefined) return [string];\n        // If `separator` is not a regex, use native split\n        if (!isRegexp(separator)) {\n          return nativeSplit.call(string, separator, lim);\n        }\n        var output = [];\n        var flags = (separator.ignoreCase ? 'i' : '') +\n                    (separator.multiline ? 'm' : '') +\n                    (separator.unicode ? 'u' : '') +\n                    (separator.sticky ? 'y' : '');\n        var lastLastIndex = 0;\n        // Make `global` and avoid `lastIndex` issues by working with a copy\n        var separatorCopy = new RegExp(separator.source, flags + 'g');\n        var match, lastIndex, lastLength;\n        while (match = regexpExec.call(separatorCopy, string)) {\n          lastIndex = separatorCopy.lastIndex;\n          if (lastIndex > lastLastIndex) {\n            output.push(string.slice(lastLastIndex, match.index));\n            if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n            lastLength = match[0].length;\n            lastLastIndex = lastIndex;\n            if (output.length >= lim) break;\n          }\n          if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n        }\n        if (lastLastIndex === string.length) {\n          if (lastLength || !separatorCopy.test('')) output.push('');\n        } else output.push(string.slice(lastLastIndex));\n        return output.length > lim ? output.slice(0, lim) : output;\n      };\n    // Chakra, V8\n    } else if ('0'.split(undefined, 0).length) {\n      internalSplit = function (separator, limit) {\n        return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n      };\n    } else internalSplit = nativeSplit;\n\n    return [\n      // `String.prototype.split` method\n      // https://tc39.es/ecma262/#sec-string.prototype.split\n      function split(separator, limit) {\n        var O = requireObjectCoercible(this);\n        var splitter = separator == undefined ? undefined : separator[SPLIT];\n        return splitter !== undefined\n          ? splitter.call(separator, O, limit)\n          : internalSplit.call(String(O), separator, limit);\n      },\n      // `RegExp.prototype[@@split]` method\n      // https://tc39.es/ecma262/#sec-regexp.prototype-@@split\n      //\n      // NOTE: This cannot be properly polyfilled in engines that don't support\n      // the 'y' flag.\n      function (regexp, limit) {\n        var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n        if (res.done) return res.value;\n\n        var rx = anObject(regexp);\n        var S = String(this);\n        var C = speciesConstructor(rx, RegExp);\n\n        var unicodeMatching = rx.unicode;\n        var flags = (rx.ignoreCase ? 'i' : '') +\n                    (rx.multiline ? 'm' : '') +\n                    (rx.unicode ? 'u' : '') +\n                    (SUPPORTS_Y ? 'y' : 'g');\n\n        // ^(? + rx + ) is needed, in combination with some S slicing, to\n        // simulate the 'y' flag.\n        var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n        var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n        if (lim === 0) return [];\n        if (S.length === 0) return regexpExecAbstract(splitter, S) === null ? [S] : [];\n        var p = 0;\n        var q = 0;\n        var A = [];\n        while (q < S.length) {\n          splitter.lastIndex = SUPPORTS_Y ? q : 0;\n          var z = regexpExecAbstract(splitter, SUPPORTS_Y ? S : S.slice(q));\n          var e;\n          if (\n            z === null ||\n            (e = min$2(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n          ) {\n            q = advanceStringIndex(S, q, unicodeMatching);\n          } else {\n            A.push(S.slice(p, q));\n            if (A.length === lim) return A;\n            for (var i = 1; i <= z.length - 1; i++) {\n              A.push(z[i]);\n              if (A.length === lim) return A;\n            }\n            q = p = e;\n          }\n        }\n        A.push(S.slice(p));\n        return A;\n      }\n    ];\n  }, !SUPPORTS_Y);\n\n  /**\n   * Append a class to an element\n   *\n   * @api private\n   * @method _addClass\n   * @param {Object} element\n   * @param {String} className\n   * @returns null\n   */\n\n  function addClass(element, className) {\n    if (element instanceof SVGElement) {\n      // svg\n      var pre = element.getAttribute(\"class\") || \"\";\n\n      if (!pre.match(className)) {\n        // check if element doesn't already have className\n        element.setAttribute(\"class\", \"\".concat(pre, \" \").concat(className));\n      }\n    } else {\n      if (element.classList !== undefined) {\n        // check for modern classList property\n        var classes = className.split(\" \");\n        forEach(classes, function (cls) {\n          element.classList.add(cls);\n        });\n      } else if (!element.className.match(className)) {\n        // check if element doesn't already have className\n        element.className += \" \".concat(className);\n      }\n    }\n  }\n\n  /**\n   * Get an element CSS property on the page\n   * Thanks to JavaScript Kit: http://www.javascriptkit.com/dhtmltutors/dhtmlcascade4.shtml\n   *\n   * @api private\n   * @method _getPropValue\n   * @param {Object} element\n   * @param {String} propName\n   * @returns string property value\n   */\n  function getPropValue(element, propName) {\n    var propValue = \"\";\n\n    if (element.currentStyle) {\n      //IE\n      propValue = element.currentStyle[propName];\n    } else if (document.defaultView && document.defaultView.getComputedStyle) {\n      //Others\n      propValue = document.defaultView.getComputedStyle(element, null).getPropertyValue(propName);\n    } //Prevent exception in IE\n\n\n    if (propValue && propValue.toLowerCase) {\n      return propValue.toLowerCase();\n    } else {\n      return propValue;\n    }\n  }\n\n  /**\n   * To set the show element\n   * This function set a relative (in most cases) position and changes the z-index\n   *\n   * @api private\n   * @method _setShowElement\n   * @param {Object} targetElement\n   */\n\n  function setShowElement(_ref) {\n    var element = _ref.element;\n    addClass(element, \"introjs-showElement\");\n    var currentElementPosition = getPropValue(element, \"position\");\n\n    if (currentElementPosition !== \"absolute\" && currentElementPosition !== \"relative\" && currentElementPosition !== \"sticky\" && currentElementPosition !== \"fixed\") {\n      //change to new intro item\n      addClass(element, \"introjs-relativePosition\");\n    }\n  }\n\n  /**\n   * Find the nearest scrollable parent\n   * copied from https://stackoverflow.com/questions/35939886/find-first-scrollable-parent\n   *\n   * @param Element element\n   * @return Element\n   */\n  function getScrollParent(element) {\n    var style = window.getComputedStyle(element);\n    var excludeStaticParent = style.position === \"absolute\";\n    var overflowRegex = /(auto|scroll)/;\n    if (style.position === \"fixed\") return document.body;\n\n    for (var parent = element; parent = parent.parentElement;) {\n      style = window.getComputedStyle(parent);\n\n      if (excludeStaticParent && style.position === \"static\") {\n        continue;\n      }\n\n      if (overflowRegex.test(style.overflow + style.overflowY + style.overflowX)) return parent;\n    }\n\n    return document.body;\n  }\n\n  /**\n   * scroll a scrollable element to a child element\n   *\n   * @param {Object} targetElement\n   */\n\n  function scrollParentToElement(targetElement) {\n    var element = targetElement.element;\n    if (!this._options.scrollToElement) return;\n    var parent = getScrollParent(element);\n    if (parent === document.body) return;\n    parent.scrollTop = element.offsetTop - parent.offsetTop;\n  }\n\n  /**\n   * Provides a cross-browser way to get the screen dimensions\n   * via: http://stackoverflow.com/questions/5864467/internet-explorer-innerheight\n   *\n   * @api private\n   * @method _getWinSize\n   * @returns {Object} width and height attributes\n   */\n  function getWinSize() {\n    if (window.innerWidth !== undefined) {\n      return {\n        width: window.innerWidth,\n        height: window.innerHeight\n      };\n    } else {\n      var D = document.documentElement;\n      return {\n        width: D.clientWidth,\n        height: D.clientHeight\n      };\n    }\n  }\n\n  /**\n   * Check to see if the element is in the viewport or not\n   * http://stackoverflow.com/questions/123999/how-to-tell-if-a-dom-element-is-visible-in-the-current-viewport\n   *\n   * @api private\n   * @method _elementInViewport\n   * @param {Object} el\n   */\n  function elementInViewport(el) {\n    var rect = el.getBoundingClientRect();\n    return rect.top >= 0 && rect.left >= 0 && rect.bottom + 80 <= window.innerHeight && // add 80 to get the text right\n    rect.right <= window.innerWidth;\n  }\n\n  /**\n   * To change the scroll of `window` after highlighting an element\n   *\n   * @api private\n   * @param {String} scrollTo\n   * @param {Object} targetElement\n   * @param {Object} tooltipLayer\n   */\n\n  function scrollTo(scrollTo, _ref, tooltipLayer) {\n    var element = _ref.element;\n    if (scrollTo === \"off\") return;\n    var rect;\n    if (!this._options.scrollToElement) return;\n\n    if (scrollTo === \"tooltip\") {\n      rect = tooltipLayer.getBoundingClientRect();\n    } else {\n      rect = element.getBoundingClientRect();\n    }\n\n    if (!elementInViewport(element)) {\n      var winHeight = getWinSize().height;\n      var top = rect.bottom - (rect.bottom - rect.top); // TODO (afshinm): do we need scroll padding now?\n      // I have changed the scroll option and now it scrolls the window to\n      // the center of the target element or tooltip.\n\n      if (top < 0 || element.clientHeight > winHeight) {\n        window.scrollBy(0, rect.top - (winHeight / 2 - rect.height / 2) - this._options.scrollPadding); // 30px padding from edge to look nice\n        //Scroll down\n      } else {\n        window.scrollBy(0, rect.top - (winHeight / 2 - rect.height / 2) + this._options.scrollPadding); // 30px padding from edge to look nice\n      }\n    }\n  }\n\n  /**\n   * Setting anchors to behave like buttons\n   *\n   * @api private\n   * @method _setAnchorAsButton\n   */\n  function setAnchorAsButton(anchor) {\n    anchor.setAttribute(\"role\", \"button\");\n    anchor.tabIndex = 0;\n  }\n\n  /**\n   * Get an element position on the page\n   * Thanks to `meouw`: http://stackoverflow.com/a/442474/375966\n   *\n   * @api private\n   * @method _getOffset\n   * @param {Object} element\n   * @returns Element's position info\n   */\n  function getOffset(element) {\n    var body = document.body;\n    var docEl = document.documentElement;\n    var scrollTop = window.pageYOffset || docEl.scrollTop || body.scrollTop;\n    var scrollLeft = window.pageXOffset || docEl.scrollLeft || body.scrollLeft;\n    var x = element.getBoundingClientRect();\n    return {\n      top: x.top + scrollTop,\n      width: x.width,\n      height: x.height,\n      left: x.left + scrollLeft\n    };\n  }\n\n  /**\n   * Checks to see if target element (or parents) position is fixed or not\n   *\n   * @api private\n   * @method _isFixed\n   * @param {Object} element\n   * @returns Boolean\n   */\n\n  function isFixed(element) {\n    var p = element.parentNode;\n\n    if (!p || p.nodeName === \"HTML\") {\n      return false;\n    }\n\n    if (getPropValue(element, \"position\") === \"fixed\") {\n      return true;\n    }\n\n    return isFixed(p);\n  }\n\n  var floor$1 = Math.floor;\n  var replace = ''.replace;\n  var SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\n  var SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\n  // https://tc39.es/ecma262/#sec-getsubstitution\n  var getSubstitution = function (matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return replace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor$1(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  };\n\n  var max$1 = Math.max;\n  var min$3 = Math.min;\n\n  var maybeToString = function (it) {\n    return it === undefined ? it : String(it);\n  };\n\n  // @@replace logic\n  fixRegexpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n    var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n    var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n    var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n    return [\n      // `String.prototype.replace` method\n      // https://tc39.es/ecma262/#sec-string.prototype.replace\n      function replace(searchValue, replaceValue) {\n        var O = requireObjectCoercible(this);\n        var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n        return replacer !== undefined\n          ? replacer.call(searchValue, O, replaceValue)\n          : nativeReplace.call(String(O), searchValue, replaceValue);\n      },\n      // `RegExp.prototype[@@replace]` method\n      // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace\n      function (regexp, replaceValue) {\n        if (\n          (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n          (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n        ) {\n          var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n          if (res.done) return res.value;\n        }\n\n        var rx = anObject(regexp);\n        var S = String(this);\n\n        var functionalReplace = typeof replaceValue === 'function';\n        if (!functionalReplace) replaceValue = String(replaceValue);\n\n        var global = rx.global;\n        if (global) {\n          var fullUnicode = rx.unicode;\n          rx.lastIndex = 0;\n        }\n        var results = [];\n        while (true) {\n          var result = regexpExecAbstract(rx, S);\n          if (result === null) break;\n\n          results.push(result);\n          if (!global) break;\n\n          var matchStr = String(result[0]);\n          if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        }\n\n        var accumulatedResult = '';\n        var nextSourcePosition = 0;\n        for (var i = 0; i < results.length; i++) {\n          result = results[i];\n\n          var matched = String(result[0]);\n          var position = max$1(min$3(toInteger(result.index), S.length), 0);\n          var captures = [];\n          // NOTE: This is equivalent to\n          //   captures = result.slice(1).map(maybeToString)\n          // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n          // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n          // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n          for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n          var namedCaptures = result.groups;\n          if (functionalReplace) {\n            var replacerArgs = [matched].concat(captures, position, S);\n            if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n            var replacement = String(replaceValue.apply(undefined, replacerArgs));\n          } else {\n            replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n          }\n          if (position >= nextSourcePosition) {\n            accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n            nextSourcePosition = position + matched.length;\n          }\n        }\n        return accumulatedResult + S.slice(nextSourcePosition);\n      }\n    ];\n  });\n\n  /**\n   * Remove a class from an element\n   *\n   * @api private\n   * @method _removeClass\n   * @param {Object} element\n   * @param {RegExp|String} classNameRegex can be regex or string\n   * @returns null\n   */\n  function removeClass(element, classNameRegex) {\n    if (element instanceof SVGElement) {\n      var pre = element.getAttribute(\"class\") || \"\";\n      element.setAttribute(\"class\", pre.replace(classNameRegex, \"\").replace(/^\\s+|\\s+$/g, \"\"));\n    } else {\n      element.className = element.className.replace(classNameRegex, \"\").replace(/^\\s+|\\s+$/g, \"\");\n    }\n  }\n\n  /**\n   * Sets the style of an DOM element\n   *\n   * @param {Object} element\n   * @param {Object|string} style\n   * @return null\n   */\n  function setStyle(element, style) {\n    var cssText = \"\";\n\n    if (element.style.cssText) {\n      cssText += element.style.cssText;\n    }\n\n    if (typeof style === \"string\") {\n      cssText += style;\n    } else {\n      for (var rule in style) {\n        cssText += \"\".concat(rule, \":\").concat(style[rule], \";\");\n      }\n    }\n\n    element.style.cssText = cssText;\n  }\n\n  /**\n   * Update the position of the helper layer on the screen\n   *\n   * @api private\n   * @method _setHelperLayerPosition\n   * @param {Object} helperLayer\n   */\n\n  function setHelperLayerPosition(helperLayer) {\n    if (helperLayer) {\n      //prevent error when `this._currentStep` in undefined\n      if (!this._introItems[this._currentStep]) return;\n      var currentElement = this._introItems[this._currentStep];\n      var elementPosition = getOffset(currentElement.element);\n      var widthHeightPadding = this._options.helperElementPadding; // If the target element is fixed, the tooltip should be fixed as well.\n      // Otherwise, remove a fixed class that may be left over from the previous\n      // step.\n\n      if (isFixed(currentElement.element)) {\n        addClass(helperLayer, \"introjs-fixedTooltip\");\n      } else {\n        removeClass(helperLayer, \"introjs-fixedTooltip\");\n      }\n\n      if (currentElement.position === \"floating\") {\n        widthHeightPadding = 0;\n      } //set new position to helper layer\n\n\n      setStyle(helperLayer, {\n        width: \"\".concat(elementPosition.width + widthHeightPadding, \"px\"),\n        height: \"\".concat(elementPosition.height + widthHeightPadding, \"px\"),\n        top: \"\".concat(elementPosition.top - widthHeightPadding / 2, \"px\"),\n        left: \"\".concat(elementPosition.left - widthHeightPadding / 2, \"px\")\n      });\n    }\n  }\n\n  // optional / simple context binding\n  var functionBindContext = function (fn, that, length) {\n    aFunction$1(fn);\n    if (that === undefined) return fn;\n    switch (length) {\n      case 0: return function () {\n        return fn.call(that);\n      };\n      case 1: return function (a) {\n        return fn.call(that, a);\n      };\n      case 2: return function (a, b) {\n        return fn.call(that, a, b);\n      };\n      case 3: return function (a, b, c) {\n        return fn.call(that, a, b, c);\n      };\n    }\n    return function (/* ...args */) {\n      return fn.apply(that, arguments);\n    };\n  };\n\n  var push = [].push;\n\n  // `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterOut }` methods implementation\n  var createMethod$2 = function (TYPE) {\n    var IS_MAP = TYPE == 1;\n    var IS_FILTER = TYPE == 2;\n    var IS_SOME = TYPE == 3;\n    var IS_EVERY = TYPE == 4;\n    var IS_FIND_INDEX = TYPE == 6;\n    var IS_FILTER_OUT = TYPE == 7;\n    var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n    return function ($this, callbackfn, that, specificCreate) {\n      var O = toObject($this);\n      var self = indexedObject(O);\n      var boundFunction = functionBindContext(callbackfn, that, 3);\n      var length = toLength(self.length);\n      var index = 0;\n      var create = specificCreate || arraySpeciesCreate;\n      var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_OUT ? create($this, 0) : undefined;\n      var value, result;\n      for (;length > index; index++) if (NO_HOLES || index in self) {\n        value = self[index];\n        result = boundFunction(value, index, O);\n        if (TYPE) {\n          if (IS_MAP) target[index] = result; // map\n          else if (result) switch (TYPE) {\n            case 3: return true;              // some\n            case 5: return value;             // find\n            case 6: return index;             // findIndex\n            case 2: push.call(target, value); // filter\n          } else switch (TYPE) {\n            case 4: return false;             // every\n            case 7: push.call(target, value); // filterOut\n          }\n        }\n      }\n      return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n    };\n  };\n\n  var arrayIteration = {\n    // `Array.prototype.forEach` method\n    // https://tc39.es/ecma262/#sec-array.prototype.foreach\n    forEach: createMethod$2(0),\n    // `Array.prototype.map` method\n    // https://tc39.es/ecma262/#sec-array.prototype.map\n    map: createMethod$2(1),\n    // `Array.prototype.filter` method\n    // https://tc39.es/ecma262/#sec-array.prototype.filter\n    filter: createMethod$2(2),\n    // `Array.prototype.some` method\n    // https://tc39.es/ecma262/#sec-array.prototype.some\n    some: createMethod$2(3),\n    // `Array.prototype.every` method\n    // https://tc39.es/ecma262/#sec-array.prototype.every\n    every: createMethod$2(4),\n    // `Array.prototype.find` method\n    // https://tc39.es/ecma262/#sec-array.prototype.find\n    find: createMethod$2(5),\n    // `Array.prototype.findIndex` method\n    // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n    findIndex: createMethod$2(6),\n    // `Array.prototype.filterOut` method\n    // https://github.com/tc39/proposal-array-filtering\n    filterOut: createMethod$2(7)\n  };\n\n  var defineProperty = Object.defineProperty;\n  var cache = {};\n\n  var thrower = function (it) { throw it; };\n\n  var arrayMethodUsesToLength = function (METHOD_NAME, options) {\n    if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n    if (!options) options = {};\n    var method = [][METHOD_NAME];\n    var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n    var argument0 = has(options, 0) ? options[0] : thrower;\n    var argument1 = has(options, 1) ? options[1] : undefined;\n\n    return cache[METHOD_NAME] = !!method && !fails(function () {\n      if (ACCESSORS && !descriptors) return true;\n      var O = { length: -1 };\n\n      if (ACCESSORS) defineProperty(O, 1, { enumerable: true, get: thrower });\n      else O[1] = 1;\n\n      method.call(O, argument0, argument1);\n    });\n  };\n\n  var $filter = arrayIteration.filter;\n\n\n\n  var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n  // Edge 14- issue\n  var USES_TO_LENGTH = arrayMethodUsesToLength('filter');\n\n  // `Array.prototype.filter` method\n  // https://tc39.es/ecma262/#sec-array.prototype.filter\n  // with adding support of @@species\n  _export({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n    filter: function filter(callbackfn /* , thisArg */) {\n      return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  // `Object.keys` method\n  // https://tc39.es/ecma262/#sec-object.keys\n  var objectKeys = Object.keys || function keys(O) {\n    return objectKeysInternal(O, enumBugKeys);\n  };\n\n  // `Object.defineProperties` method\n  // https://tc39.es/ecma262/#sec-object.defineproperties\n  var objectDefineProperties = descriptors ? Object.defineProperties : function defineProperties(O, Properties) {\n    anObject(O);\n    var keys = objectKeys(Properties);\n    var length = keys.length;\n    var index = 0;\n    var key;\n    while (length > index) objectDefineProperty.f(O, key = keys[index++], Properties[key]);\n    return O;\n  };\n\n  var html = getBuiltIn('document', 'documentElement');\n\n  var GT = '>';\n  var LT = '<';\n  var PROTOTYPE = 'prototype';\n  var SCRIPT = 'script';\n  var IE_PROTO = sharedKey('IE_PROTO');\n\n  var EmptyConstructor = function () { /* empty */ };\n\n  var scriptTag = function (content) {\n    return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n  };\n\n  // Create object with fake `null` prototype: use ActiveX Object with cleared prototype\n  var NullProtoObjectViaActiveX = function (activeXDocument) {\n    activeXDocument.write(scriptTag(''));\n    activeXDocument.close();\n    var temp = activeXDocument.parentWindow.Object;\n    activeXDocument = null; // avoid memory leak\n    return temp;\n  };\n\n  // Create object with fake `null` prototype: use iframe Object with cleared prototype\n  var NullProtoObjectViaIFrame = function () {\n    // Thrash, waste and sodomy: IE GC bug\n    var iframe = documentCreateElement('iframe');\n    var JS = 'java' + SCRIPT + ':';\n    var iframeDocument;\n    iframe.style.display = 'none';\n    html.appendChild(iframe);\n    // https://github.com/zloirock/core-js/issues/475\n    iframe.src = String(JS);\n    iframeDocument = iframe.contentWindow.document;\n    iframeDocument.open();\n    iframeDocument.write(scriptTag('document.F=Object'));\n    iframeDocument.close();\n    return iframeDocument.F;\n  };\n\n  // Check for document.domain and active x support\n  // No need to use active x approach when document.domain is not set\n  // see https://github.com/es-shims/es5-shim/issues/150\n  // variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n  // avoid IE GC bug\n  var activeXDocument;\n  var NullProtoObject = function () {\n    try {\n      /* global ActiveXObject */\n      activeXDocument = document.domain && new ActiveXObject('htmlfile');\n    } catch (error) { /* ignore */ }\n    NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n    var length = enumBugKeys.length;\n    while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n    return NullProtoObject();\n  };\n\n  hiddenKeys[IE_PROTO] = true;\n\n  // `Object.create` method\n  // https://tc39.es/ecma262/#sec-object.create\n  var objectCreate = Object.create || function create(O, Properties) {\n    var result;\n    if (O !== null) {\n      EmptyConstructor[PROTOTYPE] = anObject(O);\n      result = new EmptyConstructor();\n      EmptyConstructor[PROTOTYPE] = null;\n      // add \"__proto__\" for Object.getPrototypeOf polyfill\n      result[IE_PROTO] = O;\n    } else result = NullProtoObject();\n    return Properties === undefined ? result : objectDefineProperties(result, Properties);\n  };\n\n  var UNSCOPABLES = wellKnownSymbol('unscopables');\n  var ArrayPrototype = Array.prototype;\n\n  // Array.prototype[@@unscopables]\n  // https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\n  if (ArrayPrototype[UNSCOPABLES] == undefined) {\n    objectDefineProperty.f(ArrayPrototype, UNSCOPABLES, {\n      configurable: true,\n      value: objectCreate(null)\n    });\n  }\n\n  // add a key to Array.prototype[@@unscopables]\n  var addToUnscopables = function (key) {\n    ArrayPrototype[UNSCOPABLES][key] = true;\n  };\n\n  var $includes = arrayIncludes.includes;\n\n\n\n  var USES_TO_LENGTH$1 = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  _export({ target: 'Array', proto: true, forced: !USES_TO_LENGTH$1 }, {\n    includes: function includes(el /* , fromIndex = 0 */) {\n      return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  // https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\n  addToUnscopables('includes');\n\n  var arrayMethodIsStrict = function (METHOD_NAME, argument) {\n    var method = [][METHOD_NAME];\n    return !!method && fails(function () {\n      // eslint-disable-next-line no-useless-call,no-throw-literal\n      method.call(null, argument || function () { throw 1; }, 1);\n    });\n  };\n\n  var $indexOf = arrayIncludes.indexOf;\n\n\n\n  var nativeIndexOf = [].indexOf;\n\n  var NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\n  var STRICT_METHOD = arrayMethodIsStrict('indexOf');\n  var USES_TO_LENGTH$2 = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  _export({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH$2 }, {\n    indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n      return NEGATIVE_ZERO\n        // convert -0 to +0\n        ? nativeIndexOf.apply(this, arguments) || 0\n        : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  var nativeJoin = [].join;\n\n  var ES3_STRINGS = indexedObject != Object;\n  var STRICT_METHOD$1 = arrayMethodIsStrict('join', ',');\n\n  // `Array.prototype.join` method\n  // https://tc39.es/ecma262/#sec-array.prototype.join\n  _export({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD$1 }, {\n    join: function join(separator) {\n      return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n    }\n  });\n\n  var HAS_SPECIES_SUPPORT$1 = arrayMethodHasSpeciesSupport('slice');\n  var USES_TO_LENGTH$3 = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\n  var SPECIES$4 = wellKnownSymbol('species');\n  var nativeSlice = [].slice;\n  var max$2 = Math.max;\n\n  // `Array.prototype.slice` method\n  // https://tc39.es/ecma262/#sec-array.prototype.slice\n  // fallback for not array-like ES3 strings and DOM objects\n  _export({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT$1 || !USES_TO_LENGTH$3 }, {\n    slice: function slice(start, end) {\n      var O = toIndexedObject(this);\n      var length = toLength(O.length);\n      var k = toAbsoluteIndex(start, length);\n      var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n      // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n      var Constructor, result, n;\n      if (isArray(O)) {\n        Constructor = O.constructor;\n        // cross-realm fallback\n        if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n          Constructor = undefined;\n        } else if (isObject(Constructor)) {\n          Constructor = Constructor[SPECIES$4];\n          if (Constructor === null) Constructor = undefined;\n        }\n        if (Constructor === Array || Constructor === undefined) {\n          return nativeSlice.call(O, k, fin);\n        }\n      }\n      result = new (Constructor === undefined ? Array : Constructor)(max$2(fin - k, 0));\n      for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n      result.length = n;\n      return result;\n    }\n  });\n\n  var notARegexp = function (it) {\n    if (isRegexp(it)) {\n      throw TypeError(\"The method doesn't accept regular expressions\");\n    } return it;\n  };\n\n  var MATCH$1 = wellKnownSymbol('match');\n\n  var correctIsRegexpLogic = function (METHOD_NAME) {\n    var regexp = /./;\n    try {\n      '/./'[METHOD_NAME](regexp);\n    } catch (error1) {\n      try {\n        regexp[MATCH$1] = false;\n        return '/./'[METHOD_NAME](regexp);\n      } catch (error2) { /* empty */ }\n    } return false;\n  };\n\n  // `String.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-string.prototype.includes\n  _export({ target: 'String', proto: true, forced: !correctIsRegexpLogic('includes') }, {\n    includes: function includes(searchString /* , position = 0 */) {\n      return !!~String(requireObjectCoercible(this))\n        .indexOf(notARegexp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  /**\n   * Set tooltip left so it doesn't go off the right side of the window\n   *\n   * @return boolean true, if tooltipLayerStyleLeft is ok.  false, otherwise.\n   */\n  function checkRight(targetOffset, tooltipLayerStyleLeft, tooltipOffset, windowSize, tooltipLayer) {\n    if (targetOffset.left + tooltipLayerStyleLeft + tooltipOffset.width > windowSize.width) {\n      // off the right side of the window\n      tooltipLayer.left = \"\".concat(windowSize.width - tooltipOffset.width - targetOffset.left, \"px\");\n      return false;\n    }\n\n    tooltipLayer.left = \"\".concat(tooltipLayerStyleLeft, \"px\");\n    return true;\n  }\n\n  /**\n   * Set tooltip right so it doesn't go off the left side of the window\n   *\n   * @return boolean true, if tooltipLayerStyleRight is ok.  false, otherwise.\n   */\n  function checkLeft(targetOffset, tooltipLayerStyleRight, tooltipOffset, tooltipLayer) {\n    if (targetOffset.left + targetOffset.width - tooltipLayerStyleRight - tooltipOffset.width < 0) {\n      // off the left side of the window\n      tooltipLayer.style.left = \"\".concat(-targetOffset.left, \"px\");\n      return false;\n    }\n\n    tooltipLayer.style.right = \"\".concat(tooltipLayerStyleRight, \"px\");\n    return true;\n  }\n\n  var HAS_SPECIES_SUPPORT$2 = arrayMethodHasSpeciesSupport('splice');\n  var USES_TO_LENGTH$4 = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\n  var max$3 = Math.max;\n  var min$4 = Math.min;\n  var MAX_SAFE_INTEGER$1 = 0x1FFFFFFFFFFFFF;\n  var MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n  // `Array.prototype.splice` method\n  // https://tc39.es/ecma262/#sec-array.prototype.splice\n  // with adding support of @@species\n  _export({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT$2 || !USES_TO_LENGTH$4 }, {\n    splice: function splice(start, deleteCount /* , ...items */) {\n      var O = toObject(this);\n      var len = toLength(O.length);\n      var actualStart = toAbsoluteIndex(start, len);\n      var argumentsLength = arguments.length;\n      var insertCount, actualDeleteCount, A, k, from, to;\n      if (argumentsLength === 0) {\n        insertCount = actualDeleteCount = 0;\n      } else if (argumentsLength === 1) {\n        insertCount = 0;\n        actualDeleteCount = len - actualStart;\n      } else {\n        insertCount = argumentsLength - 2;\n        actualDeleteCount = min$4(max$3(toInteger(deleteCount), 0), len - actualStart);\n      }\n      if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER$1) {\n        throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n      }\n      A = arraySpeciesCreate(O, actualDeleteCount);\n      for (k = 0; k < actualDeleteCount; k++) {\n        from = actualStart + k;\n        if (from in O) createProperty(A, k, O[from]);\n      }\n      A.length = actualDeleteCount;\n      if (insertCount < actualDeleteCount) {\n        for (k = actualStart; k < len - actualDeleteCount; k++) {\n          from = k + actualDeleteCount;\n          to = k + insertCount;\n          if (from in O) O[to] = O[from];\n          else delete O[to];\n        }\n        for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n      } else if (insertCount > actualDeleteCount) {\n        for (k = len - actualDeleteCount; k > actualStart; k--) {\n          from = k + actualDeleteCount - 1;\n          to = k + insertCount - 1;\n          if (from in O) O[to] = O[from];\n          else delete O[to];\n        }\n      }\n      for (k = 0; k < insertCount; k++) {\n        O[k + actualStart] = arguments[k + 2];\n      }\n      O.length = len - actualDeleteCount + insertCount;\n      return A;\n    }\n  });\n\n  /**\n   * Remove an entry from a string array if it's there, does nothing if it isn't there.\n   *\n   * @param {Array} stringArray\n   * @param {String} stringToRemove\n   */\n  function removeEntry(stringArray, stringToRemove) {\n    if (stringArray.includes(stringToRemove)) {\n      stringArray.splice(stringArray.indexOf(stringToRemove), 1);\n    }\n  }\n\n  /**\n   * auto-determine alignment\n   * @param {Integer}  offsetLeft\n   * @param {Integer}  tooltipWidth\n   * @param {Object}   windowSize\n   * @param {String}   desiredAlignment\n   * @return {String}  calculatedAlignment\n   */\n\n  function _determineAutoAlignment(offsetLeft, tooltipWidth, _ref, desiredAlignment) {\n    var width = _ref.width;\n    var halfTooltipWidth = tooltipWidth / 2;\n    var winWidth = Math.min(width, window.screen.width);\n    var possibleAlignments = [\"-left-aligned\", \"-middle-aligned\", \"-right-aligned\"];\n    var calculatedAlignment = \"\"; // valid left must be at least a tooltipWidth\n    // away from right side\n\n    if (winWidth - offsetLeft < tooltipWidth) {\n      removeEntry(possibleAlignments, \"-left-aligned\");\n    } // valid middle must be at least half\n    // width away from both sides\n\n\n    if (offsetLeft < halfTooltipWidth || winWidth - offsetLeft < halfTooltipWidth) {\n      removeEntry(possibleAlignments, \"-middle-aligned\");\n    } // valid right must be at least a tooltipWidth\n    // width away from left side\n\n\n    if (offsetLeft < tooltipWidth) {\n      removeEntry(possibleAlignments, \"-right-aligned\");\n    }\n\n    if (possibleAlignments.length) {\n      if (possibleAlignments.includes(desiredAlignment)) {\n        // the desired alignment is valid\n        calculatedAlignment = desiredAlignment;\n      } else {\n        // pick the first valid position, in order\n        calculatedAlignment = possibleAlignments[0];\n      }\n    } else {\n      // if screen width is too small\n      // for ANY alignment, middle is\n      // probably the best for visibility\n      calculatedAlignment = \"-middle-aligned\";\n    }\n\n    return calculatedAlignment;\n  }\n  /**\n   * Determines the position of the tooltip based on the position precedence and availability\n   * of screen space.\n   *\n   * @param {Object}    targetElement\n   * @param {Object}    tooltipLayer\n   * @param {String}    desiredTooltipPosition\n   * @return {String}   calculatedPosition\n   */\n\n\n  function _determineAutoPosition(targetElement, tooltipLayer, desiredTooltipPosition) {\n    // Take a clone of position precedence. These will be the available\n    var possiblePositions = this._options.positionPrecedence.slice();\n\n    var windowSize = getWinSize();\n    var tooltipHeight = getOffset(tooltipLayer).height + 10;\n    var tooltipWidth = getOffset(tooltipLayer).width + 20;\n    var targetElementRect = targetElement.getBoundingClientRect(); // If we check all the possible areas, and there are no valid places for the tooltip, the element\n    // must take up most of the screen real estate. Show the tooltip floating in the middle of the screen.\n\n    var calculatedPosition = \"floating\";\n    /*\n     * auto determine position\n     */\n    // Check for space below\n\n    if (targetElementRect.bottom + tooltipHeight > windowSize.height) {\n      removeEntry(possiblePositions, \"bottom\");\n    } // Check for space above\n\n\n    if (targetElementRect.top - tooltipHeight < 0) {\n      removeEntry(possiblePositions, \"top\");\n    } // Check for space to the right\n\n\n    if (targetElementRect.right + tooltipWidth > windowSize.width) {\n      removeEntry(possiblePositions, \"right\");\n    } // Check for space to the left\n\n\n    if (targetElementRect.left - tooltipWidth < 0) {\n      removeEntry(possiblePositions, \"left\");\n    } // @var {String}  ex: 'right-aligned'\n\n\n    var desiredAlignment = function (pos) {\n      var hyphenIndex = pos.indexOf(\"-\");\n\n      if (hyphenIndex !== -1) {\n        // has alignment\n        return pos.substr(hyphenIndex);\n      }\n\n      return \"\";\n    }(desiredTooltipPosition || \"\"); // strip alignment from position\n\n\n    if (desiredTooltipPosition) {\n      // ex: \"bottom-right-aligned\"\n      // should return 'bottom'\n      desiredTooltipPosition = desiredTooltipPosition.split(\"-\")[0];\n    }\n\n    if (possiblePositions.length) {\n      if (possiblePositions.includes(desiredTooltipPosition)) {\n        // If the requested position is in the list, choose that\n        calculatedPosition = desiredTooltipPosition;\n      } else {\n        // Pick the first valid position, in order\n        calculatedPosition = possiblePositions[0];\n      }\n    } // only top and bottom positions have optional alignments\n\n\n    if ([\"top\", \"bottom\"].includes(calculatedPosition)) {\n      calculatedPosition += _determineAutoAlignment(targetElementRect.left, tooltipWidth, windowSize, desiredAlignment);\n    }\n\n    return calculatedPosition;\n  }\n  /**\n   * Render tooltip box in the page\n   *\n   * @api private\n   * @method placeTooltip\n   * @param {HTMLElement} targetElement\n   * @param {HTMLElement} tooltipLayer\n   * @param {HTMLElement} arrowLayer\n   * @param {Boolean} hintMode\n   */\n\n\n  function placeTooltip(targetElement, tooltipLayer, arrowLayer, hintMode) {\n    var tooltipCssClass = \"\";\n    var currentStepObj;\n    var tooltipOffset;\n    var targetOffset;\n    var windowSize;\n    var currentTooltipPosition;\n    hintMode = hintMode || false; //reset the old style\n\n    tooltipLayer.style.top = null;\n    tooltipLayer.style.right = null;\n    tooltipLayer.style.bottom = null;\n    tooltipLayer.style.left = null;\n    tooltipLayer.style.marginLeft = null;\n    tooltipLayer.style.marginTop = null;\n    arrowLayer.style.display = \"inherit\"; //prevent error when `this._currentStep` is undefined\n\n    if (!this._introItems[this._currentStep]) return; //if we have a custom css class for each step\n\n    currentStepObj = this._introItems[this._currentStep];\n\n    if (typeof currentStepObj.tooltipClass === \"string\") {\n      tooltipCssClass = currentStepObj.tooltipClass;\n    } else {\n      tooltipCssClass = this._options.tooltipClass;\n    }\n\n    tooltipLayer.className = [\"introjs-tooltip\", tooltipCssClass].filter(Boolean).join(\" \");\n    tooltipLayer.setAttribute(\"role\", \"dialog\");\n    currentTooltipPosition = this._introItems[this._currentStep].position; // Floating is always valid, no point in calculating\n\n    if (currentTooltipPosition !== \"floating\" && this._options.autoPosition) {\n      currentTooltipPosition = _determineAutoPosition.call(this, targetElement, tooltipLayer, currentTooltipPosition);\n    }\n\n    var tooltipLayerStyleLeft;\n    targetOffset = getOffset(targetElement);\n    tooltipOffset = getOffset(tooltipLayer);\n    windowSize = getWinSize();\n    addClass(tooltipLayer, \"introjs-\".concat(currentTooltipPosition));\n\n    switch (currentTooltipPosition) {\n      case \"top-right-aligned\":\n        arrowLayer.className = \"introjs-arrow bottom-right\";\n        var tooltipLayerStyleRight = 0;\n        checkLeft(targetOffset, tooltipLayerStyleRight, tooltipOffset, tooltipLayer);\n        tooltipLayer.style.bottom = \"\".concat(targetOffset.height + 20, \"px\");\n        break;\n\n      case \"top-middle-aligned\":\n        arrowLayer.className = \"introjs-arrow bottom-middle\";\n        var tooltipLayerStyleLeftRight = targetOffset.width / 2 - tooltipOffset.width / 2; // a fix for middle aligned hints\n\n        if (hintMode) {\n          tooltipLayerStyleLeftRight += 5;\n        }\n\n        if (checkLeft(targetOffset, tooltipLayerStyleLeftRight, tooltipOffset, tooltipLayer)) {\n          tooltipLayer.style.right = null;\n          checkRight(targetOffset, tooltipLayerStyleLeftRight, tooltipOffset, windowSize, tooltipLayer);\n        }\n\n        tooltipLayer.style.bottom = \"\".concat(targetOffset.height + 20, \"px\");\n        break;\n\n      case \"top-left-aligned\": // top-left-aligned is the same as the default top\n\n      case \"top\":\n        arrowLayer.className = \"introjs-arrow bottom\";\n        tooltipLayerStyleLeft = hintMode ? 0 : 15;\n        checkRight(targetOffset, tooltipLayerStyleLeft, tooltipOffset, windowSize, tooltipLayer);\n        tooltipLayer.style.bottom = \"\".concat(targetOffset.height + 20, \"px\");\n        break;\n\n      case \"right\":\n        tooltipLayer.style.left = \"\".concat(targetOffset.width + 20, \"px\");\n\n        if (targetOffset.top + tooltipOffset.height > windowSize.height) {\n          // In this case, right would have fallen below the bottom of the screen.\n          // Modify so that the bottom of the tooltip connects with the target\n          arrowLayer.className = \"introjs-arrow left-bottom\";\n          tooltipLayer.style.top = \"-\".concat(tooltipOffset.height - targetOffset.height - 20, \"px\");\n        } else {\n          arrowLayer.className = \"introjs-arrow left\";\n        }\n\n        break;\n\n      case \"left\":\n        if (!hintMode && this._options.showStepNumbers === true) {\n          tooltipLayer.style.top = \"15px\";\n        }\n\n        if (targetOffset.top + tooltipOffset.height > windowSize.height) {\n          // In this case, left would have fallen below the bottom of the screen.\n          // Modify so that the bottom of the tooltip connects with the target\n          tooltipLayer.style.top = \"-\".concat(tooltipOffset.height - targetOffset.height - 20, \"px\");\n          arrowLayer.className = \"introjs-arrow right-bottom\";\n        } else {\n          arrowLayer.className = \"introjs-arrow right\";\n        }\n\n        tooltipLayer.style.right = \"\".concat(targetOffset.width + 20, \"px\");\n        break;\n\n      case \"floating\":\n        arrowLayer.style.display = \"none\"; //we have to adjust the top and left of layer manually for intro items without element\n\n        tooltipLayer.style.left = \"50%\";\n        tooltipLayer.style.top = \"50%\";\n        tooltipLayer.style.marginLeft = \"-\".concat(tooltipOffset.width / 2, \"px\");\n        tooltipLayer.style.marginTop = \"-\".concat(tooltipOffset.height / 2, \"px\");\n        break;\n\n      case \"bottom-right-aligned\":\n        arrowLayer.className = \"introjs-arrow top-right\";\n        tooltipLayerStyleRight = 0;\n        checkLeft(targetOffset, tooltipLayerStyleRight, tooltipOffset, tooltipLayer);\n        tooltipLayer.style.top = \"\".concat(targetOffset.height + 20, \"px\");\n        break;\n\n      case \"bottom-middle-aligned\":\n        arrowLayer.className = \"introjs-arrow top-middle\";\n        tooltipLayerStyleLeftRight = targetOffset.width / 2 - tooltipOffset.width / 2; // a fix for middle aligned hints\n\n        if (hintMode) {\n          tooltipLayerStyleLeftRight += 5;\n        }\n\n        if (checkLeft(targetOffset, tooltipLayerStyleLeftRight, tooltipOffset, tooltipLayer)) {\n          tooltipLayer.style.right = null;\n          checkRight(targetOffset, tooltipLayerStyleLeftRight, tooltipOffset, windowSize, tooltipLayer);\n        }\n\n        tooltipLayer.style.top = \"\".concat(targetOffset.height + 20, \"px\");\n        break;\n      // case 'bottom-left-aligned':\n      // Bottom-left-aligned is the same as the default bottom\n      // case 'bottom':\n      // Bottom going to follow the default behavior\n\n      default:\n        arrowLayer.className = \"introjs-arrow top\";\n        tooltipLayerStyleLeft = 0;\n        checkRight(targetOffset, tooltipLayerStyleLeft, tooltipOffset, windowSize, tooltipLayer);\n        tooltipLayer.style.top = \"\".concat(targetOffset.height + 20, \"px\");\n    }\n  }\n\n  /**\n   * To remove all show element(s)\n   *\n   * @api private\n   * @method _removeShowElement\n   */\n\n  function removeShowElement() {\n    var elms = document.querySelectorAll(\".introjs-showElement\");\n    forEach(elms, function (elm) {\n      removeClass(elm, /introjs-[a-zA-Z]+/g);\n    });\n  }\n\n  function _createElement(tagname, attrs) {\n    var element = document.createElement(tagname);\n    attrs = attrs || {}; // regex for matching attributes that need to be set with setAttribute\n\n    var setAttRegex = /^(?:role|data-|aria-)/;\n\n    for (var k in attrs) {\n      var v = attrs[k];\n\n      if (k === \"style\") {\n        setStyle(element, v);\n      } else if (k.match(setAttRegex)) {\n        element.setAttribute(k, v);\n      } else {\n        element[k] = v;\n      }\n    }\n\n    return element;\n  }\n\n  /**\n   * Appends `element` to `parentElement`\n   *\n   * @param {Element} parentElement\n   * @param {Element} element\n   * @param {Boolean} [animate=false]\n   */\n\n  function appendChild(parentElement, element, animate) {\n    if (animate) {\n      var existingOpacity = element.style.opacity || \"1\";\n      setStyle(element, {\n        opacity: \"0\"\n      });\n      window.setTimeout(function () {\n        setStyle(element, {\n          opacity: existingOpacity\n        });\n      }, 10);\n    }\n\n    parentElement.appendChild(element);\n  }\n\n  /**\n   * Gets the current progress percentage\n   *\n   * @api private\n   * @method _getProgress\n   * @returns current progress percentage\n   */\n\n  function _getProgress() {\n    // Steps are 0 indexed\n    var currentStep = parseInt(this._currentStep + 1, 10);\n    return currentStep / this._introItems.length * 100;\n  }\n  /**\n   * Add disableinteraction layer and adjust the size and position of the layer\n   *\n   * @api private\n   * @method _disableInteraction\n   */\n\n\n  function _disableInteraction() {\n    var disableInteractionLayer = document.querySelector(\".introjs-disableInteraction\");\n\n    if (disableInteractionLayer === null) {\n      disableInteractionLayer = _createElement(\"div\", {\n        className: \"introjs-disableInteraction\"\n      });\n\n      this._targetElement.appendChild(disableInteractionLayer);\n    }\n\n    setHelperLayerPosition.call(this, disableInteractionLayer);\n  }\n  /**\n   * Show an element on the page\n   *\n   * @api private\n   * @method _showElement\n   * @param {Object} targetElement\n   */\n\n\n  function _showElement(targetElement) {\n    var _this = this;\n\n    if (typeof this._introChangeCallback !== \"undefined\") {\n      this._introChangeCallback.call(this, targetElement.element);\n    }\n\n    var self = this;\n    var oldHelperLayer = document.querySelector(\".introjs-helperLayer\");\n    var oldReferenceLayer = document.querySelector(\".introjs-tooltipReferenceLayer\");\n    var highlightClass = \"introjs-helperLayer\";\n    var nextTooltipButton;\n    var prevTooltipButton;\n    var skipTooltipButton;\n\n    if (typeof targetElement.highlightClass === \"string\") {\n      highlightClass += \" \".concat(targetElement.highlightClass);\n    } //check for options highlight class\n\n\n    if (typeof this._options.highlightClass === \"string\") {\n      highlightClass += \" \".concat(this._options.highlightClass);\n    }\n\n    if (oldHelperLayer !== null) {\n      var oldHelperNumberLayer = oldReferenceLayer.querySelector(\".introjs-helperNumberLayer\");\n      var oldtooltipLayer = oldReferenceLayer.querySelector(\".introjs-tooltiptext\");\n      var oldTooltipTitleLayer = oldReferenceLayer.querySelector(\".introjs-tooltip-title\");\n      var oldArrowLayer = oldReferenceLayer.querySelector(\".introjs-arrow\");\n      var oldtooltipContainer = oldReferenceLayer.querySelector(\".introjs-tooltip\");\n      skipTooltipButton = oldReferenceLayer.querySelector(\".introjs-skipbutton\");\n      prevTooltipButton = oldReferenceLayer.querySelector(\".introjs-prevbutton\");\n      nextTooltipButton = oldReferenceLayer.querySelector(\".introjs-nextbutton\"); //update or reset the helper highlight class\n\n      oldHelperLayer.className = highlightClass; //hide the tooltip\n\n      oldtooltipContainer.style.opacity = 0;\n      oldtooltipContainer.style.display = \"none\"; // if the target element is within a scrollable element\n\n      scrollParentToElement.call(self, targetElement); // set new position to helper layer\n\n      setHelperLayerPosition.call(self, oldHelperLayer);\n      setHelperLayerPosition.call(self, oldReferenceLayer); //remove old classes if the element still exist\n\n      removeShowElement(); //we should wait until the CSS3 transition is competed (it's 0.3 sec) to prevent incorrect `height` and `width` calculation\n\n      if (self._lastShowElementTimer) {\n        window.clearTimeout(self._lastShowElementTimer);\n      }\n\n      self._lastShowElementTimer = window.setTimeout(function () {\n        // set current step to the label\n        if (oldHelperNumberLayer !== null) {\n          oldHelperNumberLayer.innerHTML = \"\".concat(targetElement.step, \" of \").concat(_this._introItems.length);\n        } // set current tooltip text\n\n\n        oldtooltipLayer.innerHTML = targetElement.intro; // set current tooltip title\n\n        oldTooltipTitleLayer.innerHTML = targetElement.title; //set the tooltip position\n\n        oldtooltipContainer.style.display = \"block\";\n        placeTooltip.call(self, targetElement.element, oldtooltipContainer, oldArrowLayer); //change active bullet\n\n        if (self._options.showBullets) {\n          oldReferenceLayer.querySelector(\".introjs-bullets li > a.active\").className = \"\";\n          oldReferenceLayer.querySelector(\".introjs-bullets li > a[data-stepnumber=\\\"\".concat(targetElement.step, \"\\\"]\")).className = \"active\";\n        }\n\n        oldReferenceLayer.querySelector(\".introjs-progress .introjs-progressbar\").style.cssText = \"width:\".concat(_getProgress.call(self), \"%;\");\n        oldReferenceLayer.querySelector(\".introjs-progress .introjs-progressbar\").setAttribute(\"aria-valuenow\", _getProgress.call(self)); //show the tooltip\n\n        oldtooltipContainer.style.opacity = 1; //reset button focus\n\n        if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null && /introjs-donebutton/gi.test(nextTooltipButton.className)) {\n          // skip button is now \"done\" button\n          nextTooltipButton.focus();\n        } else if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n          //still in the tour, focus on next\n          nextTooltipButton.focus();\n        } // change the scroll of the window, if needed\n\n\n        scrollTo.call(self, targetElement.scrollTo, targetElement, oldtooltipLayer);\n      }, 350); // end of old element if-else condition\n    } else {\n      var helperLayer = _createElement(\"div\", {\n        className: highlightClass\n      });\n      var referenceLayer = _createElement(\"div\", {\n        className: \"introjs-tooltipReferenceLayer\"\n      });\n      var arrowLayer = _createElement(\"div\", {\n        className: \"introjs-arrow\"\n      });\n      var tooltipLayer = _createElement(\"div\", {\n        className: \"introjs-tooltip\"\n      });\n      var tooltipTextLayer = _createElement(\"div\", {\n        className: \"introjs-tooltiptext\"\n      });\n      var tooltipHeaderLayer = _createElement(\"div\", {\n        className: \"introjs-tooltip-header\"\n      });\n      var tooltipTitleLayer = _createElement(\"h1\", {\n        className: \"introjs-tooltip-title\"\n      });\n      var bulletsLayer = _createElement(\"div\", {\n        className: \"introjs-bullets\"\n      });\n      var progressLayer = _createElement(\"div\");\n      var buttonsLayer = _createElement(\"div\");\n      setStyle(helperLayer, {\n        \"box-shadow\": \"0 0 1px 2px rgba(33, 33, 33, 0.8), rgba(33, 33, 33, \".concat(self._options.overlayOpacity.toString(), \") 0 0 0 5000px\")\n      }); // target is within a scrollable element\n\n      scrollParentToElement.call(self, targetElement); //set new position to helper layer\n\n      setHelperLayerPosition.call(self, helperLayer);\n      setHelperLayerPosition.call(self, referenceLayer); //add helper layer to target element\n\n      appendChild(this._targetElement, helperLayer, true);\n      appendChild(this._targetElement, referenceLayer);\n      tooltipTextLayer.innerHTML = targetElement.intro;\n      tooltipTitleLayer.innerHTML = targetElement.title;\n\n      if (this._options.showBullets === false) {\n        bulletsLayer.style.display = \"none\";\n      }\n\n      var ulContainer = _createElement(\"ul\");\n      ulContainer.setAttribute(\"role\", \"tablist\");\n\n      var anchorClick = function anchorClick() {\n        self.goToStep(this.getAttribute(\"data-stepnumber\"));\n      };\n\n      forEach(this._introItems, function (_ref, i) {\n        var step = _ref.step;\n        var innerLi = _createElement(\"li\");\n        var anchorLink = _createElement(\"a\");\n        innerLi.setAttribute(\"role\", \"presentation\");\n        anchorLink.setAttribute(\"role\", \"tab\");\n        anchorLink.onclick = anchorClick;\n\n        if (i === targetElement.step - 1) {\n          anchorLink.className = \"active\";\n        }\n\n        setAnchorAsButton(anchorLink);\n        anchorLink.innerHTML = \"&nbsp;\";\n        anchorLink.setAttribute(\"data-stepnumber\", step);\n        innerLi.appendChild(anchorLink);\n        ulContainer.appendChild(innerLi);\n      });\n      bulletsLayer.appendChild(ulContainer);\n      progressLayer.className = \"introjs-progress\";\n\n      if (this._options.showProgress === false) {\n        progressLayer.style.display = \"none\";\n      }\n\n      var progressBar = _createElement(\"div\", {\n        className: \"introjs-progressbar\"\n      });\n\n      if (this._options.progressBarAdditionalClass) {\n        progressBar.className += \" \" + this._options.progressBarAdditionalClass;\n      }\n\n      progressBar.setAttribute(\"role\", \"progress\");\n      progressBar.setAttribute(\"aria-valuemin\", 0);\n      progressBar.setAttribute(\"aria-valuemax\", 100);\n      progressBar.setAttribute(\"aria-valuenow\", _getProgress.call(this));\n      progressBar.style.cssText = \"width:\".concat(_getProgress.call(this), \"%;\");\n      progressLayer.appendChild(progressBar);\n      buttonsLayer.className = \"introjs-tooltipbuttons\";\n\n      if (this._options.showButtons === false) {\n        buttonsLayer.style.display = \"none\";\n      }\n\n      tooltipHeaderLayer.appendChild(tooltipTitleLayer);\n      tooltipLayer.appendChild(tooltipHeaderLayer);\n      tooltipLayer.appendChild(tooltipTextLayer);\n      tooltipLayer.appendChild(bulletsLayer);\n      tooltipLayer.appendChild(progressLayer); // add helper layer number\n\n      var helperNumberLayer = _createElement(\"div\");\n\n      if (this._options.showStepNumbers === true) {\n        helperNumberLayer.className = \"introjs-helperNumberLayer\";\n        helperNumberLayer.innerHTML = \"\".concat(targetElement.step, \" of \").concat(this._introItems.length);\n        tooltipLayer.appendChild(helperNumberLayer);\n      }\n\n      tooltipLayer.appendChild(arrowLayer);\n      referenceLayer.appendChild(tooltipLayer); //next button\n\n      nextTooltipButton = _createElement(\"a\");\n\n      nextTooltipButton.onclick = function () {\n        if (self._introItems.length - 1 !== self._currentStep) {\n          nextStep.call(self);\n        } else if (/introjs-donebutton/gi.test(nextTooltipButton.className)) {\n          if (typeof self._introCompleteCallback === \"function\") {\n            self._introCompleteCallback.call(self);\n          }\n\n          exitIntro.call(self, self._targetElement);\n        }\n      };\n\n      setAnchorAsButton(nextTooltipButton);\n      nextTooltipButton.innerHTML = this._options.nextLabel; //previous button\n\n      prevTooltipButton = _createElement(\"a\");\n\n      prevTooltipButton.onclick = function () {\n        if (self._currentStep !== 0) {\n          previousStep.call(self);\n        }\n      };\n\n      setAnchorAsButton(prevTooltipButton);\n      prevTooltipButton.innerHTML = this._options.prevLabel; //skip button\n\n      skipTooltipButton = _createElement(\"a\", {\n        className: \"introjs-skipbutton\"\n      });\n      setAnchorAsButton(skipTooltipButton);\n      skipTooltipButton.innerHTML = this._options.skipLabel;\n\n      skipTooltipButton.onclick = function () {\n        if (self._introItems.length - 1 === self._currentStep && typeof self._introCompleteCallback === \"function\") {\n          self._introCompleteCallback.call(self);\n        }\n\n        if (typeof self._introSkipCallback === \"function\") {\n          self._introSkipCallback.call(self);\n        }\n\n        exitIntro.call(self, self._targetElement);\n      };\n\n      tooltipHeaderLayer.appendChild(skipTooltipButton); //in order to prevent displaying previous button always\n\n      if (this._introItems.length > 1) {\n        buttonsLayer.appendChild(prevTooltipButton);\n      } // we always need the next button because this\n      // button changes to \"Done\" in the last step of the tour\n\n\n      buttonsLayer.appendChild(nextTooltipButton);\n      tooltipLayer.appendChild(buttonsLayer); //set proper position\n\n      placeTooltip.call(self, targetElement.element, tooltipLayer, arrowLayer); // change the scroll of the window, if needed\n\n      scrollTo.call(this, targetElement.scrollTo, targetElement, tooltipLayer); //end of new element if-else condition\n    } // removing previous disable interaction layer\n\n\n    var disableInteractionLayer = self._targetElement.querySelector(\".introjs-disableInteraction\");\n\n    if (disableInteractionLayer) {\n      disableInteractionLayer.parentNode.removeChild(disableInteractionLayer);\n    } //disable interaction\n\n\n    if (targetElement.disableInteraction) {\n      _disableInteraction.call(self);\n    } // when it's the first step of tour\n\n\n    if (this._currentStep === 0 && this._introItems.length > 1) {\n      if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n        nextTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-nextbutton\");\n        nextTooltipButton.innerHTML = this._options.nextLabel;\n      }\n\n      if (this._options.hidePrev === true) {\n        if (typeof prevTooltipButton !== \"undefined\" && prevTooltipButton !== null) {\n          prevTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-prevbutton introjs-hidden\");\n        }\n\n        if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n          addClass(nextTooltipButton, \"introjs-fullbutton\");\n        }\n      } else {\n        if (typeof prevTooltipButton !== \"undefined\" && prevTooltipButton !== null) {\n          prevTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-prevbutton introjs-disabled\");\n        }\n      }\n    } else if (this._introItems.length - 1 === this._currentStep || this._introItems.length === 1) {\n      // last step of tour\n      if (typeof prevTooltipButton !== \"undefined\" && prevTooltipButton !== null) {\n        prevTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-prevbutton\");\n      }\n\n      if (this._options.hideNext === true) {\n        if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n          nextTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-nextbutton introjs-hidden\");\n        }\n\n        if (typeof prevTooltipButton !== \"undefined\" && prevTooltipButton !== null) {\n          addClass(prevTooltipButton, \"introjs-fullbutton\");\n        }\n      } else {\n        if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n          if (this._options.nextToDone === true) {\n            nextTooltipButton.innerHTML = this._options.doneLabel;\n            addClass(nextTooltipButton, \"\".concat(this._options.buttonClass, \" introjs-nextbutton introjs-donebutton\"));\n          } else {\n            nextTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-nextbutton introjs-disabled\");\n          }\n        }\n      }\n    } else {\n      // steps between start and end\n      if (typeof prevTooltipButton !== \"undefined\" && prevTooltipButton !== null) {\n        prevTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-prevbutton\");\n      }\n\n      if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n        nextTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-nextbutton\");\n        nextTooltipButton.innerHTML = this._options.nextLabel;\n      }\n    }\n\n    if (typeof prevTooltipButton !== \"undefined\" && prevTooltipButton !== null) {\n      prevTooltipButton.setAttribute(\"role\", \"button\");\n    }\n\n    if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n      nextTooltipButton.setAttribute(\"role\", \"button\");\n    }\n\n    if (typeof skipTooltipButton !== \"undefined\" && skipTooltipButton !== null) {\n      skipTooltipButton.setAttribute(\"role\", \"button\");\n    } //Set focus on \"next\" button, so that hitting Enter always moves you onto the next step\n\n\n    if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n      nextTooltipButton.focus();\n    }\n\n    setShowElement(targetElement);\n\n    if (typeof this._introAfterChangeCallback !== \"undefined\") {\n      this._introAfterChangeCallback.call(this, targetElement.element);\n    }\n  }\n\n  /**\n   * Go to specific step of introduction\n   *\n   * @api private\n   * @method _goToStep\n   */\n\n  function goToStep(step) {\n    //because steps starts with zero\n    this._currentStep = step - 2;\n\n    if (typeof this._introItems !== \"undefined\") {\n      nextStep.call(this);\n    }\n  }\n  /**\n   * Go to the specific step of introduction with the explicit [data-step] number\n   *\n   * @api private\n   * @method _goToStepNumber\n   */\n\n  function goToStepNumber(step) {\n    this._currentStepNumber = step;\n\n    if (typeof this._introItems !== \"undefined\") {\n      nextStep.call(this);\n    }\n  }\n  /**\n   * Go to next step on intro\n   *\n   * @api private\n   * @method _nextStep\n   */\n\n  function nextStep() {\n    var _this = this;\n\n    this._direction = \"forward\";\n\n    if (typeof this._currentStepNumber !== \"undefined\") {\n      forEach(this._introItems, function (_ref, i) {\n        var step = _ref.step;\n\n        if (step === _this._currentStepNumber) {\n          _this._currentStep = i - 1;\n          _this._currentStepNumber = undefined;\n        }\n      });\n    }\n\n    if (typeof this._currentStep === \"undefined\") {\n      this._currentStep = 0;\n    } else {\n      ++this._currentStep;\n    }\n\n    var nextStep = this._introItems[this._currentStep];\n    var continueStep = true;\n\n    if (typeof this._introBeforeChangeCallback !== \"undefined\") {\n      continueStep = this._introBeforeChangeCallback.call(this, nextStep && nextStep.element);\n    } // if `onbeforechange` returned `false`, stop displaying the element\n\n\n    if (continueStep === false) {\n      --this._currentStep;\n      return false;\n    }\n\n    if (this._introItems.length <= this._currentStep) {\n      //end of the intro\n      //check if any callback is defined\n      if (typeof this._introCompleteCallback === \"function\") {\n        this._introCompleteCallback.call(this);\n      }\n\n      exitIntro.call(this, this._targetElement);\n      return;\n    }\n\n    _showElement.call(this, nextStep);\n  }\n  /**\n   * Go to previous step on intro\n   *\n   * @api private\n   * @method _previousStep\n   */\n\n  function previousStep() {\n    this._direction = \"backward\";\n\n    if (this._currentStep === 0) {\n      return false;\n    }\n\n    --this._currentStep;\n    var nextStep = this._introItems[this._currentStep];\n    var continueStep = true;\n\n    if (typeof this._introBeforeChangeCallback !== \"undefined\") {\n      continueStep = this._introBeforeChangeCallback.call(this, nextStep && nextStep.element);\n    } // if `onbeforechange` returned `false`, stop displaying the element\n\n\n    if (continueStep === false) {\n      ++this._currentStep;\n      return false;\n    }\n\n    _showElement.call(this, nextStep);\n  }\n  /**\n   * Returns the current step of the intro\n   *\n   * @returns {number | boolean}\n   */\n\n  function currentStep() {\n    return this._currentStep;\n  }\n\n  /**\n   * on keyCode:\n   * https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyCode\n   * This feature has been removed from the Web standards.\n   * Though some browsers may still support it, it is in\n   * the process of being dropped.\n   * Instead, you should use KeyboardEvent.code,\n   * if it's implemented.\n   *\n   * jQuery's approach is to test for\n   *   (1) e.which, then\n   *   (2) e.charCode, then\n   *   (3) e.keyCode\n   * https://github.com/jquery/jquery/blob/a6b0705294d336ae2f63f7276de0da1195495363/src/event.js#L638\n   *\n   * @param type var\n   * @return type\n   */\n\n  function onKeyDown(e) {\n    var code = e.code === undefined ? e.which : e.code; // if e.which is null\n\n    if (code === null) {\n      code = e.charCode === null ? e.keyCode : e.charCode;\n    }\n\n    if ((code === \"Escape\" || code === 27) && this._options.exitOnEsc === true) {\n      //escape key pressed, exit the intro\n      //check if exit callback is defined\n      exitIntro.call(this, this._targetElement);\n    } else if (code === \"ArrowLeft\" || code === 37) {\n      //left arrow\n      previousStep.call(this);\n    } else if (code === \"ArrowRight\" || code === 39) {\n      //right arrow\n      nextStep.call(this);\n    } else if (code === \"Enter\" || code === \"NumpadEnter\" || code === 13) {\n      //srcElement === ie\n      var target = e.target || e.srcElement;\n\n      if (target && target.className.match(\"introjs-prevbutton\")) {\n        //user hit enter while focusing on previous button\n        previousStep.call(this);\n      } else if (target && target.className.match(\"introjs-skipbutton\")) {\n        //user hit enter while focusing on skip button\n        if (this._introItems.length - 1 === this._currentStep && typeof this._introCompleteCallback === \"function\") {\n          this._introCompleteCallback.call(this);\n        }\n\n        exitIntro.call(this, this._targetElement);\n      } else if (target && target.getAttribute(\"data-stepnumber\")) {\n        // user hit enter while focusing on step bullet\n        target.click();\n      } else {\n        //default behavior for responding to enter\n        nextStep.call(this);\n      } //prevent default behaviour on hitting Enter, to prevent steps being skipped in some browsers\n\n\n      if (e.preventDefault) {\n        e.preventDefault();\n      } else {\n        e.returnValue = false;\n      }\n    }\n  }\n\n  /*\n   * makes a copy of the object\n   * @api private\n   * @method _cloneObject\n   */\n  function cloneObject(object) {\n    if (object === null || _typeof(object) !== \"object\" || typeof object.nodeType !== \"undefined\") {\n      return object;\n    }\n\n    var temp = {};\n\n    for (var key in object) {\n      if (typeof window.jQuery !== \"undefined\" && object[key] instanceof window.jQuery) {\n        temp[key] = object[key];\n      } else {\n        temp[key] = cloneObject(object[key]);\n      }\n    }\n\n    return temp;\n  }\n\n  /**\n   * Get a queryselector within the hint wrapper\n   *\n   * @param {String} selector\n   * @return {NodeList|Array}\n   */\n\n  function hintQuerySelectorAll(selector) {\n    var hintsWrapper = document.querySelector(\".introjs-hints\");\n    return hintsWrapper ? hintsWrapper.querySelectorAll(selector) : [];\n  }\n  /**\n   * Hide a hint\n   *\n   * @api private\n   * @method hideHint\n   */\n\n  function hideHint(stepId) {\n    var hint = hintQuerySelectorAll(\".introjs-hint[data-step=\\\"\".concat(stepId, \"\\\"]\"))[0];\n    removeHintTooltip.call(this);\n\n    if (hint) {\n      addClass(hint, \"introjs-hidehint\");\n    } // call the callback function (if any)\n\n\n    if (typeof this._hintCloseCallback !== \"undefined\") {\n      this._hintCloseCallback.call(this, stepId);\n    }\n  }\n  /**\n   * Hide all hints\n   *\n   * @api private\n   * @method hideHints\n   */\n\n  function hideHints() {\n    var _this = this;\n\n    var hints = hintQuerySelectorAll(\".introjs-hint\");\n    forEach(hints, function (hint) {\n      hideHint.call(_this, hint.getAttribute(\"data-step\"));\n    });\n  }\n  /**\n   * Show all hints\n   *\n   * @api private\n   * @method _showHints\n   */\n\n  function showHints() {\n    var _this2 = this;\n\n    var hints = hintQuerySelectorAll(\".introjs-hint\");\n\n    if (hints && hints.length) {\n      forEach(hints, function (hint) {\n        showHint.call(_this2, hint.getAttribute(\"data-step\"));\n      });\n    } else {\n      populateHints.call(this, this._targetElement);\n    }\n  }\n  /**\n   * Show a hint\n   *\n   * @api private\n   * @method showHint\n   */\n\n  function showHint(stepId) {\n    var hint = hintQuerySelectorAll(\".introjs-hint[data-step=\\\"\".concat(stepId, \"\\\"]\"))[0];\n\n    if (hint) {\n      removeClass(hint, /introjs-hidehint/g);\n    }\n  }\n  /**\n   * Removes all hint elements on the page\n   * Useful when you want to destroy the elements and add them again (e.g. a modal or popup)\n   *\n   * @api private\n   * @method removeHints\n   */\n\n  function removeHints() {\n    var _this3 = this;\n\n    var hints = hintQuerySelectorAll(\".introjs-hint\");\n    forEach(hints, function (hint) {\n      removeHint.call(_this3, hint.getAttribute(\"data-step\"));\n    });\n  }\n  /**\n   * Remove one single hint element from the page\n   * Useful when you want to destroy the element and add them again (e.g. a modal or popup)\n   * Use removeHints if you want to remove all elements.\n   *\n   * @api private\n   * @method removeHint\n   */\n\n  function removeHint(stepId) {\n    var hint = hintQuerySelectorAll(\".introjs-hint[data-step=\\\"\".concat(stepId, \"\\\"]\"))[0];\n\n    if (hint) {\n      hint.parentNode.removeChild(hint);\n    }\n  }\n  /**\n   * Add all available hints to the page\n   *\n   * @api private\n   * @method addHints\n   */\n\n  function addHints() {\n    var _this4 = this;\n\n    var self = this;\n    var hintsWrapper = document.querySelector(\".introjs-hints\");\n\n    if (hintsWrapper === null) {\n      hintsWrapper = _createElement(\"div\", {\n        className: \"introjs-hints\"\n      });\n    }\n    /**\n     * Returns an event handler unique to the hint iteration\n     *\n     * @param {Integer} i\n     * @return {Function}\n     */\n\n\n    var getHintClick = function getHintClick(i) {\n      return function (e) {\n        var evt = e ? e : window.event;\n\n        if (evt.stopPropagation) {\n          evt.stopPropagation();\n        }\n\n        if (evt.cancelBubble !== null) {\n          evt.cancelBubble = true;\n        }\n\n        showHintDialog.call(self, i);\n      };\n    };\n\n    forEach(this._introItems, function (item, i) {\n      // avoid append a hint twice\n      if (document.querySelector(\".introjs-hint[data-step=\\\"\".concat(i, \"\\\"]\"))) {\n        return;\n      }\n\n      var hint = _createElement(\"a\", {\n        className: \"introjs-hint\"\n      });\n      setAnchorAsButton(hint);\n      hint.onclick = getHintClick(i);\n\n      if (!item.hintAnimation) {\n        addClass(hint, \"introjs-hint-no-anim\");\n      } // hint's position should be fixed if the target element's position is fixed\n\n\n      if (isFixed(item.element)) {\n        addClass(hint, \"introjs-fixedhint\");\n      }\n\n      var hintDot = _createElement(\"div\", {\n        className: \"introjs-hint-dot\"\n      });\n      var hintPulse = _createElement(\"div\", {\n        className: \"introjs-hint-pulse\"\n      });\n      hint.appendChild(hintDot);\n      hint.appendChild(hintPulse);\n      hint.setAttribute(\"data-step\", i); // we swap the hint element with target element\n      // because _setHelperLayerPosition uses `element` property\n\n      item.targetElement = item.element;\n      item.element = hint; // align the hint position\n\n      alignHintPosition.call(_this4, item.hintPosition, hint, item.targetElement);\n      hintsWrapper.appendChild(hint);\n    }); // adding the hints wrapper\n\n    document.body.appendChild(hintsWrapper); // call the callback function (if any)\n\n    if (typeof this._hintsAddedCallback !== \"undefined\") {\n      this._hintsAddedCallback.call(this);\n    }\n  }\n  /**\n   * Aligns hint position\n   *\n   * @api private\n   * @method alignHintPosition\n   * @param {String} position\n   * @param {Object} hint\n   * @param {Object} element\n   */\n\n  function alignHintPosition(position, _ref, element) {\n    var style = _ref.style;\n    // get/calculate offset of target element\n    var offset = getOffset.call(this, element);\n    var iconWidth = 20;\n    var iconHeight = 20; // align the hint element\n\n    switch (position) {\n      default:\n      case \"top-left\":\n        style.left = \"\".concat(offset.left, \"px\");\n        style.top = \"\".concat(offset.top, \"px\");\n        break;\n\n      case \"top-right\":\n        style.left = \"\".concat(offset.left + offset.width - iconWidth, \"px\");\n        style.top = \"\".concat(offset.top, \"px\");\n        break;\n\n      case \"bottom-left\":\n        style.left = \"\".concat(offset.left, \"px\");\n        style.top = \"\".concat(offset.top + offset.height - iconHeight, \"px\");\n        break;\n\n      case \"bottom-right\":\n        style.left = \"\".concat(offset.left + offset.width - iconWidth, \"px\");\n        style.top = \"\".concat(offset.top + offset.height - iconHeight, \"px\");\n        break;\n\n      case \"middle-left\":\n        style.left = \"\".concat(offset.left, \"px\");\n        style.top = \"\".concat(offset.top + (offset.height - iconHeight) / 2, \"px\");\n        break;\n\n      case \"middle-right\":\n        style.left = \"\".concat(offset.left + offset.width - iconWidth, \"px\");\n        style.top = \"\".concat(offset.top + (offset.height - iconHeight) / 2, \"px\");\n        break;\n\n      case \"middle-middle\":\n        style.left = \"\".concat(offset.left + (offset.width - iconWidth) / 2, \"px\");\n        style.top = \"\".concat(offset.top + (offset.height - iconHeight) / 2, \"px\");\n        break;\n\n      case \"bottom-middle\":\n        style.left = \"\".concat(offset.left + (offset.width - iconWidth) / 2, \"px\");\n        style.top = \"\".concat(offset.top + offset.height - iconHeight, \"px\");\n        break;\n\n      case \"top-middle\":\n        style.left = \"\".concat(offset.left + (offset.width - iconWidth) / 2, \"px\");\n        style.top = \"\".concat(offset.top, \"px\");\n        break;\n    }\n  }\n  /**\n   * Triggers when user clicks on the hint element\n   *\n   * @api private\n   * @method _showHintDialog\n   * @param {Number} stepId\n   */\n\n  function showHintDialog(stepId) {\n    var hintElement = document.querySelector(\".introjs-hint[data-step=\\\"\".concat(stepId, \"\\\"]\"));\n    var item = this._introItems[stepId]; // call the callback function (if any)\n\n    if (typeof this._hintClickCallback !== \"undefined\") {\n      this._hintClickCallback.call(this, hintElement, item, stepId);\n    } // remove all open tooltips\n\n\n    var removedStep = removeHintTooltip.call(this); // to toggle the tooltip\n\n    if (parseInt(removedStep, 10) === stepId) {\n      return;\n    }\n\n    var tooltipLayer = _createElement(\"div\", {\n      className: \"introjs-tooltip\"\n    });\n    var tooltipTextLayer = _createElement(\"div\");\n    var arrowLayer = _createElement(\"div\");\n    var referenceLayer = _createElement(\"div\");\n\n    tooltipLayer.onclick = function (e) {\n      //IE9 & Other Browsers\n      if (e.stopPropagation) {\n        e.stopPropagation();\n      } //IE8 and Lower\n      else {\n          e.cancelBubble = true;\n        }\n    };\n\n    tooltipTextLayer.className = \"introjs-tooltiptext\";\n    var tooltipWrapper = _createElement(\"p\");\n    tooltipWrapper.innerHTML = item.hint;\n    var closeButton = _createElement(\"a\");\n    closeButton.className = this._options.buttonClass;\n    closeButton.setAttribute(\"role\", \"button\");\n    closeButton.innerHTML = this._options.hintButtonLabel;\n    closeButton.onclick = hideHint.bind(this, stepId);\n    tooltipTextLayer.appendChild(tooltipWrapper);\n    tooltipTextLayer.appendChild(closeButton);\n    arrowLayer.className = \"introjs-arrow\";\n    tooltipLayer.appendChild(arrowLayer);\n    tooltipLayer.appendChild(tooltipTextLayer); // set current step for _placeTooltip function\n\n    this._currentStep = hintElement.getAttribute(\"data-step\"); // align reference layer position\n\n    referenceLayer.className = \"introjs-tooltipReferenceLayer introjs-hintReference\";\n    referenceLayer.setAttribute(\"data-step\", hintElement.getAttribute(\"data-step\"));\n    setHelperLayerPosition.call(this, referenceLayer);\n    referenceLayer.appendChild(tooltipLayer);\n    document.body.appendChild(referenceLayer); //set proper position\n\n    placeTooltip.call(this, hintElement, tooltipLayer, arrowLayer, true);\n  }\n  /**\n   * Removes open hint (tooltip hint)\n   *\n   * @api private\n   * @method _removeHintTooltip\n   */\n\n  function removeHintTooltip() {\n    var tooltip = document.querySelector(\".introjs-hintReference\");\n\n    if (tooltip) {\n      var step = tooltip.getAttribute(\"data-step\");\n      tooltip.parentNode.removeChild(tooltip);\n      return step;\n    }\n  }\n  /**\n   * Start parsing hint items\n   *\n   * @api private\n   * @param {Object} targetElm\n   * @method _startHint\n   */\n\n  function populateHints(targetElm) {\n    var _this5 = this;\n\n    this._introItems = [];\n\n    if (this._options.hints) {\n      forEach(this._options.hints, function (hint) {\n        var currentItem = cloneObject(hint);\n\n        if (typeof currentItem.element === \"string\") {\n          //grab the element with given selector from the page\n          currentItem.element = document.querySelector(currentItem.element);\n        }\n\n        currentItem.hintPosition = currentItem.hintPosition || _this5._options.hintPosition;\n        currentItem.hintAnimation = currentItem.hintAnimation || _this5._options.hintAnimation;\n\n        if (currentItem.element !== null) {\n          _this5._introItems.push(currentItem);\n        }\n      });\n    } else {\n      var hints = targetElm.querySelectorAll(\"*[data-hint]\");\n\n      if (!hints || !hints.length) {\n        return false;\n      } //first add intro items with data-step\n\n\n      forEach(hints, function (currentElement) {\n        // hint animation\n        var hintAnimation = currentElement.getAttribute(\"data-hintanimation\");\n\n        if (hintAnimation) {\n          hintAnimation = hintAnimation === \"true\";\n        } else {\n          hintAnimation = _this5._options.hintAnimation;\n        }\n\n        _this5._introItems.push({\n          element: currentElement,\n          hint: currentElement.getAttribute(\"data-hint\"),\n          hintPosition: currentElement.getAttribute(\"data-hintposition\") || _this5._options.hintPosition,\n          hintAnimation: hintAnimation,\n          tooltipClass: currentElement.getAttribute(\"data-tooltipclass\"),\n          position: currentElement.getAttribute(\"data-position\") || _this5._options.tooltipPosition\n        });\n      });\n    }\n\n    addHints.call(this);\n    /*\n    todo:\n    these events should be removed at some point\n    */\n\n    DOMEvent.on(document, \"click\", removeHintTooltip, this, false);\n    DOMEvent.on(window, \"resize\", reAlignHints, this, true);\n  }\n  /**\n   * Re-aligns all hint elements\n   *\n   * @api private\n   * @method _reAlignHints\n   */\n\n  function reAlignHints() {\n    var _this6 = this;\n\n    forEach(this._introItems, function (_ref2) {\n      var targetElement = _ref2.targetElement,\n          hintPosition = _ref2.hintPosition,\n          element = _ref2.element;\n\n      if (typeof targetElement === \"undefined\") {\n        return;\n      }\n\n      alignHintPosition.call(_this6, hintPosition, element, targetElement);\n    });\n  }\n\n  /**\n   * Update placement of the intro objects on the screen\n   * @api private\n   */\n\n  function refresh() {\n    // re-align intros\n    setHelperLayerPosition.call(this, document.querySelector(\".introjs-helperLayer\"));\n    setHelperLayerPosition.call(this, document.querySelector(\".introjs-tooltipReferenceLayer\"));\n    setHelperLayerPosition.call(this, document.querySelector(\".introjs-disableInteraction\")); // re-align tooltip\n\n    if (this._currentStep !== undefined && this._currentStep !== null) {\n      var oldArrowLayer = document.querySelector(\".introjs-arrow\");\n      var oldtooltipContainer = document.querySelector(\".introjs-tooltip\");\n      placeTooltip.call(this, this._introItems[this._currentStep].element, oldtooltipContainer, oldArrowLayer);\n    } //re-align hints\n\n\n    reAlignHints.call(this);\n    return this;\n  }\n\n  function onResize() {\n    refresh.call(this);\n  }\n\n  /**\n   * Removes `element` from `parentElement`\n   *\n   * @param {Element} element\n   * @param {Boolean} [animate=false]\n   */\n\n  function removeChild(element, animate) {\n    if (!element || !element.parentElement) return;\n    var parentElement = element.parentElement;\n\n    if (animate) {\n      setStyle(element, {\n        opacity: \"0\"\n      });\n      window.setTimeout(function () {\n        parentElement.removeChild(element);\n      }, 500);\n    } else {\n      parentElement.removeChild(element);\n    }\n  }\n\n  /**\n   * Exit from intro\n   *\n   * @api private\n   * @method _exitIntro\n   * @param {Object} targetElement\n   * @param {Boolean} force - Setting to `true` will skip the result of beforeExit callback\n   */\n\n  function exitIntro(targetElement, force) {\n    var continueExit = true; // calling onbeforeexit callback\n    //\n    // If this callback return `false`, it would halt the process\n\n    if (this._introBeforeExitCallback !== undefined) {\n      continueExit = this._introBeforeExitCallback.call(this);\n    } // skip this check if `force` parameter is `true`\n    // otherwise, if `onbeforeexit` returned `false`, don't exit the intro\n\n\n    if (!force && continueExit === false) return; // remove overlay layers from the page\n\n    var overlayLayers = targetElement.querySelectorAll(\".introjs-overlay\");\n\n    if (overlayLayers && overlayLayers.length) {\n      forEach(overlayLayers, function (overlayLayer) {\n        return removeChild(overlayLayer);\n      });\n    } //remove all helper layers\n\n\n    var helperLayer = targetElement.querySelector(\".introjs-helperLayer\");\n    removeChild(helperLayer, true);\n    var referenceLayer = targetElement.querySelector(\".introjs-tooltipReferenceLayer\");\n    removeChild(referenceLayer); //remove disableInteractionLayer\n\n    var disableInteractionLayer = targetElement.querySelector(\".introjs-disableInteraction\");\n    removeChild(disableInteractionLayer); //remove intro floating element\n\n    var floatingElement = document.querySelector(\".introjsFloatingElement\");\n    removeChild(floatingElement);\n    removeShowElement(); //clean listeners\n\n    DOMEvent.off(window, \"keydown\", onKeyDown, this, true);\n    DOMEvent.off(window, \"resize\", onResize, this, true); //check if any callback is defined\n\n    if (this._introExitCallback !== undefined) {\n      this._introExitCallback.call(this);\n    } //set the step to zero\n\n\n    this._currentStep = undefined;\n  }\n\n  /**\n   * Add overlay layer to the page\n   *\n   * @api private\n   * @method _addOverlayLayer\n   * @param {Object} targetElm\n   */\n\n  function addOverlayLayer(targetElm) {\n    var overlayLayer = _createElement(\"div\", {\n      className: \"introjs-overlay\"\n    });\n    var self = this; // check if the target element is body, we should calculate the size of overlay layer in a better way\n\n    if (!targetElm.tagName || targetElm.tagName.toLowerCase() === \"body\") {\n      setStyle(overlayLayer, {\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0,\n        position: \"fixed\"\n      });\n    } else {\n      // set overlay layer position\n      var elementPosition = getOffset(targetElm);\n\n      if (elementPosition) {\n        setStyle(overlayLayer, {\n          width: \"\".concat(elementPosition.width, \"px\"),\n          height: \"\".concat(elementPosition.height, \"px\"),\n          top: \"\".concat(elementPosition.top, \"px\"),\n          left: \"\".concat(elementPosition.left, \"px\")\n        });\n      }\n    }\n\n    targetElm.appendChild(overlayLayer);\n\n    if (self._options.exitOnOverlayClick === true) {\n      setStyle(overlayLayer, {\n        cursor: \"pointer\"\n      });\n\n      overlayLayer.onclick = function () {\n        exitIntro.call(self, targetElm);\n      };\n    }\n\n    return true;\n  }\n\n  /**\n   * Initiate a new introduction/guide from an element in the page\n   *\n   * @api private\n   * @method _introForElement\n   * @param {Object} targetElm\n   * @param {String} group\n   * @returns {Boolean} Success or not?\n   */\n\n  function introForElement(targetElm, group) {\n    var _this = this;\n\n    var allIntroSteps = targetElm.querySelectorAll(\"*[data-intro]\");\n    var introItems = [];\n\n    if (this._options.steps) {\n      //use steps passed programmatically\n      forEach(this._options.steps, function (step) {\n        var currentItem = cloneObject(step); //set the step\n\n        currentItem.step = introItems.length + 1;\n        currentItem.title = currentItem.title || \"\"; //use querySelector function only when developer used CSS selector\n\n        if (typeof currentItem.element === \"string\") {\n          //grab the element with given selector from the page\n          currentItem.element = document.querySelector(currentItem.element);\n        } //intro without element\n\n\n        if (typeof currentItem.element === \"undefined\" || currentItem.element === null) {\n          var floatingElementQuery = document.querySelector(\".introjsFloatingElement\");\n\n          if (floatingElementQuery === null) {\n            floatingElementQuery = _createElement(\"div\", {\n              className: \"introjsFloatingElement\"\n            });\n            document.body.appendChild(floatingElementQuery);\n          }\n\n          currentItem.element = floatingElementQuery;\n          currentItem.position = \"floating\";\n        }\n\n        currentItem.scrollTo = currentItem.scrollTo || _this._options.scrollTo;\n\n        if (typeof currentItem.disableInteraction === \"undefined\") {\n          currentItem.disableInteraction = _this._options.disableInteraction;\n        }\n\n        if (currentItem.element !== null) {\n          introItems.push(currentItem);\n        }\n      });\n    } else {\n      //use steps from data-* annotations\n      var elmsLength = allIntroSteps.length;\n      var disableInteraction; //if there's no element to intro\n\n      if (elmsLength < 1) {\n        return false;\n      }\n\n      forEach(allIntroSteps, function (currentElement) {\n        // PR #80\n        // start intro for groups of elements\n        if (group && currentElement.getAttribute(\"data-intro-group\") !== group) {\n          return;\n        } // skip hidden elements\n\n\n        if (currentElement.style.display === \"none\") {\n          return;\n        }\n\n        var step = parseInt(currentElement.getAttribute(\"data-step\"), 10);\n\n        if (currentElement.hasAttribute(\"data-disable-interaction\")) {\n          disableInteraction = !!currentElement.getAttribute(\"data-disable-interaction\");\n        } else {\n          disableInteraction = _this._options.disableInteraction;\n        }\n\n        if (step > 0) {\n          introItems[step - 1] = {\n            element: currentElement,\n            title: currentElement.getAttribute(\"data-title\") || \"\",\n            intro: currentElement.getAttribute(\"data-intro\"),\n            step: parseInt(currentElement.getAttribute(\"data-step\"), 10),\n            tooltipClass: currentElement.getAttribute(\"data-tooltipclass\"),\n            highlightClass: currentElement.getAttribute(\"data-highlightclass\"),\n            position: currentElement.getAttribute(\"data-position\") || _this._options.tooltipPosition,\n            scrollTo: currentElement.getAttribute(\"data-scrollto\") || _this._options.scrollTo,\n            disableInteraction: disableInteraction\n          };\n        }\n      }); //next add intro items without data-step\n      //todo: we need a cleanup here, two loops are redundant\n\n      var _nextStep = 0;\n      forEach(allIntroSteps, function (currentElement) {\n        // PR #80\n        // start intro for groups of elements\n        if (group && currentElement.getAttribute(\"data-intro-group\") !== group) {\n          return;\n        }\n\n        if (currentElement.getAttribute(\"data-step\") === null) {\n          while (true) {\n            if (typeof introItems[_nextStep] === \"undefined\") {\n              break;\n            } else {\n              _nextStep++;\n            }\n          }\n\n          if (currentElement.hasAttribute(\"data-disable-interaction\")) {\n            disableInteraction = !!currentElement.getAttribute(\"data-disable-interaction\");\n          } else {\n            disableInteraction = _this._options.disableInteraction;\n          }\n\n          introItems[_nextStep] = {\n            element: currentElement,\n            title: currentElement.getAttribute(\"data-title\") || \"\",\n            intro: currentElement.getAttribute(\"data-intro\"),\n            step: _nextStep + 1,\n            tooltipClass: currentElement.getAttribute(\"data-tooltipclass\"),\n            highlightClass: currentElement.getAttribute(\"data-highlightclass\"),\n            position: currentElement.getAttribute(\"data-position\") || _this._options.tooltipPosition,\n            scrollTo: currentElement.getAttribute(\"data-scrollto\") || _this._options.scrollTo,\n            disableInteraction: disableInteraction\n          };\n        }\n      });\n    } //removing undefined/null elements\n\n\n    var tempIntroItems = [];\n\n    for (var z = 0; z < introItems.length; z++) {\n      if (introItems[z]) {\n        // copy non-falsy values to the end of the array\n        tempIntroItems.push(introItems[z]);\n      }\n    }\n\n    introItems = tempIntroItems; //Ok, sort all items with given steps\n\n    introItems.sort(function (a, b) {\n      return a.step - b.step;\n    }); //set it to the introJs object\n\n    this._introItems = introItems; //add overlay layer to the page\n\n    if (addOverlayLayer.call(this, targetElm)) {\n      //then, start the show\n      nextStep.call(this);\n\n      if (this._options.keyboardNavigation) {\n        DOMEvent.on(window, \"keydown\", onKeyDown, this, true);\n      } //for window resize\n\n\n      DOMEvent.on(window, \"resize\", onResize, this, true);\n    }\n\n    return false;\n  }\n\n  var version$1 = \"3.3.1\";\n\n  /**\n   * IntroJs main class\n   *\n   * @class IntroJs\n   */\n\n  function IntroJs(obj) {\n    this._targetElement = obj;\n    this._introItems = [];\n    this._options = {\n      /* Next button label in tooltip box */\n      nextLabel: \"Next\",\n\n      /* Previous button label in tooltip box */\n      prevLabel: \"Back\",\n\n      /* Skip button label in tooltip box */\n      skipLabel: \"Ã\",\n\n      /* Done button label in tooltip box */\n      doneLabel: \"Done\",\n\n      /* Hide previous button in the first step? Otherwise, it will be disabled button. */\n      hidePrev: false,\n\n      /* Hide next button in the last step? Otherwise, it will be disabled button (note: this will also hide the \"Done\" button) */\n      hideNext: false,\n\n      /* Change the Next button to Done in the last step of the intro? otherwise, it will render a disabled button */\n      nextToDone: true,\n\n      /* Default tooltip box position */\n      tooltipPosition: \"bottom\",\n\n      /* Next CSS class for tooltip boxes */\n      tooltipClass: \"\",\n\n      /* CSS class that is added to the helperLayer */\n      highlightClass: \"\",\n\n      /* Close introduction when pressing Escape button? */\n      exitOnEsc: true,\n\n      /* Close introduction when clicking on overlay layer? */\n      exitOnOverlayClick: true,\n\n      /* Show step numbers in introduction? */\n      showStepNumbers: false,\n\n      /* Let user use keyboard to navigate the tour? */\n      keyboardNavigation: true,\n\n      /* Show tour control buttons? */\n      showButtons: true,\n\n      /* Show tour bullets? */\n      showBullets: true,\n\n      /* Show tour progress? */\n      showProgress: false,\n\n      /* Scroll to highlighted element? */\n      scrollToElement: true,\n\n      /*\n       * Should we scroll the tooltip or target element?\n       *\n       * Options are: 'element' or 'tooltip'\n       */\n      scrollTo: \"element\",\n\n      /* Padding to add after scrolling when element is not in the viewport (in pixels) */\n      scrollPadding: 30,\n\n      /* Set the overlay opacity */\n      overlayOpacity: 0.5,\n\n      /* To determine the tooltip position automatically based on the window.width/height */\n      autoPosition: true,\n\n      /* Precedence of positions, when auto is enabled */\n      positionPrecedence: [\"bottom\", \"top\", \"right\", \"left\"],\n\n      /* Disable an interaction with element? */\n      disableInteraction: false,\n\n      /* Set how much padding to be used around helper element */\n      helperElementPadding: 10,\n\n      /* Default hint position */\n      hintPosition: \"top-middle\",\n\n      /* Hint button label */\n      hintButtonLabel: \"Got it\",\n\n      /* Adding animation to hints? */\n      hintAnimation: true,\n\n      /* additional classes to put on the buttons */\n      buttonClass: \"introjs-button\",\n\n      /* additional classes to put on progress bar */\n      progressBarAdditionalClass: false\n    };\n  }\n\n  var introJs = function introJs(targetElm) {\n    var instance;\n\n    if (_typeof(targetElm) === \"object\") {\n      //Ok, create a new instance\n      instance = new IntroJs(targetElm);\n    } else if (typeof targetElm === \"string\") {\n      //select the target element with query selector\n      var targetElement = document.querySelector(targetElm);\n\n      if (targetElement) {\n        instance = new IntroJs(targetElement);\n      } else {\n        throw new Error(\"There is no element with given selector.\");\n      }\n    } else {\n      instance = new IntroJs(document.body);\n    } // add instance to list of _instances\n    // passing group to stamp to increment\n    // from 0 onward somewhat reliably\n\n\n    introJs.instances[stamp(instance, \"introjs-instance\")] = instance;\n    return instance;\n  };\n  /**\n   * Current IntroJs version\n   *\n   * @property version\n   * @type String\n   */\n\n\n  introJs.version = version$1;\n  /**\n   * key-val object helper for introJs instances\n   *\n   * @property instances\n   * @type Object\n   */\n\n  introJs.instances = {}; //Prototype\n\n  introJs.fn = IntroJs.prototype = {\n    clone: function clone() {\n      return new IntroJs(this);\n    },\n    setOption: function setOption(option, value) {\n      this._options[option] = value;\n      return this;\n    },\n    setOptions: function setOptions(options) {\n      this._options = mergeOptions(this._options, options);\n      return this;\n    },\n    start: function start(group) {\n      introForElement.call(this, this._targetElement, group);\n      return this;\n    },\n    goToStep: function goToStep$1(step) {\n      goToStep.call(this, step);\n\n      return this;\n    },\n    addStep: function addStep(options) {\n      if (!this._options.steps) {\n        this._options.steps = [];\n      }\n\n      this._options.steps.push(options);\n\n      return this;\n    },\n    addSteps: function addSteps(steps) {\n      if (!steps.length) return;\n\n      for (var index = 0; index < steps.length; index++) {\n        this.addStep(steps[index]);\n      }\n\n      return this;\n    },\n    goToStepNumber: function goToStepNumber$1(step) {\n      goToStepNumber.call(this, step);\n\n      return this;\n    },\n    nextStep: function nextStep$1() {\n      nextStep.call(this);\n\n      return this;\n    },\n    previousStep: function previousStep$1() {\n      previousStep.call(this);\n\n      return this;\n    },\n    currentStep: function currentStep$1() {\n      return currentStep.call(this);\n    },\n    exit: function exit(force) {\n      exitIntro.call(this, this._targetElement, force);\n      return this;\n    },\n    refresh: function refresh$1() {\n      refresh.call(this);\n\n      return this;\n    },\n    onbeforechange: function onbeforechange(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._introBeforeChangeCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onbeforechange was not a function\");\n      }\n\n      return this;\n    },\n    onchange: function onchange(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._introChangeCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onchange was not a function.\");\n      }\n\n      return this;\n    },\n    onafterchange: function onafterchange(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._introAfterChangeCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onafterchange was not a function\");\n      }\n\n      return this;\n    },\n    oncomplete: function oncomplete(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._introCompleteCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for oncomplete was not a function.\");\n      }\n\n      return this;\n    },\n    onhintsadded: function onhintsadded(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._hintsAddedCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onhintsadded was not a function.\");\n      }\n\n      return this;\n    },\n    onhintclick: function onhintclick(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._hintClickCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onhintclick was not a function.\");\n      }\n\n      return this;\n    },\n    onhintclose: function onhintclose(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._hintCloseCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onhintclose was not a function.\");\n      }\n\n      return this;\n    },\n    onexit: function onexit(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._introExitCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onexit was not a function.\");\n      }\n\n      return this;\n    },\n    onskip: function onskip(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._introSkipCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onskip was not a function.\");\n      }\n\n      return this;\n    },\n    onbeforeexit: function onbeforeexit(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._introBeforeExitCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onbeforeexit was not a function.\");\n      }\n\n      return this;\n    },\n    addHints: function addHints() {\n      populateHints.call(this, this._targetElement);\n      return this;\n    },\n    hideHint: function hideHint$1(stepId) {\n      hideHint.call(this, stepId);\n\n      return this;\n    },\n    hideHints: function hideHints$1() {\n      hideHints.call(this);\n\n      return this;\n    },\n    showHint: function showHint$1(stepId) {\n      showHint.call(this, stepId);\n\n      return this;\n    },\n    showHints: function showHints$1() {\n      showHints.call(this);\n\n      return this;\n    },\n    removeHints: function removeHints$1() {\n      removeHints.call(this);\n\n      return this;\n    },\n    removeHint: function removeHint$1(stepId) {\n      removeHint().call(this, stepId);\n\n      return this;\n    },\n    showHintDialog: function showHintDialog$1(stepId) {\n      showHintDialog.call(this, stepId);\n\n      return this;\n    }\n  };\n\n  return introJs;\n\n})));\n"]},"metadata":{},"sourceType":"script"}