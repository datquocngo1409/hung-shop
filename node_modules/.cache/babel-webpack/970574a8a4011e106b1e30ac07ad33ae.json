{"ast":null,"code":"import _classCallCheck from \"/home/datquocngo/Project/UET/gts-fe/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/datquocngo/Project/UET/gts-fe/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar proxy = function proxy(a, b) {\n  return function (e) {\n    return b(a(e));\n  };\n};\n\nvar bind = function bind(el, event, callback) {\n  return el.addEventListener && el.addEventListener(event, callback);\n};\n\nvar unbind = function unbind(el, event, callback) {\n  return el && el.removeEventListener && el.removeEventListener(event, callback);\n};\n\nvar noop = function noop() {\n  /* empty */\n};\n\nvar preventDefault = function preventDefault(e) {\n  return e.preventDefault();\n};\n\nvar touchRegExp = /touch/; // 300ms is the usual mouse interval;\n// // However, an underpowered mobile device under a heavy load may queue mouse events for a longer period.\n\nvar IGNORE_MOUSE_TIMEOUT = 2000;\n\nfunction normalizeEvent(e) {\n  if (e.type.match(touchRegExp)) {\n    return {\n      pageX: e.changedTouches[0].pageX,\n      pageY: e.changedTouches[0].pageY,\n      clientX: e.changedTouches[0].clientX,\n      clientY: e.changedTouches[0].clientY,\n      type: e.type,\n      originalEvent: e,\n      isTouch: true\n    };\n  }\n\n  return {\n    pageX: e.pageX,\n    pageY: e.pageY,\n    clientX: e.clientX,\n    clientY: e.clientY,\n    offsetX: e.offsetX,\n    offsetY: e.offsetY,\n    type: e.type,\n    ctrlKey: e.ctrlKey,\n    shiftKey: e.shiftKey,\n    altKey: e.altKey,\n    originalEvent: e\n  };\n}\n\nexport var Draggable = /*#__PURE__*/function () {\n  _createClass(Draggable, null, [{\n    key: \"supportPointerEvent\",\n    value: function supportPointerEvent() {\n      return typeof window !== 'undefined' && window.PointerEvent;\n    }\n  }]);\n\n  function Draggable(_ref) {\n    var _this = this;\n\n    var _ref$press = _ref.press,\n        press = _ref$press === void 0 ? noop : _ref$press,\n        _ref$drag = _ref.drag,\n        drag = _ref$drag === void 0 ? noop : _ref$drag,\n        _ref$release = _ref.release,\n        release = _ref$release === void 0 ? noop : _ref$release,\n        _ref$mouseOnly = _ref.mouseOnly,\n        mouseOnly = _ref$mouseOnly === void 0 ? false : _ref$mouseOnly;\n\n    _classCallCheck(this, Draggable);\n\n    this._pressHandler = proxy(normalizeEvent, press);\n    this._dragHandler = proxy(normalizeEvent, drag);\n    this._releaseHandler = proxy(normalizeEvent, release);\n    this._ignoreMouse = false;\n    this._mouseOnly = mouseOnly;\n\n    this._touchstart = function (e) {\n      if (e.touches.length === 1) {\n        _this._pressHandler(e);\n      }\n    };\n\n    this._touchmove = function (e) {\n      if (e.touches.length === 1) {\n        _this._dragHandler(e);\n      }\n    };\n\n    this._touchend = function (e) {\n      // the last finger has been lifted, and the user is not doing gesture.\n      // there might be a better way to handle this.\n      if (e.touches.length === 0 && e.changedTouches.length === 1) {\n        _this._releaseHandler(e);\n\n        _this._ignoreMouse = true;\n        setTimeout(_this._restoreMouse, IGNORE_MOUSE_TIMEOUT);\n      }\n    };\n\n    this._restoreMouse = function () {\n      _this._ignoreMouse = false;\n    };\n\n    this._mousedown = function (e) {\n      var which = e.which;\n\n      if (which && which > 1 || _this._ignoreMouse) {\n        return;\n      }\n\n      bind(document, \"mousemove\", _this._mousemove);\n      bind(document, \"mouseup\", _this._mouseup);\n\n      _this._pressHandler(e);\n    };\n\n    this._mousemove = function (e) {\n      _this._dragHandler(e);\n    };\n\n    this._mouseup = function (e) {\n      unbind(document, \"mousemove\", _this._mousemove);\n      unbind(document, \"mouseup\", _this._mouseup);\n\n      _this._releaseHandler(e);\n    };\n\n    this._pointerdown = function (e) {\n      if (e.isPrimary && e.button === 0) {\n        bind(document, \"pointermove\", _this._pointermove);\n        bind(document, \"pointerup\", _this._pointerup);\n        bind(document, \"pointercancel\", _this._pointerup);\n        bind(document, \"contextmenu\", preventDefault);\n\n        _this._pressHandler(e);\n      }\n    };\n\n    this._pointermove = function (e) {\n      if (e.isPrimary) {\n        _this._dragHandler(e);\n      }\n    };\n\n    this._pointerup = function (e) {\n      if (e.isPrimary) {\n        unbind(document, \"pointermove\", _this._pointermove);\n        unbind(document, \"pointerup\", _this._pointerup);\n        unbind(document, \"pointercancel\", _this._pointerup);\n        unbind(document, \"contextmenu\", preventDefault);\n\n        _this._releaseHandler(e);\n      }\n    };\n  }\n\n  _createClass(Draggable, [{\n    key: \"bindTo\",\n    value: function bindTo(element) {\n      if (element === this._element) {\n        return;\n      }\n\n      if (this._element) {\n        this._unbindFromCurrent();\n      }\n\n      this._element = element;\n\n      this._bindToCurrent();\n    }\n  }, {\n    key: \"_bindToCurrent\",\n    value: function _bindToCurrent() {\n      var element = this._element;\n\n      if (this._usePointers()) {\n        bind(element, \"pointerdown\", this._pointerdown);\n        return;\n      }\n\n      bind(element, \"mousedown\", this._mousedown);\n\n      if (!this._mouseOnly) {\n        bind(element, \"touchstart\", this._touchstart);\n        bind(element, \"touchmove\", this._touchmove);\n        bind(element, \"touchend\", this._touchend);\n      }\n    }\n  }, {\n    key: \"_unbindFromCurrent\",\n    value: function _unbindFromCurrent() {\n      var element = this._element;\n\n      if (this._usePointers()) {\n        unbind(element, \"pointerdown\", this._pointerdown);\n        unbind(document, \"pointermove\", this._pointermove);\n        unbind(document, \"pointerup\", this._pointerup);\n        unbind(document, \"contextmenu\", preventDefault);\n        unbind(document, \"pointercancel\", this._pointerup);\n        return;\n      }\n\n      unbind(element, \"mousedown\", this._mousedown);\n\n      if (!this._mouseOnly) {\n        unbind(element, \"touchstart\", this._touchstart);\n        unbind(element, \"touchmove\", this._touchmove);\n        unbind(element, \"touchend\", this._touchend);\n      }\n    }\n  }, {\n    key: \"_usePointers\",\n    value: function _usePointers() {\n      return !this._mouseOnly && Draggable.supportPointerEvent();\n    }\n  }, {\n    key: \"update\",\n    value: function update(_ref2) {\n      var _ref2$press = _ref2.press,\n          press = _ref2$press === void 0 ? noop : _ref2$press,\n          _ref2$drag = _ref2.drag,\n          drag = _ref2$drag === void 0 ? noop : _ref2$drag,\n          _ref2$release = _ref2.release,\n          release = _ref2$release === void 0 ? noop : _ref2$release,\n          _ref2$mouseOnly = _ref2.mouseOnly,\n          mouseOnly = _ref2$mouseOnly === void 0 ? false : _ref2$mouseOnly;\n      this._pressHandler = proxy(normalizeEvent, press);\n      this._dragHandler = proxy(normalizeEvent, drag);\n      this._releaseHandler = proxy(normalizeEvent, release);\n      this._mouseOnly = mouseOnly;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._unbindFromCurrent();\n\n      this._element = null;\n    }\n  }]);\n\n  return Draggable;\n}(); // Re-export as \"default\" field to address a bug\n// where the ES Module is imported by CommonJS code.\n//\n// See https://github.com/telerik/kendo-angular/issues/1314\n\nDraggable.default = Draggable; // Rollup won't output exports['default'] otherwise\n\nexport default Draggable;","map":{"version":3,"sources":["/home/datquocngo/Project/UET/gts-fe/node_modules/@telerik/kendo-draggable/dist/es2015/main.js"],"names":["proxy","a","b","e","bind","el","event","callback","addEventListener","unbind","removeEventListener","noop","preventDefault","touchRegExp","IGNORE_MOUSE_TIMEOUT","normalizeEvent","type","match","pageX","changedTouches","pageY","clientX","clientY","originalEvent","isTouch","offsetX","offsetY","ctrlKey","shiftKey","altKey","Draggable","window","PointerEvent","press","drag","release","mouseOnly","_pressHandler","_dragHandler","_releaseHandler","_ignoreMouse","_mouseOnly","_touchstart","touches","length","_touchmove","_touchend","setTimeout","_restoreMouse","_mousedown","which","document","_mousemove","_mouseup","_pointerdown","isPrimary","button","_pointermove","_pointerup","element","_element","_unbindFromCurrent","_bindToCurrent","_usePointers","supportPointerEvent","default"],"mappings":";;;AAAA,IAAMA,KAAK,GAAG,SAARA,KAAQ,CAACC,CAAD,EAAIC,CAAJ;AAAA,SAAU,UAACC,CAAD;AAAA,WAAOD,CAAC,CAACD,CAAC,CAACE,CAAD,CAAF,CAAR;AAAA,GAAV;AAAA,CAAd;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAACC,EAAD,EAAKC,KAAL,EAAYC,QAAZ;AAAA,SACTF,EAAE,CAACG,gBAAH,IAAuBH,EAAE,CAACG,gBAAH,CAAoBF,KAApB,EAA2BC,QAA3B,CADd;AAAA,CAAb;;AAGA,IAAME,MAAM,GAAG,SAATA,MAAS,CAACJ,EAAD,EAAKC,KAAL,EAAYC,QAAZ;AAAA,SACXF,EAAE,IAAIA,EAAE,CAACK,mBAAT,IAAgCL,EAAE,CAACK,mBAAH,CAAuBJ,KAAvB,EAA8BC,QAA9B,CADrB;AAAA,CAAf;;AAGA,IAAMI,IAAI,GAAG,SAAPA,IAAO,GAAM;AAAE;AAAa,CAAlC;;AAEA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAAAT,CAAC;AAAA,SAAIA,CAAC,CAACS,cAAF,EAAJ;AAAA,CAAxB;;AAEA,IAAMC,WAAW,GAAG,OAApB,C,CAEA;AACA;;AACA,IAAMC,oBAAoB,GAAG,IAA7B;;AAEA,SAASC,cAAT,CAAwBZ,CAAxB,EAA2B;AACvB,MAAIA,CAAC,CAACa,IAAF,CAAOC,KAAP,CAAaJ,WAAb,CAAJ,EAA+B;AAC3B,WAAO;AACHK,MAAAA,KAAK,EAAEf,CAAC,CAACgB,cAAF,CAAiB,CAAjB,EAAoBD,KADxB;AAEHE,MAAAA,KAAK,EAAEjB,CAAC,CAACgB,cAAF,CAAiB,CAAjB,EAAoBC,KAFxB;AAGHC,MAAAA,OAAO,EAAElB,CAAC,CAACgB,cAAF,CAAiB,CAAjB,EAAoBE,OAH1B;AAIHC,MAAAA,OAAO,EAAEnB,CAAC,CAACgB,cAAF,CAAiB,CAAjB,EAAoBG,OAJ1B;AAKHN,MAAAA,IAAI,EAAEb,CAAC,CAACa,IALL;AAMHO,MAAAA,aAAa,EAAEpB,CANZ;AAOHqB,MAAAA,OAAO,EAAE;AAPN,KAAP;AASH;;AAED,SAAO;AACHN,IAAAA,KAAK,EAAEf,CAAC,CAACe,KADN;AAEHE,IAAAA,KAAK,EAAEjB,CAAC,CAACiB,KAFN;AAGHC,IAAAA,OAAO,EAAElB,CAAC,CAACkB,OAHR;AAIHC,IAAAA,OAAO,EAAEnB,CAAC,CAACmB,OAJR;AAKHG,IAAAA,OAAO,EAAEtB,CAAC,CAACsB,OALR;AAMHC,IAAAA,OAAO,EAAEvB,CAAC,CAACuB,OANR;AAOHV,IAAAA,IAAI,EAAEb,CAAC,CAACa,IAPL;AAQHW,IAAAA,OAAO,EAAExB,CAAC,CAACwB,OARR;AASHC,IAAAA,QAAQ,EAAEzB,CAAC,CAACyB,QATT;AAUHC,IAAAA,MAAM,EAAE1B,CAAC,CAAC0B,MAVP;AAWHN,IAAAA,aAAa,EAAEpB;AAXZ,GAAP;AAaH;;AAED,WAAa2B,SAAb;AAAA;AAAA;AAAA,0CACiC;AACzB,aAAQ,OAAOC,MAAP,KAAkB,WAAnB,IAAmCA,MAAM,CAACC,YAAjD;AACH;AAHL;;AAKI,2BAA8E;AAAA;;AAAA,0BAAhEC,KAAgE;AAAA,QAAhEA,KAAgE,2BAAxDtB,IAAwD;AAAA,yBAAlDuB,IAAkD;AAAA,QAAlDA,IAAkD,0BAA3CvB,IAA2C;AAAA,4BAArCwB,OAAqC;AAAA,QAArCA,OAAqC,6BAA3BxB,IAA2B;AAAA,8BAArByB,SAAqB;AAAA,QAArBA,SAAqB,+BAAT,KAAS;;AAAA;;AAC1E,SAAKC,aAAL,GAAqBrC,KAAK,CAACe,cAAD,EAAiBkB,KAAjB,CAA1B;AACA,SAAKK,YAAL,GAAoBtC,KAAK,CAACe,cAAD,EAAiBmB,IAAjB,CAAzB;AACA,SAAKK,eAAL,GAAuBvC,KAAK,CAACe,cAAD,EAAiBoB,OAAjB,CAA5B;AACA,SAAKK,YAAL,GAAoB,KAApB;AACA,SAAKC,UAAL,GAAkBL,SAAlB;;AAEA,SAAKM,WAAL,GAAmB,UAACvC,CAAD,EAAO;AACtB,UAAIA,CAAC,CAACwC,OAAF,CAAUC,MAAV,KAAqB,CAAzB,EAA4B;AACxB,QAAA,KAAI,CAACP,aAAL,CAAmBlC,CAAnB;AACH;AACJ,KAJD;;AAMA,SAAK0C,UAAL,GAAkB,UAAC1C,CAAD,EAAO;AACrB,UAAIA,CAAC,CAACwC,OAAF,CAAUC,MAAV,KAAqB,CAAzB,EAA4B;AACxB,QAAA,KAAI,CAACN,YAAL,CAAkBnC,CAAlB;AACH;AACJ,KAJD;;AAMA,SAAK2C,SAAL,GAAiB,UAAC3C,CAAD,EAAO;AACpB;AACA;AACA,UAAIA,CAAC,CAACwC,OAAF,CAAUC,MAAV,KAAqB,CAArB,IAA0BzC,CAAC,CAACgB,cAAF,CAAiByB,MAAjB,KAA4B,CAA1D,EAA6D;AACzD,QAAA,KAAI,CAACL,eAAL,CAAqBpC,CAArB;;AACA,QAAA,KAAI,CAACqC,YAAL,GAAoB,IAApB;AACAO,QAAAA,UAAU,CAAC,KAAI,CAACC,aAAN,EAAqBlC,oBAArB,CAAV;AACH;AACJ,KARD;;AAUA,SAAKkC,aAAL,GAAqB,YAAM;AACvB,MAAA,KAAI,CAACR,YAAL,GAAoB,KAApB;AACH,KAFD;;AAIA,SAAKS,UAAL,GAAkB,UAAC9C,CAAD,EAAO;AAAA,UACb+C,KADa,GACH/C,CADG,CACb+C,KADa;;AAGrB,UAAKA,KAAK,IAAIA,KAAK,GAAG,CAAlB,IAAwB,KAAI,CAACV,YAAjC,EAA+C;AAC3C;AACH;;AAEDpC,MAAAA,IAAI,CAAC+C,QAAD,EAAW,WAAX,EAAwB,KAAI,CAACC,UAA7B,CAAJ;AACAhD,MAAAA,IAAI,CAAC+C,QAAD,EAAW,SAAX,EAAsB,KAAI,CAACE,QAA3B,CAAJ;;AACA,MAAA,KAAI,CAAChB,aAAL,CAAmBlC,CAAnB;AACH,KAVD;;AAYA,SAAKiD,UAAL,GAAkB,UAACjD,CAAD,EAAO;AACrB,MAAA,KAAI,CAACmC,YAAL,CAAkBnC,CAAlB;AACH,KAFD;;AAIA,SAAKkD,QAAL,GAAgB,UAAClD,CAAD,EAAO;AACnBM,MAAAA,MAAM,CAAC0C,QAAD,EAAW,WAAX,EAAwB,KAAI,CAACC,UAA7B,CAAN;AACA3C,MAAAA,MAAM,CAAC0C,QAAD,EAAW,SAAX,EAAsB,KAAI,CAACE,QAA3B,CAAN;;AACA,MAAA,KAAI,CAACd,eAAL,CAAqBpC,CAArB;AACH,KAJD;;AAMA,SAAKmD,YAAL,GAAoB,UAACnD,CAAD,EAAO;AACvB,UAAIA,CAAC,CAACoD,SAAF,IAAepD,CAAC,CAACqD,MAAF,KAAa,CAAhC,EAAmC;AAC/BpD,QAAAA,IAAI,CAAC+C,QAAD,EAAW,aAAX,EAA0B,KAAI,CAACM,YAA/B,CAAJ;AACArD,QAAAA,IAAI,CAAC+C,QAAD,EAAW,WAAX,EAAwB,KAAI,CAACO,UAA7B,CAAJ;AACAtD,QAAAA,IAAI,CAAC+C,QAAD,EAAW,eAAX,EAA4B,KAAI,CAACO,UAAjC,CAAJ;AACAtD,QAAAA,IAAI,CAAC+C,QAAD,EAAW,aAAX,EAA0BvC,cAA1B,CAAJ;;AAEA,QAAA,KAAI,CAACyB,aAAL,CAAmBlC,CAAnB;AACH;AACJ,KATD;;AAWA,SAAKsD,YAAL,GAAoB,UAACtD,CAAD,EAAO;AACvB,UAAIA,CAAC,CAACoD,SAAN,EAAiB;AACb,QAAA,KAAI,CAACjB,YAAL,CAAkBnC,CAAlB;AACH;AACJ,KAJD;;AAMA,SAAKuD,UAAL,GAAkB,UAACvD,CAAD,EAAO;AACrB,UAAIA,CAAC,CAACoD,SAAN,EAAiB;AACb9C,QAAAA,MAAM,CAAC0C,QAAD,EAAW,aAAX,EAA0B,KAAI,CAACM,YAA/B,CAAN;AACAhD,QAAAA,MAAM,CAAC0C,QAAD,EAAW,WAAX,EAAwB,KAAI,CAACO,UAA7B,CAAN;AACAjD,QAAAA,MAAM,CAAC0C,QAAD,EAAW,eAAX,EAA4B,KAAI,CAACO,UAAjC,CAAN;AACAjD,QAAAA,MAAM,CAAC0C,QAAD,EAAW,aAAX,EAA0BvC,cAA1B,CAAN;;AAEA,QAAA,KAAI,CAAC2B,eAAL,CAAqBpC,CAArB;AACH;AACJ,KATD;AAUH;;AAvFL;AAAA;AAAA,2BAyFWwD,OAzFX,EAyFoB;AACZ,UAAIA,OAAO,KAAK,KAAKC,QAArB,EAA+B;AAC3B;AACH;;AAED,UAAI,KAAKA,QAAT,EAAmB;AACf,aAAKC,kBAAL;AACH;;AAED,WAAKD,QAAL,GAAgBD,OAAhB;;AACA,WAAKG,cAAL;AACH;AApGL;AAAA;AAAA,qCAsGqB;AACb,UAAMH,OAAO,GAAG,KAAKC,QAArB;;AAEA,UAAI,KAAKG,YAAL,EAAJ,EAAyB;AACrB3D,QAAAA,IAAI,CAACuD,OAAD,EAAU,aAAV,EAAyB,KAAKL,YAA9B,CAAJ;AACA;AACH;;AAEDlD,MAAAA,IAAI,CAACuD,OAAD,EAAU,WAAV,EAAuB,KAAKV,UAA5B,CAAJ;;AAEA,UAAI,CAAC,KAAKR,UAAV,EAAsB;AAClBrC,QAAAA,IAAI,CAACuD,OAAD,EAAU,YAAV,EAAwB,KAAKjB,WAA7B,CAAJ;AACAtC,QAAAA,IAAI,CAACuD,OAAD,EAAU,WAAV,EAAuB,KAAKd,UAA5B,CAAJ;AACAzC,QAAAA,IAAI,CAACuD,OAAD,EAAU,UAAV,EAAsB,KAAKb,SAA3B,CAAJ;AACH;AACJ;AArHL;AAAA;AAAA,yCAuHyB;AACjB,UAAMa,OAAO,GAAG,KAAKC,QAArB;;AAEA,UAAI,KAAKG,YAAL,EAAJ,EAAyB;AACrBtD,QAAAA,MAAM,CAACkD,OAAD,EAAU,aAAV,EAAyB,KAAKL,YAA9B,CAAN;AACA7C,QAAAA,MAAM,CAAC0C,QAAD,EAAW,aAAX,EAA0B,KAAKM,YAA/B,CAAN;AACAhD,QAAAA,MAAM,CAAC0C,QAAD,EAAW,WAAX,EAAwB,KAAKO,UAA7B,CAAN;AACAjD,QAAAA,MAAM,CAAC0C,QAAD,EAAW,aAAX,EAA0BvC,cAA1B,CAAN;AACAH,QAAAA,MAAM,CAAC0C,QAAD,EAAW,eAAX,EAA4B,KAAKO,UAAjC,CAAN;AACA;AACH;;AAEDjD,MAAAA,MAAM,CAACkD,OAAD,EAAU,WAAV,EAAuB,KAAKV,UAA5B,CAAN;;AAEA,UAAI,CAAC,KAAKR,UAAV,EAAsB;AAClBhC,QAAAA,MAAM,CAACkD,OAAD,EAAU,YAAV,EAAwB,KAAKjB,WAA7B,CAAN;AACAjC,QAAAA,MAAM,CAACkD,OAAD,EAAU,WAAV,EAAuB,KAAKd,UAA5B,CAAN;AACApC,QAAAA,MAAM,CAACkD,OAAD,EAAU,UAAV,EAAsB,KAAKb,SAA3B,CAAN;AACH;AACJ;AA1IL;AAAA;AAAA,mCA4ImB;AACX,aAAO,CAAC,KAAKL,UAAN,IAAoBX,SAAS,CAACkC,mBAAV,EAA3B;AACH;AA9IL;AAAA;AAAA,kCAgJ6E;AAAA,8BAAhE/B,KAAgE;AAAA,UAAhEA,KAAgE,4BAAxDtB,IAAwD;AAAA,6BAAlDuB,IAAkD;AAAA,UAAlDA,IAAkD,2BAA3CvB,IAA2C;AAAA,gCAArCwB,OAAqC;AAAA,UAArCA,OAAqC,8BAA3BxB,IAA2B;AAAA,kCAArByB,SAAqB;AAAA,UAArBA,SAAqB,gCAAT,KAAS;AACrE,WAAKC,aAAL,GAAqBrC,KAAK,CAACe,cAAD,EAAiBkB,KAAjB,CAA1B;AACA,WAAKK,YAAL,GAAoBtC,KAAK,CAACe,cAAD,EAAiBmB,IAAjB,CAAzB;AACA,WAAKK,eAAL,GAAuBvC,KAAK,CAACe,cAAD,EAAiBoB,OAAjB,CAA5B;AACA,WAAKM,UAAL,GAAkBL,SAAlB;AACH;AArJL;AAAA;AAAA,8BAuJc;AACN,WAAKyB,kBAAL;;AACA,WAAKD,QAAL,GAAgB,IAAhB;AACH;AA1JL;;AAAA;AAAA,I,CA6JA;AACA;AACA;AACA;;AACA9B,SAAS,CAACmC,OAAV,GAAoBnC,SAApB,C,CAEA;;AACA,eAAeA,SAAf","sourcesContent":["const proxy = (a, b) => (e) => b(a(e));\n\nconst bind = (el, event, callback) =>\n    el.addEventListener && el.addEventListener(event, callback);\n\nconst unbind = (el, event, callback) =>\n    el && el.removeEventListener && el.removeEventListener(event, callback);\n\nconst noop = () => { /* empty */ };\n\nconst preventDefault = e => e.preventDefault();\n\nconst touchRegExp = /touch/;\n\n// 300ms is the usual mouse interval;\n// // However, an underpowered mobile device under a heavy load may queue mouse events for a longer period.\nconst IGNORE_MOUSE_TIMEOUT = 2000;\n\nfunction normalizeEvent(e) {\n    if (e.type.match(touchRegExp)) {\n        return {\n            pageX: e.changedTouches[0].pageX,\n            pageY: e.changedTouches[0].pageY,\n            clientX: e.changedTouches[0].clientX,\n            clientY: e.changedTouches[0].clientY,\n            type: e.type,\n            originalEvent: e,\n            isTouch: true\n        };\n    }\n\n    return {\n        pageX: e.pageX,\n        pageY: e.pageY,\n        clientX: e.clientX,\n        clientY: e.clientY,\n        offsetX: e.offsetX,\n        offsetY: e.offsetY,\n        type: e.type,\n        ctrlKey: e.ctrlKey,\n        shiftKey: e.shiftKey,\n        altKey: e.altKey,\n        originalEvent: e\n    };\n}\n\nexport class Draggable {\n    static supportPointerEvent() {\n        return (typeof window !== 'undefined') && window.PointerEvent;\n    }\n\n    constructor({ press = noop, drag = noop, release = noop, mouseOnly = false }) {\n        this._pressHandler = proxy(normalizeEvent, press);\n        this._dragHandler = proxy(normalizeEvent, drag);\n        this._releaseHandler = proxy(normalizeEvent, release);\n        this._ignoreMouse = false;\n        this._mouseOnly = mouseOnly;\n\n        this._touchstart = (e) => {\n            if (e.touches.length === 1) {\n                this._pressHandler(e);\n            }\n        };\n\n        this._touchmove = (e) => {\n            if (e.touches.length === 1) {\n                this._dragHandler(e);\n            }\n        };\n\n        this._touchend = (e) => {\n            // the last finger has been lifted, and the user is not doing gesture.\n            // there might be a better way to handle this.\n            if (e.touches.length === 0 && e.changedTouches.length === 1) {\n                this._releaseHandler(e);\n                this._ignoreMouse = true;\n                setTimeout(this._restoreMouse, IGNORE_MOUSE_TIMEOUT);\n            }\n        };\n\n        this._restoreMouse = () => {\n            this._ignoreMouse = false;\n        };\n\n        this._mousedown = (e) => {\n            const { which } = e;\n\n            if ((which && which > 1) || this._ignoreMouse) {\n                return;\n            }\n\n            bind(document, \"mousemove\", this._mousemove);\n            bind(document, \"mouseup\", this._mouseup);\n            this._pressHandler(e);\n        };\n\n        this._mousemove = (e) => {\n            this._dragHandler(e);\n        };\n\n        this._mouseup = (e) => {\n            unbind(document, \"mousemove\", this._mousemove);\n            unbind(document, \"mouseup\", this._mouseup);\n            this._releaseHandler(e);\n        };\n\n        this._pointerdown = (e) => {\n            if (e.isPrimary && e.button === 0) {\n                bind(document, \"pointermove\", this._pointermove);\n                bind(document, \"pointerup\", this._pointerup);\n                bind(document, \"pointercancel\", this._pointerup);\n                bind(document, \"contextmenu\", preventDefault);\n\n                this._pressHandler(e);\n            }\n        };\n\n        this._pointermove = (e) => {\n            if (e.isPrimary) {\n                this._dragHandler(e);\n            }\n        };\n\n        this._pointerup = (e) => {\n            if (e.isPrimary) {\n                unbind(document, \"pointermove\", this._pointermove);\n                unbind(document, \"pointerup\", this._pointerup);\n                unbind(document, \"pointercancel\", this._pointerup);\n                unbind(document, \"contextmenu\", preventDefault);\n\n                this._releaseHandler(e);\n            }\n        };\n    }\n\n    bindTo(element) {\n        if (element === this._element) {\n            return;\n        }\n\n        if (this._element) {\n            this._unbindFromCurrent();\n        }\n\n        this._element = element;\n        this._bindToCurrent();\n    }\n\n    _bindToCurrent() {\n        const element = this._element;\n\n        if (this._usePointers()) {\n            bind(element, \"pointerdown\", this._pointerdown);\n            return;\n        }\n\n        bind(element, \"mousedown\", this._mousedown);\n\n        if (!this._mouseOnly) {\n            bind(element, \"touchstart\", this._touchstart);\n            bind(element, \"touchmove\", this._touchmove);\n            bind(element, \"touchend\", this._touchend);\n        }\n    }\n\n    _unbindFromCurrent() {\n        const element = this._element;\n\n        if (this._usePointers()) {\n            unbind(element, \"pointerdown\", this._pointerdown);\n            unbind(document, \"pointermove\", this._pointermove);\n            unbind(document, \"pointerup\", this._pointerup);\n            unbind(document, \"contextmenu\", preventDefault);\n            unbind(document, \"pointercancel\", this._pointerup);\n            return;\n        }\n\n        unbind(element, \"mousedown\", this._mousedown);\n\n        if (!this._mouseOnly) {\n            unbind(element, \"touchstart\", this._touchstart);\n            unbind(element, \"touchmove\", this._touchmove);\n            unbind(element, \"touchend\", this._touchend);\n        }\n    }\n\n    _usePointers() {\n        return !this._mouseOnly && Draggable.supportPointerEvent();\n    }\n\n    update({ press = noop, drag = noop, release = noop, mouseOnly = false }) {\n        this._pressHandler = proxy(normalizeEvent, press);\n        this._dragHandler = proxy(normalizeEvent, drag);\n        this._releaseHandler = proxy(normalizeEvent, release);\n        this._mouseOnly = mouseOnly;\n    }\n\n    destroy() {\n        this._unbindFromCurrent();\n        this._element = null;\n    }\n}\n\n// Re-export as \"default\" field to address a bug\n// where the ES Module is imported by CommonJS code.\n//\n// See https://github.com/telerik/kendo-angular/issues/1314\nDraggable.default = Draggable;\n\n// Rollup won't output exports['default'] otherwise\nexport default Draggable;\n\n"]},"metadata":{},"sourceType":"module"}