{"version":3,"file":"ngx-tour-core.js","sources":["ngx-tour-core/lib/tour.service.ts","ngx-tour-core/lib/tour-hotkey-listener.component.ts","ngx-tour-core/lib/tour.module.ts"],"names":["mergeStatic"],"mappings":";;;;;;;;;;AAAA;AAAI;AAAW;;;;AAOf,0BAaC;AACD;AACY;AAGN,IAjBJ,6BAAgB;AAClB;AACU,IADR,+BAAkB;AACpB;AACa,IADX,4BAAe;AACjB;AACW,IADT,8BAAiB;AACnB;AAA+B,IAA7B,4BAA8B;AAChC;AACC,IADC,+BAA2B;AAC7B;AACC,IADC,+BAA2B;AAC7B;AACY,IADV,gCAAgB;AAClB;AACC,IADC,uCAA2B;AAC7B;AACM,IADJ,mCAAsB;AACxB;AACM,IADJ,mCAAsB;AACxB;AAGI,IAHF,kCAAqB;AACvB;AACA;AACqB;AAGjB,IAFF,MAAG;AACL,IAAE,KAAE;AACJ,IAAE,SAAM;AACP;AAEA;AACoB;AAAgC;AACxB;AAAI;AACjC;AAFA,MAAa,WAAW;AAAG;AAAQ;AAAyB;AACxD,IAsCF,YAAoB,MAAc;AAAI,QAAlB,WAAM,GAAN,MAAM,CAAQ;AAAC,QAtC5B,cAAS,GAAe,IAAI,OAAO,EAAE,CAAC;AAC/C,QAAS,cAAS,GAAe,IAAI,OAAO,EAAE,CAAC;AAC/C,QAAS,gBAAW,GAAiB,IAAI,OAAO,EAAE,CAAC;AACnD,QAAS,WAAM,GAAe,IAAI,OAAO,EAAE,CAAC;AAC5C,QAAS,SAAI,GAAiB,IAAI,OAAO,EAAE,CAAC;AAC5C,QAAS,WAAM,GAAe,IAAI,OAAO,EAAE,CAAC;AAC5C,QAAS,YAAO,GAAe,IAAI,OAAO,EAAE,CAAC;AAC7C,QAAS,oBAAe,GAAoB,IAAI,OAAO,EAAE,CAAC;AAC1D,QAAS,sBAAiB,GAAoB,IAAI,OAAO,EAAE,CAAC;AAC5D,QAAS,YAAO,GAA6CA,KAAW,CACpE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG;AAAM;AAA4B;AAC/C;AAAY,QADE,KAAK,KAAK,EAAE,IAAI,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,EAAC,CAAC,EAChE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG;AAAM;AAA4B;AAC/C;AAAY,QADE,KAAK,KAAK,EAAE,IAAI,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,EAAC,CAAC,EAChE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG;AAAM;AAA4B;AACnD;AAAY,QADM,KAAK,KAAK,EAAE,IAAI,EAAE,YAAY,EAAE,KAAK,EAAE,CAAC,EAAC,CAAC,EACpE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG;AAAM;AAA4B;AACzC;AAAY,QADJ,KAAK,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,EAAC,CAAC,EAC1D,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG;AAAM;AAA4B;AACrC;AAAY,QADR,KAAK,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,EAAC,CAAC,EACtD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG;AAAM;AAA4B;AACzC;AAAY,QADJ,KAAK,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,EAAC,CAAC,EAC1D,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG;AAAM;AAA4B;AAC3C;AAAY,QADF,KAAK,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,EAAC,CAAC,EAC5D,IAAI,CAAC,eAAe,CAAC,IAAI,CACvB,GAAG;AAAM;AACM;AACT;AAEZ,QAJU,KAAK,KAAK;AACpB,YAAQ,IAAI,EAAE,gBAAgB;AAC9B,YAAQ,KAAK;AACb,SAAO,CAAC,EAAC,CACJ,EACD,IAAI,CAAC,iBAAiB,CAAC,IAAI,CACzB,GAAG;AAAM;AACM;AACX;AACF,QAHE,KAAK,KAAK;AACpB,YAAQ,IAAI,EAAE,kBAAkB;AAChC,YAAQ,KAAK;AACb,SAAO,CAAC,EAAC,CACJ,CACF,CAAC;AACJ,QACS,UAAK,GAAQ,EAAE,CAAC;AACzB,QAES,YAAO,GAAgD,EAAE,CAAC;AACnE,QAAU,WAAM,GAAc,SAAS,CAAC,GAAG,CAAC;AAC5C,QAAU,qBAAgB,GAAG,IAAI,CAAC;AAClC,KACwC;AACxC;AACO;AAAwB;AAC1B;AAAmB;AAAQ,IADvB,UAAU,CAAC,KAAU,EAAE,YAAgB;AAAI,QAChD,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;AACnC,YAAM,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,GAAG,CAAC;AAClC,YAAM,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG;AAAM;AAA+B;AAClD;AAAgB,YADF,IAAI,IAAI,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,YAAY,EAAE,IAAI,CAAC,EAAC,CAAC;AAC5E,YAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACxC,SAAK;AACL,KAAG;AACH;AACO;AAAmB;AAC1B,IADS,cAAc;AAAK,QACxB,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;AAClC,KAAG;AACH;AACO;AAAmB;AACzB,IADQ,aAAa;AAAK,QACvB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;AACjC,KAAG;AACH;AACO;AACN;AAAQ,IADA,KAAK;AAAK,QACf,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;AACpB,KAAG;AACH;AACO;AAAyB;AAC/B;AAAQ,IADA,OAAO,CAAC,MAAuB;AAAI,QACxC,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,EAAE,CAAC;AAC/B,QAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;AACzC,QAAI,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;AACvB,QAAI,IAAI,CAAC,MAAM,CAAC,MAAM;AACtB,aAAO,IAAI,CAAC,MAAM;AAAM;AAA4B;AACjD;AAAY,QADI,KAAK,IAAI,KAAK,YAAY,eAAe,EAAC,EAAE,KAAK,EAAE,CAAC;AACvE,aAAO,SAAS;AAAM;AACF;AAAY,QADf;AACjB,YAAQ,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE;AAC1E,gBAAU,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;AAC1C,aAAS;AACT,SAAO,EAAC,CAAC;AACT,KAAG;AACH;AACO;AACJ;AAAQ,IADF,GAAG;AAAK,QACb,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,GAAG,CAAC;AAChC,QAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;AACpC,QAAI,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC;AACjC,QAAI,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;AACrB,KAAG;AACH;AACO;AACN;AAAQ,IADA,KAAK;AAAK,QACf,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC;AACnC,QAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;AACpC,QAAI,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;AACvB,KAAG;AACH;AACO;AACP;AAAQ,IADC,MAAM;AAAK,QAChB,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,EAAE,CAAC;AAC/B,QAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;AACpC,QAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;AACxB,KAAG;AACH;AACO;AAAyB;AACtB;AACT,IAFQ,MAAM,CAAC,KAAe;AAAI,QAC/B,IAAI,KAAK,EAAE;AACf,YAAM,IAAI,IAAI,CAAC,WAAW,EAAE;AAC5B,gBAAQ,IAAI,CAAC,KAAK,EAAE,CAAC;AACrB,aAAO;AAAC,iBAAK;AACb,gBAAQ,IAAI,CAAC,MAAM,EAAE,CAAC;AACtB,aAAO;AACP,SAAK;AAAC,aAAK;AACX,YAAM,IAAI,IAAI,CAAC,WAAW,EAAE;AAC5B,gBAAQ,IAAI,CAAC,GAAG,EAAE,CAAC;AACnB,aAAO;AAAC,iBAAK;AACb,gBAAQ,IAAI,CAAC,KAAK,EAAE,CAAC;AACrB,aAAO;AACP,SAAK;AACL,KAAG;AACH;AACO;AACL;AAAQ,IADD,IAAI;AAAK,QACd,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE;AACxC,YAAM,IAAI,CAAC,QAAQ,CACX,IAAI,CAAC,QAAQ,CACX,IAAI,CAAC,WAAW,CAAC,QAAQ,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CACtE,CACF,CAAC;AACR,SAAK;AACL,KAAG;AACH;AACO;AAAuB;AAClB;AACT,IAFM,OAAO,CAAC,IAAO;AAAI,QACxB,IAAI,CAAC,IAAI,EAAE;AACf,YAAM,OAAO,CAAC,IAAI,CAAC,uCAAuC,CAAC,CAAC;AAC5D,YAAM,OAAO,KAAK,CAAC;AACnB,SAAK;AACL,QAAI,QACE,IAAI,CAAC,QAAQ,KAAK,SAAS;AACjC,YAAM,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAChD;AACN,KAAG;AACH;AACO;AACL;AAAQ,IADD,IAAI;AAAK,QACd,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE;AACxC,YAAM,IAAI,CAAC,QAAQ,CACX,IAAI,CAAC,QAAQ,CACX,IAAI,CAAC,WAAW,CAAC,QAAQ,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CACtE,CACF,CAAC;AACR,SAAK;AACL,KAAG;AACH;AACO;AAAuB;AAClB;AACT,IAFM,OAAO,CAAC,IAAO;AAAI,QACxB,IAAI,CAAC,IAAI,EAAE;AACf,YAAM,OAAO,CAAC,IAAI,CAAC,2CAA2C,CAAC,CAAC;AAChE,YAAM,OAAO,KAAK,CAAC;AACnB,SAAK;AACL,QAAI,OAAO,IAAI,CAAC,QAAQ,KAAK,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACvE,KAAG;AACH;AACO;AAAyB;AAC5B;AAAQ,IADH,IAAI,CAAC,MAAuB;AAAI,QACrC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;AACzC,KAAG;AACH;AACO;AAA2B;AAAyB;AACtD;AAAQ,IADJ,QAAQ,CAAC,QAAgB,EAAE,MAA2B;AAAI,QAC/D,IAAI,CAAC,QAAQ;AACjB,YAAM,OAAO;AACb,QAAI,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;AAChC,YAAM,MAAM,IAAI,KAAK,CAAC,WAAW,GAAG,QAAQ,GAAG,sBAAsB,CAAC,CAAC;AACvE,SAAK;AACL,QAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,MAAM,CAAC;AACpC,QAAI,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AACxC,KAAG;AACH;AACO;AAA2B;AAC3B;AAAQ,IADN,UAAU,CAAC,QAAgB;AAAI,QACpC,IAAI,CAAC,QAAQ;AACjB,YAAM,OAAO;AACb,QAAI,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;AAClC,QAAI,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AAC1C,KAAG;AACH;AACO;AAAmB;AAC1B,IADS,SAAS;AAAK,QACnB,OAAO,IAAI,CAAC,MAAM,CAAC;AACvB,KAAG;AACH;AACO;AAAmB;AAAQ,IAAzB,gBAAgB;AAAK,QAC1B,OAAO,IAAI,CAAC,gBAAgB,CAAC;AACjC,KAAG;AACH;AACO;AAAgB;AACb;AACE;AAAQ,IAFV,QAAQ,CAAC,IAAO;AAAI,QAC1B,IAAI,CAAC,IAAI,EAAE;AACf,YAAM,OAAO,CAAC,IAAI,CAAC,gCAAgC,CAAC,CAAC;AACrD,YAAM,IAAI,CAAC,GAAG,EAAE,CAAC;AACjB,YAAM,OAAO;AACb,SAAK;AACL;AAAyB,YAAjB,eAAe,GAAqB,IAAI,OAAO;AAAM;AAEzD;AACgB;AAAY,QAHwB,OAAO,IACzD,OAAO,CAAC,IAAI,CAAC,EACd;AACL,QAAI,IAAI,IAAI,CAAC,KAAK,KAAK,SAAS,IAAI,OAAO,IAAI,CAAC,KAAK,KAAK,QAAQ,EAAE;AACpE,YAAM,eAAe,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAC9D,SAAK;AAAC,aAAK,IAAI,IAAI,CAAC,KAAK,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;AACxD,YAAM,eAAe,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACzD,SAAK;AACL,QAAI,eAAe,CAAC,IAAI;AAAM;AACR;AACV;AAAY,QAFC,SAAS;AAClC,YAAM,IAAI,SAAS,KAAK,KAAK,EAAE;AAC/B,gBAAQ,UAAU;AAAM;AACtB;AAID,gBALkB,MAAM,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAC,CAAC;AACpD,aAAO;AACP,SAAK,EAAC,CAAC;AACP,KAAG;AACH;AACO;AAAgB;AAAyB;AAC9B;AAAQ,IADhB,QAAQ,CAAC,MAAuB;AAAI,QAC1C,IAAI,OAAO,MAAM,KAAK,QAAQ,EAAE;AACpC,YAAM,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;AAChC,SAAK;AAAC,aAAK;AACX,YAAM,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI;AAAM;AAC/B;AAGgB;AAAgB,YAJN,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,MAAM,EAAC,CAAC;AAC7D,SAAK;AACL,KAAG;AACH;AACO;AAAgB;AACnB;AAAmB;AACpB,IAFO,cAAc,CAAC,IAAO;AAAI,QAChC,IAAI,IAAI,CAAC,WAAW,EAAE;AAC1B,YAAM,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;AACtC,SAAK;AACL,QAAI,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;AAC5B,QAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;AACpC,QAAI,IAAI,CAAC,MAAM,CAAC,MAAM;AACtB,aAAO,IAAI,CAAC,MAAM;AAAM;AAA4B;AACjD;AAAY,QADI,KAAK,IAAI,KAAK,YAAY,eAAe,EAAC,EAAE,KAAK,EAAE,CAAC;AACvE,aAAO,SAAS;AAAM;AACF;AAAuB;AAAY,QADtC,CAAC,KAAK;AACvB,YAAQ,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE;AAC1E,gBAAU,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;AAC1C,aAAS;AACT,SAAO,EAAC,CAAC;AACT,KAAG;AACH;AACO;AAAgB;AACb;AAAmB;AAAQ,IAD3B,QAAQ,CAAC,IAAO;AAAI;AACX,cAAT,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC,QAAQ,CAAC;AACtD,QAAI,IAAI,CAAC,MAAM,EAAE;AACjB,YAAM,OAAO,CAAC,IAAI,CACV,+CAA+C,GAAG,IAAI,CAAC,QAAQ,CAChE,CAAC;AACR,YAAM,IAAI,CAAC,GAAG,EAAE,CAAC;AACjB,YAAM,OAAO;AACb,SAAK;AACL,QAAI,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;AAC9B,QAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC9B,KAAG;AACH;AACO;AAAgB;AACb;AAAmB;AAAQ,IAD3B,QAAQ,CAAC,IAAO;AAAI;AACX,cAAT,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC,QAAQ,CAAC;AACtD,QAAI,IAAI,CAAC,MAAM,EAAE;AACjB,YAAM,OAAO;AACb,SAAK;AACL,QAAI,MAAM,CAAC,YAAY,EAAE,CAAC;AAC1B,QAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC9B,KAAG;AACH;uCAnPC,UAAU;iGACT;AAAC;AAAmB;AAAqC,YA5BjC,MAAM;AAAG;;;gEAAE;AAAC;AAAa;AAEnD,IA2BE,gCAA6C;AAC/C;AAAqB,IAAnB,gCAA6C;AAC/C;AAAqB,IAAnB,kCAAiD;AACnD;AAAqB,IAAnB,6BAA0C;AAC5C;AAAqB,IAAnB,2BAA0C;AAC5C;AAAqB,IAAnB,6BAA0C;AAC5C;AAAqB,IAAnB,8BAA2C;AAC7C;AAAqB,IAAnB,sCAAwD;AAC1D;AAAqB,IAAnB,wCAA0D;AAC5D;AAAqB,IAAnB,8BAoBE;AACJ;AACoB,IAAlB,4BAAuB;AACzB;AAAqB,IAAnB,kCAAsB;AACxB;AACoB,IAAlB,8BAAiE;AACnE;AAAQ;AAAiB;AAAgB;AACrC,IADF,6BAA0C;AAC5C;AAAQ;AAAiB;AAEpB;AAAQ,IAFX,uCAAgC;AAClC;AACO;AAAiB;AAAgB;AAElC,IAFQ,6BAAsB;AAAC;AAAE;AAAC;AAEtC;AAAkC;AAGI;ACzExC,MAQa,2BAA2B;AACxC;AAAQ;AAA8B;AAAQ,IAA5C,YAAmB,WAAwB;AAAI,QAA5B,gBAAW,GAAX,WAAW,CAAa;AAAC,KAAG;AACjD;AAEC;AACE;AACa;AAAQ,IACf,WAAW;AAAK,QACrB,IACE,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,KAAK,SAAS,CAAC,EAAE;AACnD,YAAM,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,EACnC;AACN,YAAM,IAAI,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC;AAC7B,SAAK;AACL,KAAG;AACH;AACO;AAAmB;AAAQ,IACzB,eAAe;AAAK,QACzB,IACE,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,KAAK,SAAS,CAAC,EAAE;AACnD,YAAM,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC;AAC5D,YAAM,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,EACnC;AACN,YAAM,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;AAC9B,SAAK;AACL,KAAG;AACH;AACO;AAAmB;AAAQ,IACzB,cAAc;AAAK,QACxB,IACE,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,KAAK,SAAS,CAAC,EAAE;AACnD,YAAM,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC;AAC5D,YAAM,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,EACnC;AACN,YAAM,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;AAC9B,SAAK;AACL,KAAG;AACH;uDAzCC,SAAS,SAAC,kBACT,QAAQ,EAAE,sBAAsB,kBAChC,QAAQ,EAAE;IAA2B,cACtC;;;;;6BACG;AAAC;AAAmB;AACU,YAPzB,WAAW;AAAG;AAAG;AAGxB,0BASC,YAAY,SAAC,uBAAuB;AAClC,8BASF,YAAY,SAAC,2BAA2B;AACtC,6BAUF,YAAY,SAAC,0BAA0B;AACtC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oBAAE;AAAC;AAAa;AACb,IA5BO,kDAA+B;AAAC;AAAE;AAAC;AAE/C;AAC4B;AAKrB;ACjBT,MAYa,UAAU;AACvB;AAAQ;AAAmB;AAAQ,IAAxB,OAAO,OAAO;AAAK,QACtB,OAAO;AACf,YAAY,QAAQ,EAAE,UAAU;AAChC,YAAY,SAAS,EAAE;AACvB,gBAAgB,WAAW;AAC3B,aAAa;AACb,SAAS,CAAC;AACV,KAAK;AACL;sCAdC,QAAQ,SAAC;QACN,YAAY,EAAE,CAAC,2BAA2B,CAAC,kBAC3C,OAAO,EAAE,CAAC,2BAA2B,CAAC,kBACtC,OAAO,EAAE,CAAC,YAAY,EAAE,YAAY,CAAC;YACxC;;;;;;;;0BACI;AASJ,CAAC;AACF;AACA;AAAI;AACU;AAAsI;AAAI;AAAC;AAAI;AAAkC;AAAsI;AAAI;AAAC;AAA4E","sourcesContent":["import { Injectable } from '@angular/core';\nimport { NavigationStart, Router, UrlSegment } from '@angular/router';\n\nimport { TourAnchorDirective } from './tour-anchor.directive';\nimport { Subject, Observable, merge as mergeStatic } from 'rxjs';\nimport { first, map, filter } from 'rxjs/operators';\n\nexport interface IStepOption {\n  stepId?: string;\n  anchorId?: string;\n  title?: string;\n  content?: string;\n  route?: string | UrlSegment[];\n  nextStep?: number | string;\n  prevStep?: number | string;\n  placement?: any;\n  preventScrolling?: boolean;\n  prevBtnTitle?: string;\n  nextBtnTitle?: string;\n  endBtnTitle?: string;\n}\n\nexport enum TourState {\n  OFF,\n  ON,\n  PAUSED\n}\n\n@Injectable()\nexport class TourService<T extends IStepOption = IStepOption> {\n  public stepShow$: Subject<T> = new Subject();\n  public stepHide$: Subject<T> = new Subject();\n  public initialize$: Subject<T[]> = new Subject();\n  public start$: Subject<T> = new Subject();\n  public end$: Subject<any> = new Subject();\n  public pause$: Subject<T> = new Subject();\n  public resume$: Subject<T> = new Subject();\n  public anchorRegister$: Subject<string> = new Subject();\n  public anchorUnregister$: Subject<string> = new Subject();\n  public events$: Observable<{ name: string; value: any }> = mergeStatic(\n    this.stepShow$.pipe(map(value => ({ name: 'stepShow', value }))),\n    this.stepHide$.pipe(map(value => ({ name: 'stepHide', value }))),\n    this.initialize$.pipe(map(value => ({ name: 'initialize', value }))),\n    this.start$.pipe(map(value => ({ name: 'start', value }))),\n    this.end$.pipe(map(value => ({ name: 'end', value }))),\n    this.pause$.pipe(map(value => ({ name: 'pause', value }))),\n    this.resume$.pipe(map(value => ({ name: 'resume', value }))),\n    this.anchorRegister$.pipe(\n      map(value => ({\n        name: 'anchorRegister',\n        value\n      }))\n    ),\n    this.anchorUnregister$.pipe(\n      map(value => ({\n        name: 'anchorUnregister',\n        value\n      }))\n    )\n  );\n\n  public steps: T[] = [];\n  public currentStep: T;\n\n  public anchors: { [anchorId: string]: TourAnchorDirective } = {};\n  private status: TourState = TourState.OFF;\n  private isHotKeysEnabled = true;\n\n  constructor(private router: Router) {}\n\n  public initialize(steps: T[], stepDefaults?: T): void {\n    if (steps && steps.length > 0) {\n      this.status = TourState.OFF;\n      this.steps = steps.map(step => Object.assign({}, stepDefaults, step));\n      this.initialize$.next(this.steps);\n    }\n  }\n\n  public disableHotkeys(): void {\n    this.isHotKeysEnabled = false;\n  }\n\n  public enableHotkeys(): void {\n    this.isHotKeysEnabled = true;\n  }\n\n  public start(): void {\n    this.startAt(0);\n  }\n\n  public startAt(stepId: number | string): void {\n    this.status = TourState.ON;\n    this.goToStep(this.loadStep(stepId));\n    this.start$.next();\n    this.router.events\n      .pipe(filter(event => event instanceof NavigationStart), first())\n      .subscribe(() => {\n        if (this.currentStep && this.currentStep.hasOwnProperty('route')) {\n          this.hideStep(this.currentStep);\n        }\n      });\n  }\n\n  public end(): void {\n    this.status = TourState.OFF;\n    this.hideStep(this.currentStep);\n    this.currentStep = undefined;\n    this.end$.next();\n  }\n\n  public pause(): void {\n    this.status = TourState.PAUSED;\n    this.hideStep(this.currentStep);\n    this.pause$.next();\n  }\n\n  public resume(): void {\n    this.status = TourState.ON;\n    this.showStep(this.currentStep);\n    this.resume$.next();\n  }\n\n  public toggle(pause?: boolean): void {\n    if (pause) {\n      if (this.currentStep) {\n        this.pause();\n      } else {\n        this.resume();\n      }\n    } else {\n      if (this.currentStep) {\n        this.end();\n      } else {\n        this.start();\n      }\n    }\n  }\n\n  public next(): void {\n    if (this.hasNext(this.currentStep)) {\n      this.goToStep(\n        this.loadStep(\n          this.currentStep.nextStep || this.steps.indexOf(this.currentStep) + 1\n        )\n      );\n    }\n  }\n\n  public hasNext(step: T): boolean {\n    if (!step) {\n      console.warn('Can\\'t get next step. No currentStep.');\n      return false;\n    }\n    return (\n      step.nextStep !== undefined ||\n      this.steps.indexOf(step) < this.steps.length - 1\n    );\n  }\n\n  public prev(): void {\n    if (this.hasPrev(this.currentStep)) {\n      this.goToStep(\n        this.loadStep(\n          this.currentStep.prevStep || this.steps.indexOf(this.currentStep) - 1\n        )\n      );\n    }\n  }\n\n  public hasPrev(step: T): boolean {\n    if (!step) {\n      console.warn('Can\\'t get previous step. No currentStep.');\n      return false;\n    }\n    return step.prevStep !== undefined || this.steps.indexOf(step) > 0;\n  }\n\n  public goto(stepId: number | string): void {\n    this.goToStep(this.loadStep(stepId));\n  }\n\n  public register(anchorId: string, anchor: TourAnchorDirective): void {\n    if (!anchorId)\n      return;\n    if (this.anchors[anchorId]) {\n      throw new Error('anchorId ' + anchorId + ' already registered!');\n    }\n    this.anchors[anchorId] = anchor;\n    this.anchorRegister$.next(anchorId);\n  }\n\n  public unregister(anchorId: string): void {\n    if (!anchorId)\n      return;\n    delete this.anchors[anchorId];\n    this.anchorUnregister$.next(anchorId);\n  }\n\n  public getStatus(): TourState {\n    return this.status;\n  }\n\n  public isHotkeysEnabled(): boolean {\n    return this.isHotKeysEnabled;\n  }\n\n  private goToStep(step: T): void {\n    if (!step) {\n      console.warn('Can\\'t go to non-existent step');\n      this.end();\n      return;\n    }\n    let navigatePromise: Promise<boolean> = new Promise(resolve =>\n      resolve(true)\n    );\n    if (step.route !== undefined && typeof step.route === 'string') {\n      navigatePromise = this.router.navigateByUrl(step.route);\n    } else if (step.route && Array.isArray(step.route)) {\n      navigatePromise = this.router.navigate(step.route);\n    }\n    navigatePromise.then(navigated => {\n      if (navigated !== false) {\n        setTimeout(() => this.setCurrentStep(step));\n      }\n    });\n  }\n\n  private loadStep(stepId: number | string): T {\n    if (typeof stepId === 'number') {\n      return this.steps[stepId];\n    } else {\n      return this.steps.find(step => step.stepId === stepId);\n    }\n  }\n\n  private setCurrentStep(step: T): void {\n    if (this.currentStep) {\n      this.hideStep(this.currentStep);\n    }\n    this.currentStep = step;\n    this.showStep(this.currentStep);\n    this.router.events\n      .pipe(filter(event => event instanceof NavigationStart), first())\n      .subscribe((event) => {\n        if (this.currentStep && this.currentStep.hasOwnProperty('route')) {\n          this.hideStep(this.currentStep);\n        }\n      });\n  }\n\n  private showStep(step: T): void {\n    const anchor = this.anchors[step && step.anchorId];\n    if (!anchor) {\n      console.warn(\n        'Can\\'t attach to unregistered anchor with id ' + step.anchorId\n      );\n      this.end();\n      return;\n    }\n    anchor.showTourStep(step);\n    this.stepShow$.next(step);\n  }\n\n  private hideStep(step: T): void {\n    const anchor = this.anchors[step && step.anchorId];\n    if (!anchor) {\n      return;\n    }\n    anchor.hideTourStep();\n    this.stepHide$.next(step);\n  }\n}\n","import { Component, HostListener } from '@angular/core';\n\nimport { TourService, TourState } from './tour.service';\n\n@Component({\n  selector: 'tour-hotkey-listener',\n  template: `<ng-content></ng-content>`\n})\nexport class TourHotkeyListenerComponent {\n  constructor(public tourService: TourService) {}\n\n  /**\n   * Configures hot keys for controlling the tour with the keyboard\n   */\n  @HostListener('window:keydown.Escape')\n  public onEscapeKey(): void {\n    if (\n      this.tourService.getStatus() === TourState.ON &&\n      this.tourService.isHotkeysEnabled()\n    ) {\n      this.tourService.end();\n    }\n  }\n\n  @HostListener('window:keydown.ArrowRight')\n  public onArrowRightKey(): void {\n    if (\n      this.tourService.getStatus() === TourState.ON &&\n      this.tourService.hasNext(this.tourService.currentStep) &&\n      this.tourService.isHotkeysEnabled()\n    ) {\n      this.tourService.next();\n    }\n  }\n\n  @HostListener('window:keydown.ArrowLeft')\n  public onArrowLeftKey(): void {\n    if (\n      this.tourService.getStatus() === TourState.ON &&\n      this.tourService.hasPrev(this.tourService.currentStep) &&\n      this.tourService.isHotkeysEnabled()\n    ) {\n      this.tourService.prev();\n    }\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { ModuleWithProviders, NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\n\nimport { TourHotkeyListenerComponent } from './tour-hotkey-listener.component';\nimport { TourService } from './tour.service';\n\n@NgModule({\n    declarations: [TourHotkeyListenerComponent],\n    exports: [TourHotkeyListenerComponent],\n    imports: [CommonModule, RouterModule],\n})\nexport class TourModule {\n    public static forRoot(): ModuleWithProviders {\n        return {\n            ngModule: TourModule,\n            providers: [\n                TourService,\n            ],\n        };\n    }\n};\n\nexport { TourService };\n"]}