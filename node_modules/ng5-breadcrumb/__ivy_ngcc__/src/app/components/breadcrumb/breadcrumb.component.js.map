{"version":3,"file":"breadcrumb.component.js","sources":["../../../../../src/app/components/breadcrumb/breadcrumb.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {Component, Input, OnInit, OnChanges} from '@angular/core';\nimport {Router, NavigationEnd} from '@angular/router';\nimport {BreadcrumbService} from './breadcrumb.service';\n\n/**\n * This component shows a breadcrumb trail for available routes the router can navigate to.\n * It subscribes to the router in order to update the breadcrumb trail as you navigate to a component.\n */\n@Component({\n    selector: 'breadcrumb',\n    template: `\n        <ul [class.breadcrumb]=\"useBootstrap\">\n            <li *ngFor=\"let url of _urls; let last = last\" [ngClass]=\"{'breadcrumb-item': useBootstrap, 'active': last}\"> <!-- disable link of last item -->\n                <a role=\"button\" *ngIf=\"!last && url == prefix\" (click)=\"navigateTo('/')\">{{url}}</a>\n                <a role=\"button\" *ngIf=\"!last && url != prefix\" (click)=\"navigateTo(url)\">{{friendlyName(url)}}</a>\n                <span *ngIf=\"last\">{{friendlyName(url)}}</span>\n                <span *ngIf=\"last && url == prefix\">{{friendlyName('/')}}</span>\n            </li>\n        </ul>\n    `\n})\nexport class BreadcrumbComponent implements OnInit, OnChanges {\n    @Input() useBootstrap: boolean = true;\n    @Input() prefix:       string  = '';\n\n    public _urls: string[];\n    public _routerSubscription: any;\n\n    constructor(\n        private router: Router,\n        private breadcrumbService: BreadcrumbService\n    ) {}\n\n    ngOnInit(): void {\n        this._urls = new Array();\n\n        if (this.prefix.length > 0) {\n            this._urls.unshift(this.prefix);\n        }\n\n        this._routerSubscription = this.router.events.subscribe((navigationEnd:NavigationEnd) => {\n\n           if (navigationEnd instanceof NavigationEnd) {\n                this._urls.length = 0; //Fastest way to clear out array\n                this.generateBreadcrumbTrail(navigationEnd.urlAfterRedirects ? navigationEnd.urlAfterRedirects : navigationEnd.url);\n            }\n        });\n    }\n\n    ngOnChanges(changes: any): void {\n        if (!this._urls) {\n            return;\n        }\n\n        this._urls.length = 0;\n        this.generateBreadcrumbTrail(this.router.url);\n    }\n\n    generateBreadcrumbTrail(url: string): void {\n        if (!this.breadcrumbService.isRouteHidden(url)) {\n            //Add url to beginning of array (since the url is being recursively broken down from full url to its parent)\n            this._urls.unshift(url);\n        }\n\n        if (url.lastIndexOf('/') > 0) {\n            this.generateBreadcrumbTrail(url.substr(0, url.lastIndexOf('/'))); //Find last '/' and add everything before it as a parent route\n        } else if (this.prefix.length > 0) {\n            this._urls.unshift(this.prefix);\n        }\n    }\n\n    navigateTo(url: string): void {\n        this.router.navigateByUrl(url);\n    }\n\n    friendlyName(url: string): string {\n        return !url ? '' : this.breadcrumbService.getFriendlyNameForRoute(url);\n    }\n\n    ngOnDestroy(): void {\n        this._routerSubscription.unsubscribe();\n    }\n\n}\n"]}